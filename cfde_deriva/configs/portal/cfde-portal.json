{
   "profile": "tabular-data-package",
   "name": "c2m2_portal_etl_specs",
   "title": "Subset of transformed C2M2 model with basic data-warehouse techniques and portal UI hints",
   "deriva": {
      "indexing_preferences": {
         "btree": false,
         "trgm": false
      },
      "display": {
         "hide_row_count": {
            "*": true
         }
      }
   },
   "resources": [

      {
         "profile": "tabular-data-resource",
         "name": "id_namespace",
         "title": "ID Namespace",
         "description": "INTERNAL CV: Dictionary of CFDE-generated identifier namespaces corresponding to top-level C2M2 metadatasets",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this identifier namespace in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "id",
                  "description": "A globally unique ID representing this identifier namespace",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "abbreviation",
                  "description": "A very short display label for this identifier namespace",
                  "type": "string",
                  "constraints": {
                     "pattern": "^[a-zA-Z0-9_]+$"
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this identifier namespace",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this identifier namespace",
                  "type": "string"
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "table_config": {
               "stable_key_columns": ["id"]
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_core_fact": {
                     "source": [
                        {"inbound": ["CFDE", "core_fact_id_namespace_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files defined in this ID namespace.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "file_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples defined in this ID namespace.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "biosample_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects defined in this ID namespace.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "subject_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections defined in this ID namespace.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "collection_core_fact_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "abbreviation",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "assay_type",
         "title": "Assay Type",
         "description": "List of Ontology for Biomedical Investigations (OBI) CV terms used in this dataset to describe types of experiment that generate results stored in files",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this assay_type in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "id",
                  "description": "An OBI CV term",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true,
                     "pattern": "^OBI:[0-9]+$"
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this OBI term",
                  "type": "string",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "is_slim",
                  "description": "Boolean true when this term is designated as a slim-term by the CFDE-CC.",
                  "type": "boolean",
                  "default": false,
                  "constraint": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["is_slim", "nid"],
                        "trgm": false
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this OBI term",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "synonyms",
                  "description": "A list of human-readable synonyms for this term",
                  "type": "array",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "resource_markdown",
                  "title": "Resources",
                  "description": "External resource information registered with the CFDE-CC",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "acls": {
               "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
            },
            "immutable": true,
            "table_config": {
               "stable_key_columns": ["id"],
               "user_favorites": {
                  "storage_table": {
                     "catalog": "registry",
                     "schema": "CFDE",
                     "table": "favorite_assay_type",
                     "favorited_key_columns": ["assay_type"],
                     "user_id_column": "user_id"
                  }
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_core_fact": {
                     "source": [
                        {"inbound": ["CFDE", "core_fact_assay_type_assay_type_fkey"]},
                        {"outbound": ["CFDE", "core_fact_assay_type_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples referencing this assay type.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "biosample_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects referencing this assay type.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "subject_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections referencing this assay type.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "collection_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files referencing this assay type.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "file_core_fact_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description",
                  {"source": "resource_markdown", "hide_column_header": true}
               ],
               "compact": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_file"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "sample_prep_method",
         "title": "Sample Prep Method",
         "description": "List of Ontology for Biomedical Investigations (OBI) CV terms used to describe types of preparation methods that produce C2M2 biosamples",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this sample_prep_method in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "id",
                  "description": "An OBI CV term",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this OBI term",
                  "type": "string",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this OBI term",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "synonyms",
                  "description": "A list of synonyms for this term as identified by the OBI metadata",
                  "type": "array",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "resource_markdown",
                  "description": "External resource information pre-formatted as markdown",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "acls": {
               "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
            },
            "immutable": true,
            "table_config": {
               "stable_key_columns": ["id"],
               "user_favorites_disabled": {
                  "storage_table": {
                     "catalog": "registry",
                     "schema": "CFDE",
                     "table": "favorite_sample_prep_method",
                     "favorited_key_columns": ["sample_prep_method"],
                     "user_id_column": "user_id"
                  }
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_core_fact": {
                     "source": [
                        {"inbound": ["CFDE", "core_fact_sample_prep_method_sample_prep_method_fkey"]},
                        {"outbound": ["CFDE", "core_fact_sample_prep_method_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples referencing this sample prep method.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "biosample_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects referencing this sample prep method.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "subject_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections referencing this sample prep method.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "collection_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files referencing this sample prep method.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "file_core_fact_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description",
                  {"source": "resource_markdown", "hide_column_header": true}
               ],
               "compact": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_biosample"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "analysis_type",
         "title": "Analysis Type",
         "description": "List of Ontology for Biomedical Investigations (OBI) CV terms used to describe analytic methods that generate C2M2 files",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this analysis_type in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "id",
                  "description": "An OBI CV term",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this OBI term",
                  "type": "string",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this OBI term",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "synonyms",
                  "description": "A list of synonyms for this term as identified by the OBI metadata",
                  "type": "array",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "resource_markdown",
                  "title": "Resources",
                  "description": "External resource information registered with the CFDE-CC",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "acls": {
               "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
            },
            "immutable": true,
             "table_config": {
               "stable_key_columns": ["id"],
               "user_favorites": {
                  "storage_table": {
                     "catalog": "registry",
                     "schema": "CFDE",
                     "table": "favorite_analysis_type",
                     "favorited_key_columns": ["analysis_type"],
                     "user_id_column": "user_id"
                  }
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_core_fact": {
                     "source": [
                        {"inbound": ["CFDE", "core_fact_analysis_type_assay_type_fkey"]},
                        {"outbound": ["CFDE", "core_fact_analysis_type_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples referencing this analysis type.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "biosample_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects referencing this analysis type.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "subject_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Cllections referencing this analysis type.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "collection_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files referencing this analysis type.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "file_core_fact_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description",
                  {"source": "resource_markdown", "hide_column_header": true}
               ],
               "compact": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_file"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "ncbi_taxonomy",
         "title": "NCBI Taxonomy",
         "description": "List of NCBI Taxonomy Database IDs identifying taxa used to describe subjects in this dataset",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this taxon in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "id",
                  "description": "An NCBI Taxonomy Database ID identifying a particular taxon",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true,
                     "pattern": "^NCBI:txid[0-9]+$"
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "clade",
                  "description": "The phylogenetic level (e.g. species, genus) assigned to this taxon (use 'no rank' if not defined)",
                  "type": "string",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this taxon",
                  "type": "string",
                  "constraint": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "is_slim",
                  "description": "Boolean true when this term is designated as a slim-term by the CFDE-CC.",
                  "type": "boolean",
                  "default": false,
                  "constraint": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["is_slim", "nid"],
                        "trgm": false
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this taxon",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "synonyms",
                  "description": "A list of human-readable synonyms for this term",
                  "type": "array",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "resource_markdown",
                  "title": "Resources",
                  "description": "External resource information registered with the CFDE-CC",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "acls": {
               "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
            },
            "immutable": true,
            "table_config": {
               "stable_key_columns": ["id"],
               "user_favorites": {
                  "storage_table": {
                     "catalog": "registry",
                     "schema": "CFDE",
                     "table": "favorite_ncbi_taxonomy",
                     "favorited_key_columns": ["ncbi_taxonomy"],
                     "user_id_column": "user_id"
                  }
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_core_fact": {
                     "source": [
                        {"inbound": ["CFDE", "core_fact_ncbi_taxonomy_ncbi_taxon_fkey"]},
                        {"outbound": ["CFDE", "core_fact_ncbi_taxonomy_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects referencing this taxon.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "subject_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples referencing this taxon.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "biosample_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections referencing this taxon.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "collection_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files referencing this taxon.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "file_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection_assoc": {
                     "markdown_name": "Collection",
                     "comment": "Collections directly linked to this term.",
                     "source": [
                        {"inbound": ["CFDE", "collection_taxonomy_taxon_fkey"]},
                        {"outbound": ["CFDE", "collection_taxonomy_collection_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "clade",
                  "description",
                  {"source": "resource_markdown", "hide_column_header": true}
               ],
               "compact": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_collection_assoc"},
                  {"sourcekey": "S_subject"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "anatomy",
         "title": "Anatomy",
         "description": "List of Uber-anatomy ontology (Uberon) CV terms used in this dataset to locate the origin of a biosample within the physiology of its source or host organism",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this anatomy in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "id",
                  "description": "An Uberon CV term",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true,
                     "pattern": "^UBERON:[0-9]+$"
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this Uberon term",
                  "type": "string",
                  "constraint": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "is_slim",
                  "description": "Boolean true when this term is designated as a slim-term by the CFDE-CC.",
                  "type": "boolean",
                  "default": false,
                  "constraint": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["is_slim", "nid"],
                        "trgm": false
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this Uberon term",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "synonyms",
                  "description": "A list of human-readable synonyms for this term",
                  "type": "array",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "resource_markdown",
                  "title": "Resources",
                  "description": "External resource information registered with the CFDE-CC",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "acls": {
               "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
            },
            "immutable": true,
            "table_config": {
               "stable_key_columns": ["id"],
               "user_favorites": {
                  "storage_table": {
                     "catalog": "registry",
                     "schema": "CFDE",
                     "table": "favorite_anatomy",
                     "favorited_key_columns": ["anatomy"],
                     "user_id_column": "user_id"
                  }
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_core_fact": {
                     "source": [
                        {"inbound": ["CFDE", "core_fact_anatomy_anatomy_fkey"]},
                        {"outbound": ["CFDE", "core_fact_anatomy_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples referencing this anatomical term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "biosample_core_fact_fkey"]},
                        "nid"
                     ],
                     "entity": true
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects referencing this anatomical term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "subject_core_fact_fkey"]},
                        "nid"
                     ],
                     "entity": true
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections referencing this anatomical term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "collection_core_fact_fkey"]},
                        "nid"
                     ],
                     "entity": true
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files referencing this anatomical term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "file_core_fact_fkey"]},
                        "nid"
                     ],
                     "entity": true
                  },
                  "S_collection_assoc": {
                     "markdown_name": "Collection",
                     "comment": "Collections directly linked to this term.",
                     "source": [
                        {"inbound": ["CFDE", "collection_anatomy_anatomy_fkey"]},
                        {"outbound": ["CFDE", "collection_anatomy_collection_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description",
                  {"source": "resource_markdown", "hide_column_header": true}
               ],
               "compact": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_collection_assoc"},
                  {"sourcekey": "S_biosample"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "file_format",
         "title": "File Format",
         "description": "List of EDAM CV 'format:' terms used to describe formats of files in this dataset",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this file_format in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "id",
                  "description": "An EDAM CV format term",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true,
                     "pattern": "^format:[0-9]+$"
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this EDAM format term",
                  "type": "string",
                  "constraint": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "is_slim",
                  "description": "Boolean true when this term is designated as a slim-term by the CFDE-CC.",
                  "type": "boolean",
                  "default": false,
                  "constraint": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["is_slim", "nid"],
                        "trgm": false
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this EDAM format term",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "synonyms",
                  "description": "A list of human-readable synonyms for this term",
                  "type": "array",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "resource_markdown",
                  "title": "Resources",
                  "description": "External resource information registered with the CFDE-CC",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "acls": {
               "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
            },
            "immutable": true,
            "table_config": {
               "stable_key_columns": ["id"],
               "user_favorites": {
                  "storage_table": {
                     "catalog": "registry",
                     "schema": "CFDE",
                     "table": "favorite_file_format",
                     "favorited_key_columns": ["file_format"],
                     "user_id_column": "user_id"
                  }
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_core_fact": {
                     "source": [
                        {"inbound": ["CFDE", "core_fact_file_format_file_format_fkey"]},
                        {"outbound": ["CFDE", "core_fact_file_format_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects referencing this format.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "subject_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples referencing this format.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "biosample_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files referencing this format.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "file_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections referencing this format.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "collection_core_fact_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description",
                  {"source": "resource_markdown", "hide_column_header": true}
               ],
               "compact": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_file"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "data_type",
         "title": "Data Type",
         "description": "List of EDAM CV 'data:' terms used to describe data in files in this dataset",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this data_type in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "id",
                  "description": "An EDAM CV data term",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true,
                     "pattern": "^data:[0-9]+$"
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this EDAM data term",
                  "type": "string",
                  "constraint": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "is_slim",
                  "description": "Boolean true when this term is designated as a slim-term by the CFDE-CC.",
                  "type": "boolean",
                  "default": false,
                  "constraint": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["is_slim", "nid"],
                        "trgm": false
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this EDAM data term",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "synonyms",
                  "description": "A list of human-readable synonyms for this term",
                  "type": "array",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "resource_markdown",
                  "title": "Resources",
                  "description": "External resource information registered with the CFDE-CC",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "acls": {
               "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
            },
            "immutable": true,
            "table_config": {
               "stable_key_columns": ["id"],
               "user_favorites": {
                  "storage_table": {
                     "catalog": "registry",
                     "schema": "CFDE",
                     "table": "favorite_data_type",
                     "favorited_key_columns": ["data_type"],
                     "user_id_column": "user_id"
                  }
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_core_fact": {
                     "source": [
                        {"inbound": ["CFDE", "core_fact_data_type_data_type_fkey"]},
                        {"outbound": ["CFDE", "core_fact_data_type_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files referencing this data type.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "file_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples referencing this data type.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "biosample_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects referencing this data type.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "subject_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections referencing this data type.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "collection_core_fact_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description",
                  {"source": "resource_markdown", "hide_column_header": true}
               ],
               "compact": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_file"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "disease",
         "title": "Disease",
         "description": "List of Disease Ontology terms used to describe diseases associated with C2M2 subjects, biosamples or projects",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this disease term in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "id",
                  "description": "A Disease Ontology term",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this Disease Ontology term",
                  "type": "string",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "is_slim",
                  "description": "Boolean true when this term is designated as a slim-term by the CFDE-CC.",
                  "type": "boolean",
                  "default": false,
                  "constraint": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["is_slim", "nid"],
                        "trgm": false
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this Disease Ontology term",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "synonyms",
                  "description": "A list of synonyms for this term as identified by the Disease Ontology metadata",
                  "type": "array",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "resource_markdown",
                  "title": "Resources",
                  "description": "External resource information registered with the CFDE-CC",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "acls": {
               "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
            },
            "immutable": true,
            "table_config": {
               "stable_key_columns": ["id"],
               "user_favorites": {
                  "storage_table": {
                     "catalog": "registry",
                     "schema": "CFDE",
                     "table": "favorite_disease",
                     "favorited_key_columns": ["disease"],
                     "user_id_column": "user_id"
                  }
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_phenotype": {
                     "markdown_name": "Phenotype",
                     "comment": "Phenotypes linked to this disease term.",
                     "source": [
                        {"inbound": ["CFDE", "phenotype_disease_disease_fkey"]},
                        {"outbound": ["CFDE", "phenotype_disease_phenotype_fkey"]},
                        "nid"
                     ]
                  },
                  "S_core_fact": {
                     "source": [
                        {"inbound": ["CFDE", "core_fact_disease_disease_fkey"]},
                        {"outbound": ["CFDE", "core_fact_disease_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects linked to this disease term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "subject_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples linked to this disease term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "biosample_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files linked to this disease term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "file_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections linked to this disease term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "collection_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection_assoc": {
                     "markdown_name": "Collection",
                     "comment": "Collections directly linked to this term.",
                     "source": [
                        {"inbound": ["CFDE", "collection_disease_disease_fkey"]},
                        {"outbound": ["CFDE", "collection_disease_collection_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description",
                  {"source": "resource_markdown", "hide_column_header": true}
               ],
               "compact": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_phenotype"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_phenotype"},
                  {"sourcekey": "S_collection_assoc"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "phenotype",
         "title": "Phenotype",
         "description": "List of Human Phenotype Ontology terms used to describe phenotypes recorded in association with C2M2 subjects",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this 'phenotype' term in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "id",
                  "description": "A Human Phenotype Ontology term",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this Human Phenotype Ontology term",
                  "type": "string",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this Human Phenotype Ontology term",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "synonyms",
                  "description": "A list of synonyms for this term as identified by the Human Phenotype Ontology metadata",
                  "type": "array",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "resource_markdown",
                  "title": "Resources",
                  "description": "External resource information registered with the CFDE-CC",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "acls": {
               "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
            },
            "immutable": true,
            "table_config": {
               "stable_key_columns": ["id"],
               "user_favorites": {
                  "storage_table": {
                     "catalog": "registry",
                     "schema": "CFDE",
                     "table": "favorite_phenotype",
                     "favorited_key_columns": ["phenotype"],
                     "user_id_column": "user_id"
                  }
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_gene": {
                     "markdown_name": "Gene",
                     "comment": "Genes linked to this phenotype term.",
                     "source": [
                        {"inbound": ["CFDE", "phenotype_gene_phenotype_fkey"]},
                        {"outbound": ["CFDE", "phenotype_gene_gene_fkey"]},
                        "nid"
                     ]
                  },
                  "S_disease": {
                     "markdown_name": "Disease",
                     "comment": "Diseases linked to this phenotype term.",
                     "source": [
                        {"inbound": ["CFDE", "phenotype_disease_phenotype_fkey"]},
                        {"outbound": ["CFDE", "phenotype_disease_disease_fkey"]},
                        "nid"
                     ]
                  },
                  "S_core_fact": {
                     "source": [
                        {"inbound": ["CFDE", "core_fact_phenotype_phenotype_fkey"]},
                        {"outbound": ["CFDE", "core_fact_phenotype_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects linked to this gene term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "subject_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples linked to this gene term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "biosample_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files linked to this gene term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "file_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections linked to this gene term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "collection_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection_assoc": {
                     "markdown_name": "Collection",
                     "comment": "Collections directly linked to this term.",
                     "source": [
                        {"inbound": ["CFDE", "collection_phenotype_phenotype_fkey"]},
                        {"outbound": ["CFDE", "collection_phenotype_collection_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description"
               ],
               "compact": [
                  "id",
                  "name",
                  "description",
                  {"source": "resource_markdown", "hide_column_header": true}
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_disease"},
                  {"sourcekey": "S_gene"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_disease"},
                  {"sourcekey": "S_gene"},
                  {"sourcekey": "S_collection_assoc"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "compound",
         "title": "Compound",
         "description": "List of PubChem 'compound' terms (normalized chemical structure) associated with PubChem 'substance' terms.",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this 'compound' term in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "id",
                  "description": "A PubChem compound ID (CID) term",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this 'compound' term",
                  "type": "string",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this PubChem term",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "synonyms",
                  "description": "A list of synonyms for this term",
                  "type": "array",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "resource_markdown",
                  "title": "Resources",
                  "description": "External resource information registered with the CFDE-CC",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "acls": {
               "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
            },
            "immutable": true,
            "table_config": {
               "stable_key_columns": ["id"],
               "user_favorites": {
                  "storage_table": {
                     "catalog": "registry",
                     "schema": "CFDE",
                     "table": "favorite_compound",
                     "favorited_key_columns": ["compound"],
                     "user_id_column": "user_id"
                  }
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_pubchem_fact": {
                     "source": [
                        {"inbound": ["CFDE", "pubchem_fact_compound_compound_fkey"]},
                        {"outbound": ["CFDE", "pubchem_fact_compound_pubchem_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_substance": {
                     "markdown_name": "Substance",
                     "comment": "Substances associated with the compound.",
                     "source": [
                        {"inbound": ["CFDE", "substance_compound_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects linked to this compound term.",
                     "source": [
                        {"sourcekey": "S_pubchem_fact"},
                        {"inbound": ["CFDE", "subject_pubchem_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples linked to this compound term.",
                     "source": [
                        {"sourcekey": "S_pubchem_fact"},
                        {"inbound": ["CFDE", "biosample_pubchem_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files linked to this compound term.",
                     "source": [
                        {"sourcekey": "S_pubchem_fact"},
                        {"inbound": ["CFDE", "file_pubchem_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections linked to this compound term.",
                     "source": [
                        {"sourcekey": "S_pubchem_fact"},
                        {"inbound": ["CFDE", "collection_pubchem_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection_assoc": {
                     "markdown_name": "Collection",
                     "comment": "Collections directly linked to this term.",
                     "source": [
                        {"inbound": ["CFDE", "collection_compound_compound_fkey"]},
                        {"outbound": ["CFDE", "collection_compound_collection_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description",
                  {"source": "resource_markdown", "hide_column_header": true}
               ],
               "compact": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "name"},
                  {"sourcekey": "S_substance"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_substance"},
                  {"sourcekey": "S_collection_assoc"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "substance",
         "title": "Substance",
         "description": "List of PubChem 'substance' terms (specific formulations of chemical materials) terms used to describe substances associated with C2M2 subjects or biosamples",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this substance term in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "id",
                  "description": "A PubChem substance term",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this substance",
                  "type": "string",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this substance",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "synonyms",
                  "description": "A list of synonyms for this term",
                  "type": "array",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "compound",
                  "description": "The numeric ID for the PubChem compound associated with this PubChem substance",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "resource_markdown",
                  "title": "Resources",
                  "description": "External resource information registered with the CFDE-CC",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid",
            "foreignKeys": [
               {
                  "fields": "compound",
                  "constraint_name": "substance_compound_fkey",
                  "reference": {
                     "resource": "compound",
                     "fields": "nid"
                  }
               }
            ]
         },
         "deriva": {
            "acls": {
               "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
            },
            "immutable": true,
            "table_config": {
               "stable_key_columns": ["id"]
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_pubchem_fact": {
                     "source": [
                        {"inbound": ["CFDE", "pubchem_fact_substance_substance_fkey"]},
                        {"outbound": ["CFDE", "pubchem_fact_substance_pubchem_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_compound": {
                     "markdown_name": "Compound",
                     "source": [
                        {"outbound": ["CFDE", "substance_compound_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects linked to this substance term.",
                     "source": [
                        {"sourcekey": "S_pubchem_fact"},
                        {"inbound": ["CFDE", "subject_pubchem_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples linked to this substance term.",
                     "source": [
                        {"sourcekey": "S_pubchem_fact"},
                        {"inbound": ["CFDE", "biosample_pubchem_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files linked to this substance term.",
                     "source": [
                        {"sourcekey": "S_pubchem_fact"},
                        {"inbound": ["CFDE", "file_pubchem_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections linked to this substance term.",
                     "source": [
                        {"sourcekey": "S_pubchem_fact"},
                        {"inbound": ["CFDE", "collection_pubchem_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection_assoc": {
                     "markdown_name": "Collection",
                     "comment": "Collections directly linked to this term.",
                     "source": [
                        {"inbound": ["CFDE", "collection_substance_substance_fkey"]},
                        {"outbound": ["CFDE", "collection_substance_collection_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  {"sourcekey": "S_compound"},
                  "description",
                  {"source": "resource_markdown", "hide_column_header": true}
               ],
               "compact": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "name"},
                  {"sourcekey": "S_compound"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_collection_assoc"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "gene",
         "title": "Gene",
         "description": "List of Ensembl gene terms used to describe genes associated with C2M2 subjects or biosamples",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this gene term in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "id",
                  "description": "An Ensembl gene term ID",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this gene",
                  "type": "string",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this gene",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "synonyms",
                  "description": "A list of synonyms for this term",
                  "type": "array",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "organism",
                  "description": "The numeric ID of a taxon identifying this gene's source organism",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "resource_markdown",
                  "title": "Resources",
                  "description": "External resource information registered with the CFDE-CC",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid",
            "foreignKeys": [
               {
                  "fields": "organism",
                  "constraint_name": "gene_organism_fkey",
                  "reference": {
                     "resource": "ncbi_taxonomy",
                     "fields": "nid"
                  }
               }
            ]
         },
         "deriva": {
            "acls": {
               "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
            },
            "immutable": true,
            "table_config": {
               "stable_key_columns": ["id"],
               "user_favorites": {
                  "storage_table": {
                     "catalog": "registry",
                     "schema": "CFDE",
                     "table": "favorite_gene",
                     "favorited_key_columns": ["gene"],
                     "user_id_column": "user_id"
                  }
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_organism": {
                     "source": [ {"outbound": ["CFDE", "gene_organism_fkey"]}, "nid" ]
                  },
                  "S_phenotype": {
                     "markdown_name": "Phenotype",
                     "comment": "Phenotypes linked to this gene term.",
                     "source": [
                        {"inbound": ["CFDE", "phenotype_gene_gene_fkey"]},
                        {"outbound": ["CFDE", "phenotype_gene_phenotype_fkey"]},
                        "nid"
                     ]
                  },
                  "S_protein": {
                     "markdown_name": "Protein",
                     "comment": "Proteins linked to this gene term.",
                     "source": [
                        {"inbound": ["CFDE", "protein_gene_gene_fkey"]},
                        {"outbound": ["CFDE", "protein_gene_protein_fkey"]},
                        "nid"
                     ]
                  },
                  "S_gene_fact": {
                     "source": [
                        {"inbound": ["CFDE", "gene_fact_gene_gene_fkey"]},
                        {"outbound": ["CFDE", "gene_fact_gene_gene_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects linked to this gene term.",
                     "source": [
                        {"sourcekey": "S_gene_fact"},
                        {"inbound": ["CFDE", "subject_gene_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples linked to this gene term.",
                     "source": [
                        {"sourcekey": "S_gene_fact"},
                        {"inbound": ["CFDE", "biosample_gene_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files linked to this gene term.",
                     "source": [
                        {"sourcekey": "S_gene_fact"},
                        {"inbound": ["CFDE", "file_gene_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections linked to this gene term.",
                     "source": [
                        {"sourcekey": "S_gene_fact"},
                        {"inbound": ["CFDE", "collection_gene_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection_assoc": {
                     "markdown_name": "Collection",
                     "comment": "Collections directly linked to this term.",
                     "source": [
                        {"inbound": ["CFDE", "collection_gene_gene_fkey"]},
                        {"outbound": ["CFDE", "collection_gene_collection_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  {"sourcekey": "S_organism"},
                  "description",
                  {"source": "resource_markdown", "hide_column_header": true}
               ],
               "compact": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_phenotype"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_phenotype"},
                  {"sourcekey": "S_protein"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "protein",
         "title": "Protein",
         "description": "List of UniProtKB terms associated with C2M2 collections",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this protein in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "id",
                  "description": "A UniProt Knowledgebase (UniProtKB) protein ID (e.g. 'P94485')",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "name",
                  "description": "The UniProt recommended name of this protein (e.g. 'Uncharacterized protein YnaG')",
                  "type": "string",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this protein",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "synonyms",
                  "description": "A list of synonyms for this term",
                  "type": "array",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "organism",
                  "description": "OPTIONAL: The numeric ID of the taxon identifying this protein's source organism",
                  "type": "integer",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "resource_markdown",
                  "title": "Resources",
                  "description": "External resource information registered with the CFDE-CC",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid",
            "foreignKeys": [
               {
                  "fields": "organism",
                  "constraint_name": "protein_organism_fkey",
                  "reference": {
                     "resource": "ncbi_taxonomy",
                     "fields": "nid"
                  }
               }
            ]
         },
         "deriva": {
            "acls": {
               "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
            },
            "immutable": true,
            "table_config": {
               "stable_key_columns": ["id"],
               "user_favorites_disabled": {
                  "storage_table": {
                     "catalog": "registry",
                     "schema": "CFDE",
                     "table": "favorite_protein",
                     "favorited_key_columns": ["protein"],
                     "user_id_column": "user_id"
                  }
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_organism": {
                     "source": [ {"outbound": ["CFDE", "protein_organism_fkey"]}, "nid" ]
                  },
                  "S_gene": {
                     "markdown_name": "Gene",
                     "comment": "Genes linked to this protein term.",
                     "source": [
                        {"inbound": ["CFDE", "protein_gene_protein_fkey"]},
                        {"outbound": ["CFDE", "protein_gene_gene_fkey"]},
                        "nid"
                     ]
                  },
                  "S_protein_fact": {
                     "source": [
                        {"inbound": ["CFDE", "protein_fact_protein_protein_fkey"]},
                        {"outbound": ["CFDE", "protein_fact_protein_protein_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections linked to this protein term.",
                     "source": [
                        {"sourcekey": "S_protein_fact"},
                        {"inbound": ["CFDE", "collection_protein_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection_assoc": {
                     "markdown_name": "Collection",
                     "comment": "Collections directly linked to this term.",
                     "source": [
                        {"inbound": ["CFDE", "collection_protein_protein_fkey"]},
                        {"outbound": ["CFDE", "collection_protein_collection_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  {"sourcekey": "S_organism"},
                  "description",
                  {"source": "resource_markdown", "hide_column_header": true}
               ],
               "compact": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_gene"},
                  {"sourcekey": "S_collection"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_gene"},
                  {"sourcekey": "S_collection_assoc"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "mime_type",
         "title": "MIME Type",
         "description": "Dimension table of each distinct MIME type referenced by C2M2 files.",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this MIME type in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "id",
                  "description": "The unique MIME type string",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this identifier namespace",
                  "type": "string"
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this identifier namespace",
                  "type": "string"
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "table_config": {
               "stable_key_columns": ["id"]
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_core_fact": {
                     "source": [
                        {"inbound": ["CFDE", "core_fact_mime_type_mime_type_fkey"]},
                        {"outbound": ["CFDE", "core_fact_mime_type_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections referencing this MIME type.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "collection_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files referencing this MIME type.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "file_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples referencing this MIME type.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "biosample_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects referencing this MIME type.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "subject_core_fact_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_file"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "dbgap_study_id",
         "title": "dbGaP Study ID",
         "description": "Dimension table of each distinct dbGaP study ID referenced by C2M2 files.",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this study ID in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "id",
                  "description": "The unique dbGaP study ID",
                  "type": "string",
                  "constraints": {
                      "required": true,
                      "unique": true
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this term",
                  "type": "string"
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this term",
                  "type": "string"
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "table_config": {
               "stable_key_columns": ["id"]
            },
            "table_display": {
               "*": {
                  "row_order": [ "nid" ]
               },
               "row_name": {
                  "wait-for": ["name", "id"],
                  "row_markdown_pattern": "{{id}}: {{name}}"
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_core_fact": {
                     "source": [
                        {"inbound": ["CFDE", "core_fact_dbgap_study_id_dbgap_study_id_fkey"]},
                        {"outbound": ["CFDE", "core_fact_dbgap_study_id_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections referencing this dbGaP study ID.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "collection_dbgap_study_id_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files referencing this dbGaP Study ID.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "file_core_fact_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_file"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "subject_role",
         "title": "Subject Role",
         "path": "subject_role.tsv",
         "description": "INTERNAL CV: The ontological role of an organism-level constituent component of a subject, e.g.: unitary organism (e.g. 'this subject represents a single orchid and that's it'), host, pathogen, symbiont, taxon detected in microbiome, host associated with microbiome, taxon in lineage of cell line, etc.",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this subject_role in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "id",
                  "description": "A globally unique ID representing this subject_role",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this subject_role",
                  "type": "string",
                  "constraint": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this subject_role",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "resource_markdown",
                  "title": "Resources",
                  "description": "External resource information registered with the CFDE-CC",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "acls": {
               "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
            },
            "immutable": true,
            "table_config": {
               "stable_key_columns": ["id"]
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_core_fact": {
                     "source": [
                        {"inbound": ["CFDE", "core_fact_subject_role_subject_role_fkey"]},
                        {"outbound": ["CFDE", "core_fact_subject_role_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects referencing this subject role.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "subject_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples referencing this subject role.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "biosample_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections referencing this subject role.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "collection_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files referencing this subject role.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "file_core_fact_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description",
                  {"source": "resource_markdown", "hide_column_header": true}
               ],
               "compact": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_subject"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "subject_granularity",
         "title": "Subject Granularity",
         "path": "subject_granularity.tsv",
         "description": "INTERNAL CV: The category of a subject in terms of multiplicity, e.g.: single organism; enumerated group of organisms and their relationships to one another (e.g. host X plus endosymbiont Y); host-associated microbiome; environmental microbiome; cell line",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this subject_granularity in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "id",
                  "description": "A globally unique ID representing this subject_granularity",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this subject_granularity",
                  "type": "string",
                  "constraint": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this subject_granularity",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "resource_markdown",
                  "title": "Resources",
                  "description": "External resource information registered with the CFDE-CC",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "acls": {
               "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
            },
            "immutable": true,
            "table_config": {
               "stable_key_columns": ["id"]
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_core_fact": {
                     "source": [
                        {"inbound": ["CFDE", "core_fact_subject_granularity_subject_granularity_fkey"]},
                        {"outbound": ["CFDE", "core_fact_subject_granularity_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects referencing this subject granularity.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "subject_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples referencing this subject granularity.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "biosample_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections referencing this subject granularity.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "collection_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files referencing this subject granularity.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "file_core_fact_fkey"]},
                        "nid"
                      ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description",
                  {"source": "resource_markdown", "hide_column_header": true}
               ],
               "compact": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_subject"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "sex",
         "title": "Sex",
         "description": "List of sex terms used to describe C2M2 subjects",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this sex term in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "id",
                  "description": "A sex term ID",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this sex",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this sex",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "resource_markdown",
                  "title": "Resources",
                  "description": "External resource information registered with the CFDE-CC",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "acls": {
               "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
            },
            "immutable": true,
            "table_config": {
               "stable_key_columns": ["id"]
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_core_fact": {
                     "source": [
                        {"inbound": ["CFDE", "core_fact_sex_sex_fkey"]},
                        {"outbound": ["CFDE", "core_fact_sex_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects linked to this sex term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "subject_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples linked to this sex term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "biosample_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files linked to this sex term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "file_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections linked to this sex term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "collection_core_fact_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description",
                  {"source": "resource_markdown", "hide_column_header": true}
               ],
               "compact": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "race",
         "title": "Race",
         "description": "List of race terms used to describe C2M2 subjects",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this race term in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "id",
                  "description": "A race term ID",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this race",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this race",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "resource_markdown",
                  "title": "Resources",
                  "description": "External resource information registered with the CFDE-CC",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "acls": {
               "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
            },
            "immutable": true,
            "table_config": {
               "stable_key_columns": ["id"]
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_core_fact": {
                     "source": [
                        {"inbound": ["CFDE", "core_fact_race_race_fkey"]},
                        {"outbound": ["CFDE", "core_fact_race_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects linked to this race term.",
                     "source": [
                        {"inbound": ["CFDE", "subject_race_race_fkey"]},
                        {"outbound": ["CFDE", "subject_race_subject_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples linked to this race term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "biosample_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files linked to this race term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "file_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections linked to this race term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "collection_core_fact_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description",
                  {"source": "resource_markdown", "hide_column_header": true}
               ],
               "compact": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "ethnicity",
         "title": "Ethnicity",
         "description": "List of ethnicity terms used to describe C2M2 subjects",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this ethnicity term in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "id",
                  "description": "A ethnicity term ID",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this ethnicity",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this ethnicity",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "update": []
                     }
                  }
               },
               {
                  "name": "resource_markdown",
                  "title": "Resources",
                  "description": "External resource information registered with the CFDE-CC",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     },
                     "acls": {
                        "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "acls": {
               "update": [ "cfde_portal_admin", "cfde_portal_curator" ]
            },
            "immutable": true,
            "table_config": {
               "stable_key_columns": ["id"]
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_core_fact": {
                     "source": [
                        {"inbound": ["CFDE", "core_fact_ethnicity_ethnicity_fkey"]},
                        {"outbound": ["CFDE", "core_fact_ethnicity_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects linked to this ethnicity term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "subject_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples linked to this ethnicity term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "biosample_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file": {
                     "markdown_name": "File",
                     "comment": "Files linked to this ethnicity term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "file_core_fact_fkey"]},
                        "nid"
                     ]
                  },
                  "S_collection": {
                     "markdown_name": "Collection",
                     "comment": "Collections linked to this ethnicity term.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "collection_core_fact_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description",
                  {"source": "resource_markdown", "hide_column_header": true}
               ],
               "compact": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"},
                  {"sourcekey": "S_collection"},
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_file"},
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "disease_association_type",
         "title": "Disease Association Type",
         "description": "INTERNAL CV: The coded type of a disease term association.",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this disease association type in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "id",
                  "description": "A globally unique ID representing this term",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this term",
                  "type": "string",
                  "constraint": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this term",
                  "type": "string"
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "table_config": {
               "stable_key_columns": ["id"]
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_biosample_disease_assoc": {
                     "markdown_name": "Biosample Disease",
                     "comment": "Biosample-isease associations with this association type",
                     "source": [
                        {"inbound": ["CFDE", "biosample_disease_association_type_fkey"]},
                        "RID"
                     ]
                  },
                  "S_subject_disease_assoc": {
                     "markdown_name": "Subject Disease",
                     "comment": "Subject-disease associations with this association type",
                     "source": [
                        {"inbound": ["CFDE", "subject_disease_association_type_fkey"]},
                        "RID"
                     ]
                  },
                  "S_biosample": {
                     "markdown_name": "Biosample",
                     "comment": "Biosamples associated to diseases by this association type",
                     "source": [
                        {"sourcekey": "S_biosample_disease_assoc"},
                        {"outbound": ["CFDE", "biosample_disease_biosample_fkey"]},
                        "RID"
                     ]
                  },
                  "S_subject": {
                     "markdown_name": "Subject",
                     "comment": "Subjects associated to diseases by this association type",
                     "source": [
                        {"sourcekey": "S_subject_disease_assoc"},
                        {"outbound": ["CFDE", "subject_disease_biosample_fkey"]},
                        "RID"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "id",
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"source": "id"},
                  {"source": "name"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_biosample"},
                  {"sourcekey": "S_subject"}
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "phenotype_association_type",
         "title": "Phenotype Association Type",
         "description": "INTERNAL CV: The coded type of a phenotype term association.",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this phenotype association type in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "id",
                  "description": "A globally unique ID representing this term",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this term",
                  "type": "string",
                  "constraint": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this term",
                  "type": "string"
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         },
         "deriva": {
            "table_config": {
               "stable_key_columns": ["id"]
            }
         }
      },

      {
         "profile": "tabular-data-resource",
         "name": "anatomy_slim",
         "description": "A binary association of original (more detailed) to slim (more abstracted) anatomy terms.",
         "schema": {
            "fields": [
               {
                  "name": "original_term",
                  "description": "The identifier for the original (more precise) term linked to C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "slim_term",
                  "description": "The identifier for the slim (more general) term abstracting the C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["slim_term", "original_term"],
                        "trgm": false
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "original_term", "slim_term" ],
            "foreignKeys": [
               {
                  "fields": "original_term",
                  "constraint_name": "anatomy_slim_original_fkey",
                  "reference": {
                     "resource": "anatomy",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "slim_term",
                  "constraint_name": "anatomy_slim_slim_fkey",
                  "reference": {
                     "resource": "anatomy",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "anatomy_slim_union",
         "description": "A binary association of original (more detailed) to slim (more abstracted) anatomy terms and to themselves (reflexive on original).",
         "schema": {
            "fields": [
               {
                  "name": "original_term",
                  "description": "The identifier for the original (more precise) term linked to C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "slim_term",
                  "description": "The identifier for the slim (more general) term abstracting the C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["slim_term", "original_term"],
                        "trgm": false
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "original_term", "slim_term" ],
            "foreignKeys": [
               {
                  "fields": "original_term",
                  "constraint_name": "anatomy_slim_union_original_fkey",
                  "reference": {
                     "resource": "anatomy",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "slim_term",
                  "constraint_name": "anatomy_slim_union_slim_fkey",
                  "reference": {
                     "resource": "anatomy",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "assay_type_slim",
         "description": "A binary association of original (more detailed) to slim (more abstracted) assay type terms.",
         "schema": {
            "fields": [
               {
                  "name": "original_term",
                  "description": "The identifier for the original (more precise) term linked to C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "slim_term",
                  "description": "The identifier for the slim (more general) term abstracting the C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["slim_term", "original_term"],
                        "trgm": false
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "original_term", "slim_term" ],
            "foreignKeys": [
               {
                  "fields": "original_term",
                  "constraint_name": "assay_type_slim_original_fkey",
                  "reference": {
                     "resource": "assay_type",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "slim_term",
                  "constraint_name": "assay_type_slim_slim_fkey",
                  "reference": {
                     "resource": "assay_type",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "assay_type_slim_union",
         "description": "A binary association of original (more detailed) to slim (more abstracted) assay type terms and to themselves (reflexive on original).",
         "schema": {
            "fields": [
               {
                  "name": "original_term",
                  "description": "The identifier for the original (more precise) term linked to C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "slim_term",
                  "description": "The identifier for the slim (more general) term abstracting the C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["slim_term", "original_term"],
                        "trgm": false
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "original_term", "slim_term" ],
            "foreignKeys": [
               {
                  "fields": "original_term",
                  "constraint_name": "assay_type_slim_union_original_fkey",
                  "reference": {
                     "resource": "assay_type",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "slim_term",
                  "constraint_name": "assay_type_slim_union_slim_fkey",
                  "reference": {
                     "resource": "assay_type",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "data_type_slim",
         "description": "A binary association of original (more detailed) to slim (more abstracted) data type terms.",
         "schema": {
            "fields": [
               {
                  "name": "original_term",
                  "description": "The identifier for the original (more precise) term linked to C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "slim_term",
                  "description": "The identifier for the slim (more general) term abstracting the C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["slim_term", "original_term"],
                        "trgm": false
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "original_term", "slim_term" ],
            "foreignKeys": [
               {
                  "fields": "original_term",
                  "constraint_name": "data_type_slim_original_fkey",
                  "reference": {
                     "resource": "data_type",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "slim_term",
                  "constraint_name": "data_type_slim_slim_fkey",
                  "reference": {
                     "resource": "data_type",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "data_type_slim_union",
         "description": "A binary association of original (more detailed) to slim (more abstracted) data type terms and to themselves (reflexive on original).",
         "schema": {
            "fields": [
               {
                  "name": "original_term",
                  "description": "The identifier for the original (more precise) term linked to C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "slim_term",
                  "description": "The identifier for the slim (more general) term abstracting the C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["slim_term", "original_term"],
                        "trgm": false
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "original_term", "slim_term" ],
            "foreignKeys": [
               {
                  "fields": "original_term",
                  "constraint_name": "data_type_slim_union_original_fkey",
                  "reference": {
                     "resource": "data_type",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "slim_term",
                  "constraint_name": "data_type_slim_union_slim_fkey",
                  "reference": {
                     "resource": "data_type",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "disease_slim",
         "description": "A binary association of original (more detailed) to slim (more abstracted) disease terms.",
         "schema": {
            "fields": [
               {
                  "name": "original_term",
                  "description": "The identifier for the original (more precise) term linked to C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "slim_term",
                  "description": "The identifier for the slim (more general) term abstracting the C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["slim_term", "original_term"],
                        "trgm": false
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "original_term", "slim_term" ],
            "foreignKeys": [
               {
                  "fields": "original_term",
                  "constraint_name": "disease_slim_original_fkey",
                  "reference": {
                     "resource": "disease",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "slim_term",
                  "constraint_name": "disease_slim_slim_fkey",
                  "reference": {
                     "resource": "disease",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "disease_slim_union",
         "description": "A binary association of original (more detailed) to slim (more abstracted) disease terms and to themselves (reflexive on original).",
         "schema": {
            "fields": [
               {
                  "name": "original_term",
                  "description": "The identifier for the original (more precise) term linked to C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "slim_term",
                  "description": "The identifier for the slim (more general) term abstracting the C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["slim_term", "original_term"],
                        "trgm": false
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "original_term", "slim_term" ],
            "foreignKeys": [
               {
                  "fields": "original_term",
                  "constraint_name": "disease_slim_union_original_fkey",
                  "reference": {
                     "resource": "disease",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "slim_term",
                  "constraint_name": "disease_slim_union_slim_fkey",
                  "reference": {
                     "resource": "disease",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "file_format_slim",
         "description": "A binary association of original (more detailed) to slim (more abstracted) file format terms.",
         "schema": {
            "fields": [
               {
                  "name": "original_term",
                  "description": "The identifier for the original (more precise) term linked to C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "slim_term",
                  "description": "The identifier for the slim (more general) term abstracting the C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["slim_term", "original_term"],
                        "trgm": false
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "original_term", "slim_term" ],
            "foreignKeys": [
               {
                  "fields": "original_term",
                  "constraint_name": "file_format_slim_original_fkey",
                  "reference": {
                     "resource": "file_format",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "slim_term",
                  "constraint_name": "file_format_slim_slim_fkey",
                  "reference": {
                     "resource": "file_format",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "file_format_slim_union",
         "description": "A binary association of original (more detailed) to slim (more abstracted) file format terms and to themselves (reflexive on original).",
         "schema": {
            "fields": [
               {
                  "name": "original_term",
                  "description": "The identifier for the original (more precise) term linked to C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "slim_term",
                  "description": "The identifier for the slim (more general) term abstracting the C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["slim_term", "original_term"],
                        "trgm": false
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "original_term", "slim_term" ],
            "foreignKeys": [
               {
                  "fields": "original_term",
                  "constraint_name": "file_format_slim_union_original_fkey",
                  "reference": {
                     "resource": "file_format",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "slim_term",
                  "constraint_name": "file_format_slim_union_slim_fkey",
                  "reference": {
                     "resource": "file_format",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "ncbi_taxonomy_slim",
         "description": "A binary association of original (more detailed) to slim (more abstracted) taxonomy terms.",
         "schema": {
            "fields": [
               {
                  "name": "original_term",
                  "description": "The identifier for the original (more precise) term linked to C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "slim_term",
                  "description": "The identifier for the slim (more general) term abstracting the C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["slim_term", "original_term"],
                        "trgm": false
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "original_term", "slim_term" ],
            "foreignKeys": [
               {
                  "fields": "original_term",
                  "constraint_name": "ncbi_taxonomy_slim_original_fkey",
                  "reference": {
                     "resource": "ncbi_taxonomy",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "slim_term",
                  "constraint_name": "ncbi_taxonomy_slim_slim_fkey",
                  "reference": {
                     "resource": "ncbi_taxonomy",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "ncbi_taxonomy_slim_union",
         "description": "A binary association of original (more detailed) to slim (more abstracted) taxonomy terms and to themselves (reflexive on original).",
         "schema": {
            "fields": [
               {
                  "name": "original_term",
                  "description": "The identifier for the original (more precise) term linked to C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "slim_term",
                  "description": "The identifier for the slim (more general) term abstracting the C2M2 data.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["slim_term", "original_term"],
                        "trgm": false
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "original_term", "slim_term" ],
            "foreignKeys": [
               {
                  "fields": "original_term",
                  "constraint_name": "ncbi_taxonomy_slim_union_original_fkey",
                  "reference": {
                     "resource": "ncbi_taxonomy",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "slim_term",
                  "constraint_name": "ncbi_taxonomy_slim_union_slim_fkey",
                  "reference": {
                     "resource": "ncbi_taxonomy",
                     "fields": "nid"
                  }
               }
            ]
         }
      },

      {
         "profile": "tabular-data-resource",
         "name": "collection",
         "title": "Collection",
         "description": "A grouping of files, biosamples and/or subjects",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this collection in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "combined_fact",
                  "description": "Numeric, surrogate key representing this collection's combined metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["combined_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "core_fact",
                  "description": "Numeric, surrogate key representing this collection's core metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["core_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "gene_fact",
                  "description": "Numeric, surrogate key representing this collection's gene metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["gene_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "protein_fact",
                  "description": "Numeric, surrogate key representing this collection's protein metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["protein_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "pubchem_fact",
                  "description": "Numeric, surrogate key representing this collection's pubchem metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["pubchem_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "creation_time",
                  "description": "An ISO 8601 -- RFC 3339 (subset)-compliant timestamp documenting this collection's creation time: YYYY-MM-DDTHH:MM:SSNN:NN",
                  "type": "datetime",
                  "format": "any"
               },
               {
                  "name": "is_bundle",
                  "description": "Boolean true when described file entities specify a bundle_collection manifest.",
                  "type": "boolean",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": true,
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "has_persistent_id",
                  "description": "Boolean true when described entities specify a persistent_id.",
                  "type": "boolean",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": true,
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "projects",
                  "description": "The numeric IDs of source or defining project(s) attributed for the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "dccs",
                  "description": "The numeric IDs of source or defining DCC(s) attributed for the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "phenotypes_flat",
                  "description": "The numeric IDs of the phenotype terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "diseases_flat",
                  "description": "The numeric IDs of the disease terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "sexes",
                  "description": "The numeric ID of the sex terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "races",
                  "description": "The numeric ID of the race terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "ethnicities",
                  "description": "The numeric ID of the ethnicity terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "subject_roles",
                  "description": "The numeric ID of subject_role terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "subject_granularities",
                  "description": "The numeric ID of subject_granularity terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "subject_species",
                  "description": "The numeric ID of subject-species terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "ncbi_taxons",
                  "description": "The numeric ID of ncbi_taxonomy terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "anatomies",
                  "description": "The numeric ID of anatomy terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "sample_prep_methods",
                  "description": "The numeric ID of sample_prep_method terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "assay_types",
                  "description": "The numeric ID of assay_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "analysis_types",
                  "description": "The numeric ID of analysis_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "file_formats",
                  "description": "The numeric ID of file_format terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "compression_formats",
                  "description": "The numeric ID of compression_format terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "data_types",
                  "description": "The numeric ID of data_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "mime_types",
                  "description": "The numeric ID of mime_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "dbgap_study_ids",
                  "description": "The numeric ID of the dbgap_study_id terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "genes",
                  "description": "The numeric ID of the gene terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "substances",
                  "description": "The numeric ID of the substance terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "compounds",
                  "description": "The numeric ID of the compound terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "proteins",
                  "description": "The numeric ID of the protein terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "local_id",
                  "description": "An ID representing this collection, unique within this id_namespace",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "persistent_id",
                  "title": "Persistent ID",
                  "description": "A persistent, resolvable (not nec. retrievable) URI generated by a DCC and attached to this collection",
                  "type": "string"
               },
               {
                  "name": "abbreviation",
                  "description": "A very short display label for this collection",
                  "type": "string",
                  "constraints": {
                     "pattern": "^[a-zA-Z0-9_]+$"
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this collection",
                  "type": "string"
               },
               {
                  "name": "has_time_series_data",
                  "description": "Does this collection contain time-series data? (allowed values: [true|false|null] -- true == yes, contains time-series data; false == no, doesn't contain time-series data; null == no info provided)",
                  "type": "boolean"
               },
               {
                  "name": "id",
                  "description": "The concatenated, namespace-qualified id for this collection.",
                  "type": "string",
                  "constraints": {
                     "unique": true
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "nid" ],
            "foreignKeys": [
               {
                  "fields": "combined_fact",
                  "constraint_name": "collection_combined_fact_fkey",
                  "reference": {
                     "resource": "combined_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "core_fact",
                  "constraint_name": "collection_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "gene_fact",
                  "constraint_name": "collection_gene_fact_fkey",
                  "reference": {
                     "resource": "gene_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "protein_fact",
                  "constraint_name": "collection_protein_fact_fkey",
                  "reference": {
                     "resource": "protein_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "pubchem_fact",
                  "constraint_name": "collection_pubchem_fact_fkey",
                  "reference": {
                     "resource": "pubchem_fact",
                     "fields": "nid"
                  }
               }
            ]
         },
         "deriva": {
            "export_2019": {
               "*": {
                  "templates": [
                     {
                        "displayname": "Collection BDBAG",
                        "type": "BAG",
                        "outputs": [
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "c2m2:collection"
                              },
                              "destination": {
                                 "name": "collection",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:collection_disease/(nid)=(c2m2:collection_disease:nid)"
                              },
                              "destination": {
                                 "name": "collection_disease",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:collection_phenotype/(nid)=(c2m2:collection_phenotype:nid)"
                              },
                              "destination": {
                                 "name": "collection_phenotype",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:collection_gene/(nid)=(c2m2:collection_gene:nid)"
                              },
                              "destination": {
                                 "name": "collection_gene",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:collection_compound/(nid)=(c2m2:collection_compound:nid)"
                              },
                              "destination": {
                                 "name": "collection_compound",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:collection_substance/(nid)=(c2m2:collection_substance:nid)"
                              },
                              "destination": {
                                 "name": "collection_substance",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:collection_taxonomy/(nid)=(c2m2:collection_taxonomy:nid)"
                              },
                              "destination": {
                                 "name": "collection_taxonomy",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:collection_anatomy/(nid)=(c2m2:collection_anatomy:nid)"
                              },
                              "destination": {
                                 "name": "collection_anatomy",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:collection_protein/(nid)=(c2m2:collection_protein:nid)"
                              },
                              "destination": {
                                 "name": "collection_protein",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_project/(project)=(CFDE:project_in_project_transitive:member_project)/(leader_project)=(c2m2:project:nid)"
                              },
                              "destination": {
                                 "name": "project",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_project/(project)=(CFDE:project_in_project_transitive:member_project)/(leader_project)=(CFDE:project_in_project:child_project)/(nid)=(c2m2:project_in_project:nid)"
                              },
                              "destination": {
                                 "name": "project_in_project",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:file_in_collection/(file)=(c2m2:file:nid)"
                              },
                              "destination": {
                                 "name": "file",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_file_format/(file_format)=(c2m2:file_format:nid)"
                              },
                              "destination": {
                                 "name": "file_format",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_data_type/(data_type)=(c2m2:data_type:nid)"
                              },
                              "destination": {
                                 "name": "data_type",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_sample_prep_method/(sample_prep_method)=(c2m2:sample_prep_method:nid)"
                              },
                              "destination": {
                                 "name": "sample_prep_method",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_assay_type/(assay_type)=(c2m2:assay_type:nid)"
                              },
                              "destination": {
                                 "name": "assay_type",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:biosample_in_collection/(biosample)=(c2m2:biosample:nid)"
                              },
                              "destination": {
                                 "name": "biosample",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_anatomy/(anatomy)=(c2m2:anatomy:nid)"
                              },
                              "destination": {
                                 "name": "anatomy",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_disease/(disease)=(c2m2:disease:nid)"
                              },
                              "destination": {
                                 "name": "disease",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_phenotype/(phenotype)=(c2m2:phenotype:nid)"
                              },
                              "destination": {
                                 "name": "phenotype",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(gene_fact)/CFDE:gene_fact_gene/(gene)=(c2m2:gene:nid)"
                              },
                              "destination": {
                                 "name": "gene",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(pubchem_fact)/CFDE:pubchem_fact_substance/(substance)=(c2m2:substance:nid)"
                              },
                              "destination": {
                                 "name": "substance",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(pubchem_fact)/CFDE:pubchem_fact_compound/(compound)=(c2m2:compound:nid)"
                              },
                              "destination": {
                                 "name": "compound",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(protein_fact)/CFDE:protein_fact_protein/(protein)=(c2m2:protein:nid)"
                              },
                              "destination": {
                                 "name": "protein",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:biosample_in_collection/(biosample)=(CFDE:biosample_disease:biosample)/(nid)=(c2m2:biosample_disease:nid)"
                              },
                              "destination": {
                                 "name": "biosample_disease",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:biosample_in_collection/(biosample)=(CFDE:biosample_gene:biosample)/(nid)=(c2m2:biosample_gene:nid)"
                              },
                              "destination": {
                                 "name": "biosample_gene",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:biosample_in_collection/(biosample)=(CFDE:biosample_substance:biosample)/(nid)=(c2m2:biosample_substance:nid)"
                              },
                              "destination": {
                                 "name": "biosample_substance",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:biosample_in_collection/(biosample)=(CFDE:biosample_from_subject:biosample)/(nid)=(c2m2:biosample_from_subject:nid)"
                              },
                              "destination": {
                                 "name": "biosample_from_subject",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:subject_in_collection/(subject)=(c2m2:subject:nid)"
                              },
                              "destination": {
                                 "name": "subject",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_subject_granularity/(subject_granularity)=(c2m2:subject_granularity:nid)"
                              },
                              "destination": {
                                 "name": "subject_granularity",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:subject_in_collection/(subject)=(CFDE:subject_role_taxonomy:subject)/(nid)=(c2m2:subject_role_taxonomy:nid)"
                              },
                              "destination": {
                                 "name": "subject_role_taxonomy",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_subject_role/(subject_role)=(c2m2:subject_role:nid)"
                              },
                              "destination": {
                                 "name": "subject_role",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_ncbi_taxonomy/(ncbi_taxon)=(c2m2:ncbi_taxonomy:nid)"
                              },
                              "destination": {
                                 "name": "ncbi_taxonomy",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_sex/(sex)=(c2m2:sex:nid)"
                              },
                              "destination": {
                                 "name": "sex",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_race/(race)=(c2m2:race:nid)"
                              },
                              "destination": {
                                 "name": "race",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_ethnicity/(ethnicity)=(c2m2:ethnicity:nid)"
                              },
                              "destination": {
                                 "name": "ethnicity",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:subject_in_collection/(subject)=(CFDE:subject_race:subject)/(nid)=(c2m2:subject_race:nid)"
                              },
                              "destination": {
                                 "name": "subject_race",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:subject_in_collection/(subject)=(CFDE:subject_substance:subject)/(nid)=(c2m2:subject_substance:nid)"
                              },
                              "destination": {
                                 "name": "subject_substance",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:subject_in_collection/(subject)=(CFDE:subject_disease:subject)/(nid)=(c2m2:subject_disease:nid)"
                              },
                              "destination": {
                                 "name": "subject_disease",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:subject_in_collection/(subject)=(CFDE:subject_phenotype:subject)/(nid)=(c2m2:subject_phenotype:nid)"
                              },
                              "destination": {
                                 "name": "subject_phenotype",
                                 "type": "csv"
                              }
                           }
                        ]
                     }
                  ]
               }
            },
            "display": {
               "show_saved_query": true
            },
            "table_config": {
               "stable_key_columns": ["id"],
               "aggressive_facet_lookup": true
            },
            "table_display": {
               "*": {
                  "row_order": [ "nid" ]
               },
               "row_name": {
                  "wait-for": ["persistent_id", "id"],
                  "row_markdown_pattern": "{{#persistent_id}}{{persistent_id}}{{/persistent_id}}{{^persistent_id}}{{id}}{{/persistent_id}}"
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "search-box": {"or": [
                  {
                     "source": [
                        {"inbound": ["CFDE", "collection_keywords_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_keywords_kw_fkey"]},
                        "kw"
                     ],
                     "markdown_name": "collection",
                     "comment": "anatomy, disease, file-format, assay-type, data-type, granularity, role, taxonomy, project, collection keywords"
                  }
               ]},
               "sources": {
                  "S_combined_fact": {
                     "source": [{"outbound": ["CFDE", "collection_combined_fact_fkey"]}, "nid" ]
                  },
                  "S_core_fact": {
                     "source": [{"outbound": ["CFDE", "collection_core_fact_fkey"]}, "nid" ]
                  },
                  "S_gene_fact": {
                     "source": [{"outbound": ["CFDE", "collection_gene_fact_fkey"]}, "nid" ]
                  },
                  "S_pubchem_fact": {
                     "source": [{"outbound": ["CFDE", "collection_pubchem_fact_fkey"]}, "nid" ]
                  },
                  "S_protein_fact": {
                     "source": [{"outbound": ["CFDE", "collection_protein_fact_fkey"]}, "nid" ]
                  },
                  "S_id_namespace": {
                     "comment": "The namespace qualifying the collection ID.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"outbound": ["CFDE", "core_fact_id_namespace_fkey"]},
                        "nid"
                     ]
                  },
                  "S_project": {
                     "markdown_name": "Project",
                     "comment": "A project which defined the collection.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_project_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_project_project_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "projects" ]
                  },
                  "S_project_array": {
                     "markdown_name": "Project",
                     "comment": "A project which defined the collection.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_project_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_project_project_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "projects" ],
                     "aggregate": "array_d"
                  },
                  "S_dcc": {
                     "markdown_name": "Common Fund Program",
                     "comment": "The Common Fund Program which defined the collection.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_dcc_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_dcc_dcc_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "dccs" ]
                  },
                  "S_dcc_array": {
                     "markdown_name": "Common Fund Program",
                     "comment": "The Common Fund Program which defined the collection.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_dcc_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_dcc_dcc_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "dccs" ],
                     "aggregate": "array_d"
                  },
                  "S_super_projects": {
                     "markdown_name": "Project",
                     "comment": "A project (or super-project) which defined the collection.",
                     "source": [
                        {"sourcekey": "S_project"},
                        {"inbound": ["CFDE", "project_in_project_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_transitive_leader_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file_format": {
                     "comment": "File format of a constituent file, offering original terms and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_file_format_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_file_format_file_format_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "file_formats" ]
                  },
                  "S_file_format_slim": {
                     "markdown_name": "File Format (slim)",
                     "comment": "File format of a constituent file, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_file_format_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_file_format_file_format_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "file_formats" ]
                  },
                  "S_data_type": {
                     "comment": "Data type of a constituent file, offering original terms and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_data_type_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_data_type_data_type_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "data_types" ]
                  },
                  "S_data_type_slim": {
                     "markdown_name": "Data Type (slim)",
                     "comment": "Data type of a constituent file, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_data_type_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_data_type_data_type_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "data_types" ]
                  },
                  "S_sample_prep_method": {
                     "comment": "Sample prep method of a consistuent biosample.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_sample_prep_method_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_sample_prep_method_sample_prep_method_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "sample_prep_methods" ]
                  },
                  "S_assay_type": {
                     "comment": "Assay type of a constituent file, offering original terms and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_assay_type_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_assay_type_assay_type_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "assay_types" ]
                  },
                  "S_assay_type_slim": {
                     "markdown_name": "Assay Type (slim)",
                     "comment": "Assay type of a constituent file, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_assay_type_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_assay_type_assay_type_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "assay_types" ]
                  },
                  "S_ncbi_taxons": {
                     "markdown_name": "Taxonomy",
                     "comment": "The taxonomic classification of a subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_ncbi_taxonomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_ncbi_taxonomy_ncbi_taxon_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "ncbi_taxons" ]
                  },
                  "S_ncbi_taxons_slim": {
                     "markdown_name": "Taxonomy (slim)",
                     "comment": "The taxonomic classification of a subject, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_ncbi_taxonomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_ncbi_taxonomy_ncbi_taxon_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "ncbi_taxons" ]
                  },
                  "S_taxonomy_assoc": {
                     "markdown_name": "Taxonomy",
                     "comment": "The taxons associated with the collection.",
                     "source": [
                        {"inbound": ["CFDE", "collection_taxonomy_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_taxonomy_taxon_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject_granularities": {
                     "markdown_name": "Subject Granularity",
                     "comment": "The specificity of a directly or indirectly constituent subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_subject_granularity_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_subject_granularity_subject_granularity_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "subject_granularities" ]
                  },
                  "S_subject_roles": {
                     "markdown_name": "Subject Role",
                     "comment": "The role of a directly or indirectly constituent subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_subject_role_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_subject_role_subject_role_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "subject_roles" ]
                  },
                  "S_anatomy": {
                     "comment": "Anatomy for biosamples, offering original terms and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_anatomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_anatomy_anatomy_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "anatomies" ]
                  },
                  "S_anatomy_assoc": {
                     "markdown_name": "Anatomy",
                     "comment": "Anatomy terms associated with the collection.",
                     "source": [
                        {"inbound": ["CFDE", "collection_anatomy_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_anatomy_anatomy_fkey"]},
                        "nid"
                     ]
                  },
                  "S_anatomy_slim": {
                     "markdown_name": "Anatomy (slim)",
                     "comment": "Anatomy for biosamples, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_anatomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_anatomy_anatomy_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "anatomies" ]
                  },
                  "S_disease": {
                     "comment": "Disease for collection, biosample, or subject, offering original terms and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_disease_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_disease_disease_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "diseases_flat" ]
                  },
                  "S_disease_slim": {
                     "markdown_name": "Disease (slim)",
                     "comment": "Disease for collection, biosample, or subject, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_disease_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_disease_disease_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "diseases_flat" ]
                  },
                  "S_phenotype": {
                     "markdown_name": "Phenotype",
                     "comment": "The phenotype terms qualifying a collection or subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_phenotype_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_phenotype_phenotype_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "phenotypes_flat" ]
                  },
                  "S_disease_assoc": {
                     "markdown_name": "Disease",
                     "comment": "The diseases studied in a collection.",
                     "source": [
                        {"inbound": ["CFDE", "collection_disease_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_disease_disease_fkey"]},
                        "nid"
                     ]
                  },
                  "S_phenotype_assoc": {
                     "markdown_name": "Phenotype",
                     "comment": "The phenotypes studied in a collection.",
                     "source": [
                        {"inbound": ["CFDE", "collection_phenotype_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_phenotype_phenotype_fkey"]},
                        "nid"
                     ]
                  },
                  "S_disease_array": {
                     "markdown_name": "Disease",
                     "comment": "The diseases studied in a collection.",
                     "source": [
                        {"inbound": ["CFDE", "collection_disease_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_disease_disease_fkey"]},
                        "nid"
                     ],
                     "aggregate": "array_d"
                  },
                  "S_phenotype_array": {
                     "markdown_name": "Phenotype",
                     "comment": "The phenotypes studied in a collection.",
                     "source": [
                        {"inbound": ["CFDE", "collection_phenotype_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_phenotype_phenotype_fkey"]},
                        "nid"
                     ],
                     "aggregate": "array_d"
                  },
                  "S_substance": {
                     "markdown_name": "Substance",
                     "comment": "A substance linked to a biosample or subject.",
                     "source": [
                        {"sourcekey": "S_pubchem_fact"},
                        {"inbound": ["CFDE", "pubchem_fact_substance_pubchem_fact_fkey"]},
                        {"outbound": ["CFDE", "pubchem_fact_substance_substance_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "substances" ]
                  },
                  "S_substance_assoc": {
                     "markdown_name": "Substance",
                     "comment": "A substance associated with the collection.",
                     "source": [
                        {"inbound": ["CFDE", "collection_substance_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_substance_substance_fkey"]},
                        "nid"
                     ]
                  },
                  "S_compound": {
                     "markdown_name": "Compound",
                     "comment": "A compound linked to a biosample or subject.",
                     "source": [
                        {"sourcekey": "S_pubchem_fact"},
                        {"inbound": ["CFDE", "pubchem_fact_compound_pubchem_fact_fkey"]},
                        {"outbound": ["CFDE", "pubchem_fact_compound_compound_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "compounds" ]
                  },
                  "S_compound_assoc": {
                     "markdown_name": "Compound",
                     "comment": "A compound associated with the collection.",
                     "source": [
                        {"inbound": ["CFDE", "collection_compound_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_compound_compound_fkey"]},
                        "nid"
                     ]
                  },
                  "S_gene": {
                     "markdown_name": "Gene",
                     "comment": "A gene linked to a biosample.",
                     "source": [
                        {"sourcekey": "S_gene_fact"},
                        {"inbound": ["CFDE", "gene_fact_gene_gene_fact_fkey"]},
                        {"outbound": ["CFDE", "gene_fact_gene_gene_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "genes" ]
                  },
                  "S_gene_assoc": {
                     "markdown_name": "Gene",
                     "comment": "A gene associated with the collection.",
                     "source": [
                        {"inbound": ["CFDE", "collection_gene_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_gene_gene_fkey"]},
                        "nid"
                     ]
                  },
                  "S_protein_assoc": {
                     "markdown_name": "Protein",
                     "comment": "A protein linked to the collection.",
                     "source": [
                        {"inbound": ["CFDE", "collection_protein_collection_fkey"]},
                        {"outbound": ["CFDE", "collection_protein_protein_fkey"]},
                        "nid"
                     ]
                  },
                  "S_creation_time": {
                     "comment": "The time when the collection was created.",
                     "source": "creation_time"
                  }
               }
            },
            "visible_foreign_keys": {
               "*": [
                  {
                     "source": [
                        {"inbound": ["CFDE", "collection_in_collection_superset_fkey"]},
                        {"outbound": ["CFDE", "collection_in_collection_subset_fkey"]},
                        "nid"
                     ]
                  },
                  {
                     "source": [
                        {"inbound": ["CFDE", "subject_in_collection_collection_fkey"]},
                        {"outbound": ["CFDE", "subject_in_collection_subject_fkey"]},
                        "nid"
                     ]
                  },
                  {
                     "source": [
                        {"inbound": ["CFDE", "biosample_in_collection_collection_fkey"]},
                        {"outbound": ["CFDE", "biosample_in_collection_biosample_fkey"]},
                        "nid"
                     ]
                  },
                  {
                     "source": [
                        {"inbound": ["CFDE", "file_in_collection_collection_fkey"]},
                        {"outbound": ["CFDE", "file_in_collection_file_fkey"]},
                        "nid"
                     ]
                  }
               ]
            },
            "visible_columns": {
               "export": [],
               "compact": [
                  {"sourcekey": "S_dcc_array"},
                  {"sourcekey": "S_project_array"},
                  {"sourcekey": "S_disease_array"},
                  {"sourcekey": "S_phenotype_array"},
                  "name",
                  "description",
                  {"sourcekey": "S_creation_time"}
               ],
               "detailed": [
                  {"sourcekey": "S_id_namespace"},
                  "local_id",
                  "persistent_id",
                  {"sourcekey": "S_project"},
                  "name",
                  "description",
                  {"sourcekey": "S_creation_time"},
                  {"sourcekey": "S_anatomy_assoc"},
                  {"sourcekey": "S_compound_assoc"},
                  {"sourcekey": "S_disease_assoc"},
                  {"sourcekey": "S_gene_assoc"},
                  {"sourcekey": "S_phenotype_assoc"},
                  {"sourcekey": "S_protein_assoc"},
                  {"sourcekey": "S_substance_assoc"},
                  {"sourcekey": "S_taxonomy_assoc"},
                  "has_time_series_data",
                  {
                     "source": [
                        {"inbound": ["CFDE", "collection_in_collection_subset_fkey"]},
                        {"outbound": ["CFDE", "collection_in_collection_superset_fkey"]},
                        "nid"
                     ]
                  }
               ],
               "filter": {"and": [
                  {"sourcekey": "S_data_type_slim", "open": true},
                  {"sourcekey": "S_data_type"},
                  {"sourcekey": "S_file_format_slim"},
                  {"sourcekey": "S_file_format"},
                  {"sourcekey": "S_assay_type_slim"},
                  {"sourcekey": "S_assay_type"},
                  {"sourcekey": "S_sample_prep_method"},
                  {"sourcekey": "S_anatomy_slim", "open": true},
                  {"sourcekey": "S_anatomy"},
                  {"sourcekey": "S_ncbi_taxons_slim"},
                  {"sourcekey": "S_ncbi_taxons"},
                  {"sourcekey": "S_disease_slim"},
                  {"sourcekey": "S_disease"},
                  {"sourcekey": "S_compound"},
                  {"sourcekey": "S_protein_assoc"},
                  {"sourcekey": "S_gene"},
                  {"sourcekey": "S_phenotype"},
                  {"sourcekey": "S_dcc"},
                  {"sourcekey": "S_super_projects"},
                  {"sourcekey": "S_subject_granularities"},
                  {"sourcekey": "S_subject_role"},
                  {
                     "source": [ "has_time_series_data" ]
                  },
                  {
                     "markdown_name": "Collection Creation Time",
                     "sourcekey": "S_creation_time"
                  }
               ]}
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "file",
         "title": "File",
         "description": "A digital asset",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this file in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "combined_fact",
                  "description": "Numeric, surrogate key representing this file's combined metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["combined_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "core_fact",
                  "description": "Numeric, surrogate key representing this file's core metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["core_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "gene_fact",
                  "description": "Numeric, surrogate key representing this file's gene metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["gene_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "protein_fact",
                  "description": "Numeric, surrogate key representing this file's protein metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["protein_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "pubchem_fact",
                  "description": "Numeric, surrogate key representing this file's pubchem metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["pubchem_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "is_bundle",
                  "description": "Boolean true when described file entities specify a bundle_collection manifest.",
                  "type": "boolean",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": true,
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "has_persistent_id",
                  "description": "Boolean true when described entities specify a persistent_id.",
                  "type": "boolean",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": true,
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "projects",
                  "description": "The numeric IDs of source or defining project(s) attributed for the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "dccs",
                  "description": "The numeric IDs of source or defining DCC(s) attributed for the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "phenotypes_flat",
                  "description": "The numeric IDs of the phenotype terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "diseases_flat",
                  "description": "The numeric IDs of the disease terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "sexes",
                  "description": "The numeric ID of the sex terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "races",
                  "description": "The numeric ID of the race terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "ethnicities",
                  "description": "The numeric ID of the ethnicity terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "subject_roles",
                  "description": "The numeric ID of subject_role terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "subject_granularities",
                  "description": "The numeric ID of subject_granularity terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "subject_species",
                  "description": "The numeric ID of subject-species terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "ncbi_taxons",
                  "description": "The numeric ID of ncbi_taxonomy terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "anatomies",
                  "description": "The numeric ID of anatomy terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "sample_prep_methods",
                  "description": "The numeric ID of sample_prep_method terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "assay_types",
                  "description": "The numeric ID of assay_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "analysis_types",
                  "description": "The numeric ID of analysis_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "file_formats",
                  "description": "The numeric ID of file_format terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "compression_formats",
                  "description": "The numeric ID of compression_format terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "data_types",
                  "description": "The numeric ID of data_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "mime_types",
                  "description": "The numeric ID of mime_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "dbgap_study_ids",
                  "description": "The numeric ID of the dbgap_study_id terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "genes",
                  "description": "The numeric ID of the gene terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "substances",
                  "description": "The numeric ID of the substance terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "compounds",
                  "description": "The numeric ID of the compound terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "proteins",
                  "description": "The numeric ID of the protein terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "creation_time",
                  "description": "An ISO 8601 -- RFC 3339 (subset)-compliant timestamp documenting this file's creation time: YYYY-MM-DDTHH:MM:SSNN:NN",
                  "type": "datetime",
                  "format": "any"
               },
               {
                  "name": "size_in_bytes",
                  "description": "The size of this file in bytes",
                  "type": "integer",
                  "format": "int8"
               },
               {
                  "name": "uncompressed_size_in_bytes",
                  "description": "The total decompressed size in bytes of the contents of this file",
                  "type": "integer",
                  "format": "int8"
               },
               {
                  "name": "persistent_id",
                  "title": "Persistent ID",
                  "description": "A persistent, resolvable (not nec. retrievable) URI generated by a DCC (using, e.g., our minid server) and attached to this file",
                  "type": "string",
                  "constraints": {
                     "unique": true
                  }
               },
               {
                  "name": "bundle_collection",
                  "description": "Numeric ID for the collection representing the sub-files of this archive (bundle) file.",
                  "type": "integer"
               },
               {
                  "name": "id",
                  "description": "The concatenated, namespace-qualified id for this file.",
                  "type": "string",
                  "constraints": {
                     "unique": true
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "nid" ],
            "foreignKeys": [
               {
                  "fields": "combined_fact",
                  "constraint_name": "file_combined_fact_fkey",
                  "reference": {
                     "resource": "combined_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "core_fact",
                  "constraint_name": "file_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "gene_fact",
                  "constraint_name": "file_gene_fact_fkey",
                  "reference": {
                     "resource": "gene_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "protein_fact",
                  "constraint_name": "file_protein_fact_fkey",
                  "reference": {
                     "resource": "protein_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "pubchem_fact",
                  "constraint_name": "file_pubchem_fact_fkey",
                  "reference": {
                     "resource": "pubchem_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "bundle_collection",
                  "constraint_name": "file_bundle_collection_fkey",
                  "reference": {
                     "title": "Bundle Collection",
                     "resource": "collection",
                     "fields": "nid"
                  }
               }
            ]
         },
         "deriva": {
            "export_2019": {
               "*": {
                  "templates": [
                     {
                        "displayname": "File BDBAG",
                        "type": "BAG",
                        "outputs": [
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "c2m2:file"
                              },
                              "destination": {
                                 "name": "file",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "cf:=(core_fact)/CFDE:core_fact_project/(project)=(CFDE:project_in_project_transitive:member_project)/p:=(leader_project)=(c2m2:project:nid)"
                              },
                              "destination": {
                                 "name": "project",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "cf:=(core_fact)/CFDE:core_fact_project/(project)=(CFDE:project_in_project_transitive:member_project)/(leader_project)=(CFDE:project_in_project:child_project)/(nid)=(c2m2:project_in_project:nid)"
                              },
                              "destination": {
                                 "name": "project_in_project",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_file_format/(file_format)=(c2m2:file_format:nid)"
                              },
                              "destination": {
                                 "name": "file_format",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_data_type/(data_type)=(c2m2:data_type:nid)"
                              },
                              "destination": {
                                 "name": "data_type",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_sample_prep_method/(sample_prep_method)=(c2m2:sample_prep_method:nid)"
                              },
                              "destination": {
                                 "name": "sample_prep_method",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_assay_type/(assay_type)=(c2m2:assay_type:nid)"
                              },
                              "destination": {
                                 "name": "assay_type",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:file_describes_biosample/(biosample)=(c2m2:biosample:nid)"
                              },
                              "destination": {
                                 "name": "biosample",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_anatomy/(anatomy)=(c2m2:anatomy:nid)"
                              },
                              "destination": {
                                 "name": "anatomy",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_disease/(disease)=(c2m2:disease:nid)"
                              },
                              "destination": {
                                 "name": "disease",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(gene_fact)/CFDE:gene_fact_gene/(gene)=(c2m2:gene:nid)"
                              },
                              "destination": {
                                 "name": "gene",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(pubchem_fact)/CFDE:pubchem_fact_substance/(substance)=(c2m2:substance:nid)"
                              },
                              "destination": {
                                 "name": "substance",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(pubchem_fact)/CFDE:pubchem_fact_compound/(compound)=(c2m2:compound:nid)"
                              },
                              "destination": {
                                 "name": "compound",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:file_describes_biosample/(biosample)=(CFDE:biosample_disease:biosample)/(nid)=(c2m2:biosample_disease:nid)"
                              },
                              "destination": {
                                 "name": "biosample_disease",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:file_describes_biosample/(biosample)=(CFDE:biosample_gene:biosample)/(nid)=(c2m2:biosample_gene:nid)"
                              },
                              "destination": {
                                 "name": "biosample_gene",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:file_describes_biosample/(biosample)=(CFDE:biosample_substance:biosample)/(nid)=(c2m2:biosample_substance:nid)"
                              },
                              "destination": {
                                 "name": "biosample_substance",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:file_describes_biosample/(biosample)=(CFDE:biosample_from_subject:biosample)/(nid)=(c2m2:biosample_from_subject:nid)"
                              },
                              "destination": {
                                 "name": "biosample_from_subject",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:file_describes_subject/(subject)=(c2m2:subject:nid)"
                              },
                              "destination": {
                                 "name": "subject",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_subject_granularity/(subject_granularity)=(c2m2:subject_granularity:nid)"
                              },
                              "destination": {
                                 "name": "subject_granularity",
                                 "type": "csv"
                              }
                           },
                           {

                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:file_describes_subject/(subject)/CFDE:subject_role_taxonomy/(nid)=(c2m2:subject_role_taxonomy:nid)"
                              },
                              "destination": {
                                 "name": "subject_role_taxonomy",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_subject_role/(subject_role)=(c2m2:subject_role:nid)"
                              },
                              "destination": {
                                 "name": "subject_role",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_ncbi_taxonomy/(ncbi_taxon)=(c2m2:ncbi_taxonomy:nid)"
                              },
                              "destination": {
                                 "name": "ncbi_taxonomy",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_sex/(sex)=(c2m2:sex:nid)"
                              },
                              "destination": {
                                 "name": "sex",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_race/(race)=(c2m2:race:nid)"
                              },
                              "destination": {
                                 "name": "race",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_ethnicity/(ethnicity)=(c2m2:ethnicity:nid)"
                              },
                              "destination": {
                                 "name": "ethnicity",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:file_describes_subject/(subject)=(CFDE:subject_race:subject)/(nid)=(c2m2:subject_race:nid)"
                              },
                              "destination": {
                                 "name": "subject_race",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:file_describes_subject/(subject)=(CFDE:subject_substance:subject)/(nid)=(c2m2:subject_substance:nid)"
                              },
                              "destination": {
                                 "name": "subject_substance",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:file_describes_subject/(subject)=(CFDE:subject_disease:subject)/(nid)=(c2m2:subject_disease:nid)"
                              },
                              "destination": {
                                 "name": "subject_disease",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:file_describes_subject/(subject)=(CFDE:subject_phenotype:subject)/(nid)=(c2m2:subject_phenotype:nid)"
                              },
                              "destination": {
                                 "name": "subject_phenotype",
                                 "type": "csv"
                              }
                           }
                        ]
                     },
                     {
                        "displayname": "NCPI file manifest",
                        "type": "FILE",
                        "outputs": [
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "(nid)=(CFDE:ncpi_file:nid)/name,drs_uri,study_registration,study_id,participant_id,specimen_id,experimental_strategy,file_format"
                              },
                              "destination": {
                                 "name": "ncpi_manifest",
                                 "type": "csv"
                              }
                           }
                        ]
                     }
                  ]
               }
            },
            "display": {
               "show_saved_query": true
            },
            "table_config": {
               "stable_key_columns": ["id"],
               "aggressive_facet_lookup": true
            },
            "table_display": {
               "*": {
                  "row_order": [ "nid" ]
               },
               "row_name": {
                  "wait-for": ["persistent_id", "id"],
                  "row_markdown_pattern": "{{#persistent_id}}{{persistent_id}}{{/persistent_id}}{{^persistent_id}}{{id}}{{/persistent_id}}"
               }
            },
            "source_definitions": {
               "columns": ["persistent_id", "size_in_bytes", "uncompressed_size_in_bytes"],
               "fkeys": false,
               "search-box": {"or": [
                  {
                     "source": [
                        {"inbound": ["CFDE", "file_keywords_file_fkey"]},
                        {"outbound": ["CFDE", "file_keywords_kw_fkey"]},
                        "kw"
                     ],
                     "markdown_name": "project, collection, or C2M2 CV terms",
                     "comment": "file-format, data-type, assay-type, anatomy, disease, taxonomy, subject granularity, project, or collection keywords"
                  }
               ]},
               "sources": {
                  "S_c2m2_file": {
                     "source": [{"outbound": ["CFDE", "file_nid_c2m2_fkey"]}, "nid"]
                  },
                  "S_combined_fact": {
                     "source": [{"outbound": ["CFDE", "file_combined_fact_fkey"]}, "nid" ]
                  },
                  "S_core_fact": {
                     "source": [{"outbound": ["CFDE", "file_core_fact_fkey"]}, "nid" ]
                  },
                  "S_gene_fact": {
                     "source": [{"outbound": ["CFDE", "file_gene_fact_fkey"]}, "nid" ]
                  },
                  "S_pubchem_fact": {
                     "source": [{"outbound": ["CFDE", "file_pubchem_fact_fkey"]}, "nid" ]
                  },
                  "S_id_namespace": {
                     "comment": "The namespace qualifier for the file ID.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"outbound": ["CFDE", "core_fact_id_namespace_fkey"]},
                        "nid"
                     ]
                  },
                  "S_is_bundle": {
                     "markdown_name": "Is Bundle",
                     "comment": "The file is a bundle (archive) specifying its content manifest as a collection.",
                     "source": [
                        "is_bundle"
                     ],
                     "entity": false
                  },
                  "S_has_persistent_id": {
                     "markdown_name": "Has Persistent ID",
                     "comment": "The file is assigned a persistent ID.",
                     "source": [
                        "has_persistent_id"
                     ],
                     "entity": false
                  },
                  "S_dbgap_study_id": {
                     "markdown_name": "dbGaP Study ID",
                      "source": [
                          {"sourcekey": "S_core_fact"},
                          {"outbound": ["CFDE", "core_fact_dbgap_study_id_fkey"]},
                          "nid"
                      ],
                     "entity": true,
                     "fast_filter_source": [ "dbgap_study_ids" ]
                  },
                  "S_bundle_collection": {
                     "markdown_name": "Bundle Collection",
                     "comment": "The collection describing the contents of this bundle (archive) file.",
                     "source": [
                        {"outbound": ["CFDE", "file_bundle_collection_fkey"]},
                        "nid"
                     ]
                  },
                  "S_project": {
                     "markdown_name": "Project",
                     "comment": "The project attributed as the source of the file.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"outbound": ["CFDE", "core_fact_project_fkey"]},
                        "nid"
                     ]
                  },
                  "S_super_projects": {
                     "markdown_name": "Project",
                     "comment": "The project (or any super-projects) attributed as source of the file.",
                     "source": [
                        {"sourcekey": "S_project"},
                        {"inbound": ["CFDE", "project_in_project_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_transitive_leader_fkey"]},
                        "nid"
                     ]
                  },
                  "S_dcc": {
                     "markdown_name": "Common Fund Program",
                     "comment": "The data coordinating center attributed as source of the file.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_dcc_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_dcc_dcc_fkey"]},
                        "nid"
                     ],
                     "entity": true,
                     "fast_filter_source": [ "dccs" ]
                  },
                  "S_dcc_array": {
                     "markdown_name": "Common Fund Program",
                     "comment": "The data coordinating center attributed as source of the file.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_dcc_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_dcc_dcc_fkey"]},
                        "nid"
                     ],
                     "aggregate": "array_d"
                  },
                  "S_file_format": {
                     "comment": "File format of the file, offering original terms and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_file_format_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_file_format_file_format_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "file_formats" ]
                  },
                  "S_file_format_slim": {
                     "markdown_name": "File Format (slim)",
                     "comment": "File format of the file, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_file_format_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_file_format_file_format_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "file_formats" ]
                  },
                  "S_compression_format": {
                     "markdown_name": "Compression Format",
                     "comment": "The compression format of the file.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"outbound": ["CFDE", "core_fact_compression_format_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "compression_formats" ]
                  },
                  "S_data_type": {
                     "comment": "Data type of a the file, offering original terms and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_data_type_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_data_type_data_type_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "data_types" ]
                  },
                  "S_data_type_slim": {
                     "markdown_name": "Data Type (slim)",
                     "comment": "Data type of a the file, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_data_type_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_data_type_data_type_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "data_types" ]
                  },
                  "S_creation_time": {
                     "comment": "The time when the file was created.",
                     "source": "creation_time"
                  },
                  "S_described_biosamples": {
                     "comment": "Biosamples described or characterized by the file.",
                     "source": [
                        {"inbound": ["CFDE", "file_describes_biosample_file_fkey"]},
                        {"outbound": ["CFDE", "file_describes_biosample_biosample_fkey"]},
                        "nid"
                     ]
                  },
                  "S_anatomy": {
                     "comment": "Anatomy for biosamples, offering original terms and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_anatomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_anatomy_anatomy_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "anatomies" ]
                  },
                  "S_anatomy_slim": {
                     "markdown_name": "Anatomy (slim)",
                     "comment": "Anatomy for biosamples, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_anatomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_anatomy_anatomy_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "anatomies" ]
                  },
                  "S_sample_prep_method": {
                     "comment": "Sample prep method of related biosamples.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_sample_prep_method_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_sample_prep_method_sample_prep_method_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "sample_prep_methods" ]
                  },
                  "S_assay_type": {
                     "comment": "Assay type of a file, offering original terms and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_assay_type_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_assay_type_assay_type_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "assay_types" ]
                  },
                  "S_assay_type_slim": {
                     "markdown_name": "Assay Type (slim)",
                     "comment": "Assay type of a file, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_assay_type_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_assay_type_assay_type_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "assay_types" ]
                  },
                  "S_analysis_type": {
                     "comment": "Analysis type used to generate the file.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"outbound": ["CFDE", "core_fact_analysis_type_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "analysis_types" ]
                  },
                  "S_subject_granularity": {
                     "comment": "The specificity of the subject description, e.g. organism versus cell-line, of subjects described directly or indirectly by the file.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_subject_granularity_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_subject_granularity_subject_granularity_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "subject_granularities" ]
                  },
                  "S_subject_role": {
                     "comment": "The taxonomy role(s) of subjects described directly or indirectly by the file.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_subject_role_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_subject_role_subject_role_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "subject_roles" ]
                  },
                  "S_described_subjects": {
                     "comment": "Subjects described or characterized by the file.",
                     "source": [
                        {"inbound": ["CFDE", "file_describes_subject_file_fkey"]},
                        {"outbound": ["CFDE", "file_describes_subject_subject_fkey"]},
                        "nid"
                     ]
                  },
                  "S_disease": {
                     "comment": "Disease for collection, biosample, or subject, offering original terms and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_disease_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_disease_disease_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "diseases_flat" ]
                  },
                  "S_disease_slim": {
                     "markdown_name": "Disease (slim)",
                     "comment": "Disease for collection, biosample, or subject, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_disease_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_disease_disease_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "diseases_flat" ]
                  },
                  "S_phenotype": {
                     "markdown_name": "Phenotype",
                     "comment": "A phenotype linked to the subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_phenotype_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_phenotype_phenotype_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "phenotypes_flat" ]
                  },
                  "S_substance": {
                     "markdown_name": "Substance",
                     "comment": "A substance linked to the biosample or subject.",
                     "source": [
                        {"sourcekey": "S_pubchem_fact"},
                        {"inbound": ["CFDE", "pubchem_fact_substance_pubchem_fact_fkey"]},
                        {"outbound": ["CFDE", "pubchem_fact_substance_substance_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "substances" ]
                  },
                  "S_compound": {
                     "markdown_name": "Compound",
                     "comment": "A compound linked to the biosample or subject.",
                     "source": [
                        {"sourcekey": "S_pubchem_fact"},
                        {"inbound": ["CFDE", "pubchem_fact_compound_pubchem_fact_fkey"]},
                        {"outbound": ["CFDE", "pubchem_fact_compound_compound_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "compounds" ]
                  },
                  "S_gene": {
                     "markdown_name": "Gene",
                     "comment": "A gene linked to the biosample.",
                     "source": [
                        {"sourcekey": "S_gene_fact"},
                        {"inbound": ["CFDE", "gene_fact_gene_gene_fact_fkey"]},
                        {"outbound": ["CFDE", "gene_fact_gene_gene_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "genes" ]
                  },
                  "S_part_of_collections": {
                     "markdown_name": "Part of Collection",
                     "comment": "Collections with the file record as a directly or indirectly constituent member.",
                     "source": [
                        {"inbound": ["CFDE", "file_in_collection_file_fkey"]},
                        {"outbound": ["CFDE", "file_in_collection_collection_fkey"]},
                        {"inbound": ["CFDE", "collection_in_collection_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "collection_in_collection_transitive_leader_fkey"]},
                        "nid"
                     ]
                  },
                  "S_taxonomy": {
                     "markdown_name": "Subject Taxonomy",
                     "comment": "The taxonomy concept(s) characterizing subjects described directly or indirectly by the file.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_ncbi_taxonomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_ncbi_taxonomy_ncbi_taxon_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "ncbi_taxons" ]
                  },
                  "S_taxonomy_slim": {
                     "markdown_name": "Subject Taxonomy (slim)",
                     "comment": "The taxonomy concept(s) characterizing subjects described directly or indirectly by the file, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_ncbi_taxonomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_ncbi_taxonomy_ncbi_taxon_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "ncbi_taxons" ]
                  },
                  "S_sex": {
                     "comment": "A sex linked to the described subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_sex_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_sex_sex_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "sexes" ]
                  },
                  "S_race": {
                     "markdown_name": "Race",
                     "comment": "A race linked to the described subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_race_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_race_race_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "races" ]
                  },
                  "S_ethnicity": {
                     "comment": "An ethnicity linked to the described subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_ethnicity_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_ethnicity_ethnicity_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "ethnicities" ]
                  },
                  "S_age_at_enrollment": {
                     "markdown_name": "Age at Enrollment",
                     "comment": "The age in years of a described subject when they were first enrolled in the primary project within with they were studied.",
                     "source": [
                        {"inbound": ["CFDE", "file_describes_subject_file_fkey"]},
                        {"outbound": ["CFDE", "file_describes_subject_subject_fkey"]},
                        "age_at_enrollment"
                     ]
                  },
                  "S_age_at_sampling": {
                     "markdown_name": "Age at Sampling",
                     "comment": "The subject age in years when the described biosample was taken from the subject.",
                     "source": [
                        {"inbound": ["CFDE", "file_describes_biosample_file_fkey"]},
                        {"outbound": ["CFDE", "file_describes_biosample_biosample_fkey"]},
                        {"inbound": ["CFDE", "biosample_from_subject_biosample_fkey"]},
                        "age_at_sampling"
                     ]
                  },
                  "S_filename": {
                     "markdown_name": "Filename",
                     "aggregate": "array_d",
                     "comment": "Base filename of this file as known by the DCC.",
                     "source":  [{"sourcekey": "S_c2m2_file"}, "filename"],
                     "display": {
                        "markdown_pattern": "{{{$_self.0}}}"
                     }
                  },
                  "S_local_id": {
                     "markdown_name": "Local ID",
                     "aggregate": "array_d",
                     "comment": "An ID representing this file, unique in combination with this file's id_namespace",
                     "source":  [{"sourcekey": "S_c2m2_file"}, "local_id"],
                     "display": {
                        "markdown_pattern": "{{{$_self.0}}}"
                     }
                  },
                  "S_md5": {
                     "markdown_name": "MD5",
                     "aggregate": "array_d",
                     "comment": "The output of the MD5 hash algorithm applied to this file's contents.",
                     "source":  [{"sourcekey": "S_c2m2_file"}, "md5"],
                     "display": {
                        "markdown_pattern": "{{{$_self.0}}}"
                     }
                  },
                  "S_sha256": {
                     "markdown_name": "SHA256",
                     "aggregate": "array_d",
                     "comment": "The output of the SHA-256 hash algorithm applied to this file's contents.",
                     "source":  [{"sourcekey": "S_c2m2_file"}, "sha256"],
                     "display": {
                        "markdown_pattern": "{{{$_self.0}}}"
                     }
                  }
               }
            },
            "visible_foreign_keys": {
               "*": [
                  ["CFDE", "personal_collection_file_file_fkey"],
                  {"sourcekey": "S_described_biosamples"},
                  {"sourcekey": "S_described_subjects"},
                  {"sourcekey": "S_part_of_collections"}
               ]
            },
            "visible_columns": {
               "export": [],
               "compact": [
                  {"sourcekey": "S_dcc_array"},
                  {
                     "markdown_name": "Project",
                     "aggregate": "array_d",
                     "comment": "The project attributed as the source of the file.",
                     "source": [ {"sourcekey": "S_core_fact"}, "project_row" ],
                     "display": {
                        "markdown_pattern": "{{{$_self.0.name}}}"
                     }
                  },
                  {
                      "markdown_name": "dbGaP Study Id",
                      "aggregate": "array_d",
                      "comment": "The name of a dbGaP study ID governing access control for this file.",
                      "source": [  {"sourcekey": "S_core_fact"}, "dbgap_study_id_row" ],
                      "display": {
                          "template_engine": "handlebars",
                          "markdown_pattern": "{{#if $_self.[0].id}}{{#if $session.client}}{{#if $session.client.extensions}}{{#if $session.client.extensions.has_ras_permissions}}{{#if (lookup $session.client.extensions.ras_dbgap_phs_ids $_self.[0].id) }}:span::/span:{title=\"User has access to this file.\" .cfde_green_disc} {{else}}:span::/span:{title=\"User does not have access to this file.\" .cfde_yellow_disc} {{/if}}{{else}}:span::/span:{title=\"User does not have access to this file.\" .cfde_yellow_disc} {{/if}}{{else}}:span::/span:{title=\"User access to this file undetermined, check log in credentials.\" .cfde_grey_disc} {{/if}}{{/if}}{{/if}}{{{$_self.[0].id}}}"
                      }
                  },
                  {
                     "markdown_name": "File Format",
                     "aggregate": "array_d",
                     "comment": "The content format of the file.",
                     "source": [  {"sourcekey": "S_core_fact"}, "file_format_row" ],
                     "display": {
                        "markdown_pattern": "{{{$_self.0.name}}}"
                     }
                  },
                  {
                     "markdown_name": "Data Type",
                      "aggregate": "array_d",
                     "comment": "The type of data represented by the file.",
                     "source": [  {"sourcekey": "S_core_fact"}, "data_type_row" ],
                     "display": {
                        "markdown_pattern": "{{{$_self.0.name}}}"
                     }
                  },
                  {
                     "markdown_name": "Assay Type",
                      "aggregate": "array_d",
                     "comment": "Assay type used to generate the file.",
                     "source": [  {"sourcekey": "S_core_fact"}, "assay_type_row" ],
                     "display": {
                        "markdown_pattern": "{{{$_self.0.name}}}"
                     }
                  },
                  {
                     "markdown_name": "Analysis Type",
                      "aggregate": "array_d",
                     "comment": "Assay type used to generate the file.",
                     "source": [  {"sourcekey": "S_core_fact"}, "analysis_type_row" ],
                     "display": {
                        "markdown_pattern": "{{{$_self.0.name}}}"
                     }
                  },
                  "size_in_bytes",
                  {"sourcekey": "S_filename"},
                  "persistent_id",
                  {"sourcekey": "S_creation_time"}
               ],
               "detailed": [
                  {"sourcekey": "S_id_namespace"},
                  {"sourcekey": "S_local_id"},
                  "persistent_id",
                  {"sourcekey": "S_filename"},
                  {"sourcekey": "S_project"},
                  "size_in_bytes",
                  "uncompressed_size_in_bytes",
                  {"sourcekey": "S_compression_format"},
                  {"sourcekey": "S_bundle_collection"},
                  {"sourcekey": "S_file_format"},
                  {"sourcekey": "S_data_type"},
                  {"sourcekey": "S_assay_type"},
                  {"sourcekey": "S_analysis_type"},
                  {"sourcekey": "S_creation_time"},
                  {
                      "source": [  {"sourcekey": "S_core_fact"}, "dbgap_study_id_row" ],
                      "display": {
                         "template_engine": "handlebars",
                         "markdown_pattern": "{{#if $_self.id}}{{#if $session.client}}{{#if $session.client.extensions}}{{#if $session.client.extensions.has_ras_permissions}}{{#if (lookup $session.client.extensions.ras_dbgap_phs_ids $_self.id) }}:span::/span:{title=\"User has access to this file.\" .cfde_green_disc} {{else}}:span::/span:{title=\"User does not have access to this file.\" .cfde_yellow_disc} {{/if}}{{else}}:span::/span:{title=\"User does not have access to this file.\" .cfde_yellow_disc} {{/if}}{{else}}:span::/span:{title=\"User access to this file undetermined, check log in credentials.\" .cfde_grey_disc} {{/if}}{{/if}}{{/if}}{{{$_self.id}}}"
                      }
                  },
                  {"sourcekey": "S_sha256"},
                  {"sourcekey": "S_md5"}
               ],
               "filter": {"and": [
                  {"sourcekey": "S_data_type_slim", "open": true},
                  {"sourcekey": "S_data_type"},
                  {"sourcekey": "S_file_format_slim"},
                  {"sourcekey": "S_file_format"},
                  {"sourcekey": "S_assay_type_slim"},
                  {"sourcekey": "S_assay_type"},
                  {"sourcekey": "S_analysis_type"},
                  {"sourcekey": "S_sample_prep_method"},
                  {"sourcekey": "S_anatomy_slim", "open": true},
                  {"sourcekey": "S_anatomy"},
                  {"sourcekey": "S_taxonomy_slim"},
                  {"sourcekey": "S_taxonomy"},
                  {"sourcekey": "S_disease_slim"},
                  {"sourcekey": "S_disease"},
                  {"sourcekey": "S_phenotype"},
                  {"sourcekey": "S_compound"},
                  {"sourcekey": "S_gene"},
                  {"sourcekey": "S_age_at_sampling"},
                  {"sourcekey": "S_sex"},
                  {"sourcekey": "S_race"},
                  {"sourcekey": "S_ethnicity"},
                  {"sourcekey": "S_age_at_enrollment"},
                  {"sourcekey": "S_dbgap_study_id"},
                  {"sourcekey": "S_dcc"},
                  {"sourcekey": "S_super_projects"},
                  {"sourcekey": "S_subject_granularity"},
                  {"sourcekey": "S_subject_Role"},
                  {
                     "markdown_name": "File Creation Time",
                     "sourcekey": "S_creation_time"
                  },
                  {"source": "size_in_bytes"},
                  {"sourcekey": "S_has_persistent_id"},
                  {"sourcekey": "S_is_bundle"},
                  {"source": "uncompressed_size_in_bytes"},
                  {"sourcekey": "S_compression_format"}
               ]}
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "biosample",
         "title": "Biosample",
         "description": "A tissue sample or other physical specimen",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this biosample in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "combined_fact",
                  "description": "Numeric, surrogate key representing this biosample's combined metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["combined_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "core_fact",
                  "description": "Numeric, surrogate key representing this biosample's core metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["core_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "gene_fact",
                  "description": "Numeric, surrogate key representing this biosample's gene metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["gene_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "protein_fact",
                  "description": "Numeric, surrogate key representing this biosample's protein metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["protein_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "pubchem_fact",
                  "description": "Numeric, surrogate key representing this biosample's pubchem metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["pubchem_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "creation_time",
                  "description": "An ISO 8601 -- RFC 3339 (subset)-compliant timestamp documenting this biosample's creation time: YYYY-MM-DDTHH:MM:SSNN:NN",
                  "type": "datetime",
                  "format": "any"
               },
               {
                  "name": "is_bundle",
                  "description": "Boolean true when described file entities specify a bundle_collection manifest.",
                  "type": "boolean",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": true,
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "has_persistent_id",
                  "description": "Boolean true when described entities specify a persistent_id.",
                  "type": "boolean",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": true,
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "projects",
                  "description": "The numeric IDs of source or defining project(s) attributed for the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "dccs",
                  "description": "The numeric IDs of source or defining DCC(s) attributed for the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "phenotypes_flat",
                  "description": "The numeric IDs of the phenotype terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "diseases_flat",
                  "description": "The numeric IDs of the disease terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "sexes",
                  "description": "The numeric ID of the sex terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "races",
                  "description": "The numeric ID of the race terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "ethnicities",
                  "description": "The numeric ID of the ethnicity terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "subject_roles",
                  "description": "The numeric ID of subject_role terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "subject_granularities",
                  "description": "The numeric ID of subject_granularity terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "subject_species",
                  "description": "The numeric ID of subject-species terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "ncbi_taxons",
                  "description": "The numeric ID of ncbi_taxonomy terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "anatomies",
                  "description": "The numeric ID of anatomy terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "sample_prep_methods",
                  "description": "The numeric ID of sample_prep_method terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "assay_types",
                  "description": "The numeric ID of assay_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "analysis_types",
                  "description": "The numeric ID of analysis_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "file_formats",
                  "description": "The numeric ID of file_format terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "compression_formats",
                  "description": "The numeric ID of compression_format terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "data_types",
                  "description": "The numeric ID of data_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "mime_types",
                  "description": "The numeric ID of mime_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "dbgap_study_ids",
                  "description": "The numeric ID of the dbgap_study_id terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "genes",
                  "description": "The numeric ID of the gene terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "substances",
                  "description": "The numeric ID of the substance terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "compounds",
                  "description": "The numeric ID of the compound terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "proteins",
                  "description": "The numeric ID of the protein terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "local_id",
                  "description": "An ID representing this biosample, unique within this id_namespace",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "persistent_id",
                  "title": "Persistent ID",
                  "description": "A persistent, resolvable (not nec. retrievable) URI generated by a DCC and attached to this biosample",
                  "type": "string"
               },
               {
                  "name": "id",
                  "description": "The concatenated, namespace-qualified id for this biosample.",
                  "type": "string",
                  "constraints": {
                     "unique": true
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "nid" ],
            "foreignKeys": [
               {
                  "fields": "combined_fact",
                  "constraint_name": "biosample_combined_fact_fkey",
                  "reference": {
                     "resource": "combined_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "core_fact",
                  "constraint_name": "biosample_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "gene_fact",
                  "constraint_name": "biosample_gene_fact_fkey",
                  "reference": {
                     "resource": "gene_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "protein_fact",
                  "constraint_name": "biosample_protein_fact_fkey",
                  "reference": {
                     "resource": "protein_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "pubchem_fact",
                  "constraint_name": "biosample_pubchem_fact_fkey",
                  "reference": {
                     "resource": "pubchem_fact",
                     "fields": "nid"
                  }
               }
            ]
         },
         "deriva": {
            "export_2019": {
               "*": {
                  "templates": [
                     {
                        "displayname": "Biosample BDBAG",
                        "type": "BAG",
                        "outputs": [
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "c2m2:biosample"
                              },
                              "destination": {
                                 "name": "biosample",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_project/(project)=(CFDE:project_in_project_transitive:member_project)/(leader_project)=(c2m2:project:nid)"
                              },
                              "destination": {
                                 "name": "project",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_project/(project)=(CFDE:project_in_project_transitive:member_project)/(leader_project)=(CFDE:project_in_project:child_project)/(nid)=(c2m2:project_in_project:nid)"
                              },
                              "destination": {
                                 "name": "project_in_project",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_sample_prep_method/(sample_prep_method)=(c2m2:sample_prep_method:nid)"
                              },
                              "destination": {
                                 "name": "sample_prep_method",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_assay_type/(assay_type)=(c2m2:assay_type:nid)"
                              },
                              "destination": {
                                 "name": "assay_type",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_anatomy/(anatomy)=(c2m2:anatomy:nid)"
                              },
                              "destination": {
                                 "name": "anatomy",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_disease/(disease)=(c2m2:disease:nid)"
                              },
                              "destination": {
                                 "name": "disease",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(gene_fact)/CFDE:gene_fact_gene/(gene)=(c2m2:gene:nid)"
                              },
                              "destination": {
                                 "name": "gene",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(pubchem_fact)/CFDE:pubchem_fact_substance/(substance)=(c2m2:substance:nid)"
                              },
                              "destination": {
                                 "name": "substance",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(pubchem_fact)/CFDE:pubchem_fact_compound/(compound)=(c2m2:compound:nid)"
                              },
                              "destination": {
                                 "name": "compound",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:biosample_disease/(nid)=(c2m2:biosample_disease:nid)"
                              },
                              "destination": {
                                 "name": "biosample_disease",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:biosample_gene/(nid)=(c2m2:biosample_gene:nid)"
                              },
                              "destination": {
                                 "name": "biosample_gene",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:biosample_substance/(nid)=(c2m2:biosample_substance:nid)"
                              },
                              "destination": {
                                 "name": "biosample_substance",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:biosample_from_subject/(nid)=(c2m2:biosample_from_subject:nid)"
                              },
                              "destination": {
                                 "name": "biosample_from_subject",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:biosample_from_subject/(subject)=(c2m2:subject:nid)"
                              },
                              "destination": {
                                 "name": "subject",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_subject_granularity/(subject_granularity)=(c2m2:subject_granularity:nid)"
                              },
                              "destination": {
                                 "name": "subject_granularity",
                                 "type": "csv"
                              }
                           },
                           {

                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:biosample_from_subject/(subject)=(CFDE:subject_role_taxonomy:subject)/(nid)=(c2m2:subject_role_taxonomy:nid)"
                              },
                              "destination": {
                                 "name": "subject_role_taxonomy",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_subject_role/(subject_role)=(c2m2:subject_role:nid)"
                              },
                              "destination": {
                                 "name": "subject_role",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_ncbi_taxonomy/(ncbi_taxon)=(c2m2:ncbi_taxonomy:nid)"
                              },
                              "destination": {
                                 "name": "ncbi_taxonomy",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_sex/(sex)=(c2m2:sex:nid)"
                              },
                              "destination": {
                                 "name": "sex",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_race/(race)=(c2m2:race:nid)"
                              },
                              "destination": {
                                 "name": "race",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_ethnicity/(ethnicity)=(c2m2:ethnicity:nid)"
                              },
                              "destination": {
                                 "name": "ethnicity",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:biosample_from_subject/(subject)=(CFDE:subject_race:subject)/(nid)=(c2m2:subject_race:nid)"
                              },
                              "destination": {
                                 "name": "subject_race",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:biosample_from_subject/(subject)=(CFDE:subject_substance:subject)/(nid)=(c2m2:subject_substance:nid)"
                              },
                              "destination": {
                                 "name": "subject_substance",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:biosample_from_subject/(subject)=(CFDE:subject_disease:subject)/(nid)=(c2m2:subject_disease:nid)"
                              },
                              "destination": {
                                 "name": "subject_disease",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:biosample_from_subject/(subject)=(CFDE:subject_phenotype:subject)/(nid)=(c2m2:subject_phenotype:nid)"
                              },
                              "destination": {
                                 "name": "subject_phenotype",
                                 "type": "csv"
                              }
                           }
                        ]
                     }
                  ]
               }
            },
            "display": {
               "show_saved_query": true
            },
            "table_config": {
               "stable_key_columns": ["id"],
               "aggressive_facet_lookup": true
            },
            "table_display": {
               "*": {
                  "row_order": [ "nid" ]
               },
               "row_name": {
                  "wait-for": ["persistent_id", "id"],
                  "row_markdown_pattern": "{{#persistent_id}}{{persistent_id}}{{/persistent_id}}{{^persistent_id}}{{id}}{{/persistent_id}}"
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": false,
               "search-box": {"or": [
                  {
                     "source": [
                        {"inbound": ["CFDE", "biosample_keywords_biosample_fkey"]},
                        {"outbound": ["CFDE", "biosample_keywords_kw_fkey"]},
                        "kw"
                     ],
                     "markdown_name": "project, collection, or C2M2 CV terms",
                     "comment": "anatomy, disease, file-format, assay-type, data-type, granularity, role, taxonomy, project, collection keywords"
                  }
               ]},
               "sources": {
                  "S_combined_fact": {
                     "source": [{"outbound": ["CFDE", "biosample_combined_fact_fkey"]}, "nid"]
                  },
                  "S_core_fact": {
                     "source": [{"outbound": ["CFDE", "biosample_core_fact_fkey"]}, "nid"]
                  },
                  "S_gene_fact": {
                     "source": [{"outbound": ["CFDE", "biosample_gene_fact_fkey"]}, "nid"]
                  },
                  "S_pubchem_fact": {
                     "source": [{"outbound": ["CFDE", "biosample_pubchem_fact_fkey"]}, "nid"]
                  },
                  "S_id_namespace": {
                     "comment": "The namespace qualifier for the biosample ID.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"outbound": ["CFDE", "core_fact_id_namespace_fkey"]},
                        "nid"
                     ]
                  },
                  "S_sample_prep_method": {
                     "comment": "Sample prep method of a biosample.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_sample_prep_method_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_sample_prep_method_sample_prep_method_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "sample_prep_methods" ]
                  },
                  "S_assay_type": {
                     "comment": "Assay type of related files, offering original terms and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_assay_type_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_assay_type_assay_type_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "assay_types" ]
                  },
                  "S_assay_type_slim": {
                     "markdown_name": "Assay Type (slim)",
                     "comment": "Assay type of related files, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_assay_type_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_assay_type_assay_type_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "assay_types" ]
                  },
                  "S_sample_prep_method_local": {
                     "markdown_name": "Sample Prep Method",
                     "comment": "The sample prep method for the biosample.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"outbound": ["CFDE", "core_fact_sample_prep_method_fkey"]},
                        "nid"
                     ]
                  },
                  "S_anatomy": {
                     "comment": "The anatomy from which the biosample is derived, offering original and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_anatomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_anatomy_anatomy_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "anatomies" ]
                  },
                  "S_anatomy_slim": {
                     "markdown_name": "Anatomy (slim)",
                     "comment": "The anatomy from which the biosample is derived, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_anatomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_anatomy_anatomy_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "anatomies" ]
                  },
                  "S_disease_search": {
                     "comment": "Disease for collection, biosample, or subject, offering original terms and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_disease_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_disease_disease_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "diseases_flat" ]
                  },
                  "S_disease_search_slim": {
                     "markdown_name": "Disease (slim)",
                     "comment": "Disease for collection, biosample, or subject, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_disease_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_disease_disease_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "diseases_flat" ]
                  },
                  "S_phenotype_search": {
                     "markdown_name": "Phenotype",
                     "comment": "A phenotype linked to the subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_phenotype_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_phenotype_phenotype_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "phenotypes_flat" ]
                  },
                  "S_disease": {
                     "markdown_name": "Biosample Disease",
                     "comment": "A disease linked to the biosample.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_disease_biosample_fkey"]},
                        "nid"
                     ]
                  },
                  "S_gene": {
                     "markdown_name": "Gene",
                     "comment": "A gene linked to the biosample.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_gene_biosample_fkey"]},
                        {"outbound": ["CFDE", "biosample_gene_gene_fkey"]},
                        "nid"
                     ]
                  },
                  "S_substance_search": {
                     "markdown_name": "Substance",
                     "comment": "A substance linked to the biosample or subject.",
                     "source": [
                        {"sourcekey": "S_pubchem_fact"},
                        {"inbound": ["CFDE", "pubchem_fact_substance_pubchem_fact_fkey"]},
                        {"outbound": ["CFDE", "pubchem_fact_substance_substance_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "substances" ]
                  },
                  "S_substance": {
                     "markdown_name": "Substance",
                     "comment": "A substance linked to the biosample.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_substance_biosample_fkey"]},
                        {"outbound": ["CFDE", "biosample_substance_substance_fkey"]},
                        "nid"
                     ]
                  },
                  "S_compound_search": {
                     "markdown_name": "Compound",
                     "comment": "A compound linked to the biosample or subject.",
                     "source": [
                        {"sourcekey": "S_pubchem_fact"},
                        {"inbound": ["CFDE", "pubchem_fact_compound_pubchem_fact_fkey"]},
                        {"outbound": ["CFDE", "pubchem_fact_compound_compound_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "compounds" ]
                  },
                  "S_taxonomy": {
                     "markdown_name": "Subject Taxonomy",
                     "comment": "The taxonomy concept(s) characterizing the subject of the biosampling.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_ncbi_taxonomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_ncbi_taxonomy_ncbi_taxon_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "ncbi_taxons" ]
                  },
                  "S_taxonomy_slim": {
                     "markdown_name": "Subject Taxonomy (slim)",
                     "comment": "The taxonomy concept(s) characterizing the subject of the biosampling, offering only \"slim\" terms corresponding to the original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_ncbi_taxonomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_ncbi_taxonomy_ncbi_taxon_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "ncbi_taxons" ]
                  },
                  "S_project": {
                     "comment": "The project attributed as the source of the biosample.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"outbound": ["CFDE", "core_fact_project_fkey"]},
                        "nid"
                     ]
                  },
                  "S_dcc": {
                     "markdown_name": "Common Fund Program",
                     "comment": "The data coordinating center attributed as source of the biosample.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_dcc_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_dcc_dcc_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "dccs" ]
                  },
                  "S_dcc_array": {
                     "markdown_name": "Common Fund Program",
                     "comment": "The data coordinating center attributed as source of the biosample.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_dcc_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_dcc_dcc_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "dccs" ],
                     "aggregate": "array_d"
                  },
                  "S_super_projects": {
                     "markdown_name": "Project",
                     "comment": "The project (or any super-projects) attributed as source of the biosample.",
                     "source": [
                        {"sourcekey": "S_project"},
                        {"inbound": ["CFDE", "project_in_project_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_transitive_leader_fkey"]},
                        "nid"
                     ]
                  },
                  "S_creation_time": {
                     "comment": "The time when the biosample was created.",
                     "source": "creation_time"
                  },
                  "S_subjects": {
                     "comment": "The subject(s) from which the biosample is derived.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_from_subject_biosample_fkey"]},
                        {"outbound": ["CFDE", "biosample_from_subject_subject_fkey"]},
                        "nid"
                     ]
                  },
                  "S_sex": {
                     "comment": "A sex linked to the originating subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_sex_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_sex_sex_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "sexes" ]
                  },
                  "S_race": {
                     "markdown_name": "Race",
                     "comment": "A race linked to the originating subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_race_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_race_race_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "races" ]
                  },
                  "S_ethnicity": {
                     "comment": "An ethnicity linked to the originating subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_ethnicity_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_ethnicity_ethnicity_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "ethnicities" ]
                  },
                  "S_age_at_enrollment": {
                     "markdown_name": "Age at Enrollment",
                     "comment": "The age in years of the originating subject when they were first enrolled in the primary project within with they were studied.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_from_subject_file_fkey"]},
                        {"outbound": ["CFDE", "biosample_from_subject_subject_fkey"]},
                        "age_at_enrollment"
                     ]
                  },
                  "S_age_at_sampling": {
                     "markdown_name": "Age at Sampling",
                     "comment": "The subject age in years when the biosample was taken from a subject.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_from_subject_biosample_fkey"]},
                        "age_at_sampling"
                     ]
                  },
                  "S_age_at_sampling_array": {
                     "markdown_name": "Age at Sampling",
                     "comment": "The subject age in years when the biosample was taken from the subject.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_from_subject_biosample_fkey"]},
                        "age_at_sampling"
                     ],
                     "aggregate": "array_d"
                  },
                  "S_described_by_file": {
                     "comment": "Files whose content describes the biosample.",
                     "source": [
                        {"inbound": ["CFDE", "file_describes_biosample_biosample_fkey"]},
                        {"outbound": ["CFDE", "file_describes_biosample_file_fkey"]},
                        "nid"
                     ]
                  },
                  "S_part_of_collections": {
                     "markdown_name": "Part of Collection",
                     "comment": "Collections with the biosample record as a directly or indirectly constituent member.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_in_collection_biosample_fkey"]},
                        {"outbound": ["CFDE", "biosample_in_collection_collection_fkey"]},
                        {"inbound": ["CFDE", "collection_in_collection_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "collection_in_collection_transitive_leader_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_subjects"},
                  {"sourcekey": "S_described_by_file"},
                  {"sourcekey": "S_part_of_collections"}
               ]
            },
            "visible_columns": {
               "export": [],
               "compact": [
                  {"sourcekey": "S_dcc_array"},
                  {
                     "markdown_name": "Project",
                     "comment": "The project attributed as the source of the biosample.",
                     "source": ["S_core_fact", "project_row"],
                     "display": {
                        "markdown_pattern": "{{{$_self.name}}}"
                     }
                  },
                  {
                     "markdown_name": "Anatomy",
                     "comment": "The anatomy from which the biosample is derived.",
                     "source": ["S_core_fact", "anatomy_row"],
                     "display": {
                        "markdown_pattern": "{{{$_self.name}}}"
                     }
                  },
                  {
                     "markdown_name": "Sample Prep Method",
                     "comment": "The sample prep method of the biosample.",
                     "source": ["S_core_fact", "sample_prep_method_row"],
                     "display": {
                        "markdown_pattern": "{{{$_self.name}}}"
                     }
                  },
                  "local_id",
                  "persistent_id",
                  {"sourcekey": "S_creation_time"},
                  {"sourcekey": "S_age_at_sampling_array"}
               ],
               "detailed": [
                  {"sourcekey": "S_id_namespace"},
                  "local_id",
                  "persistent_id",
                  {"sourcekey": "S_project"},
                  {"sourcekey": "S_sample_prep_method_local"},
                  {"sourcekey": "S_anatomy"},
                  {
                     "sourcekey": "S_disease",
                     "display": {
                        "template_engine": "handlebars",
                        "markdown_pattern": "{{#each $self}}- {{#with values.$fkey_CFDE_biosample_disease_disease_fkey}}[{{{rowName}}}]({{{uri.detailed}}}){{/with}} {{{values.$fkey_CFDE_biosample_disease_association_type_fkey.rowName}}}\n{{/each}}"
                     }
                  },
                  {"sourcekey": "S_substance"},
                  {"sourcekey": "S_gene"},
                  {"sourcekey": "S_age_at_sampling"},
                  {"sourcekey": "S_sex"},
                  {"sourcekey": "S_race"},
                  {"sourcekey": "S_ethnicity"},
                  {"sourcekey": "S_age_at_enrollment"},
                  {"sourcekey": "S_creation_time"}
               ],
               "filter": {"and": [
                  {"sourcekey": "S_sample_prep_method", "open": true},
                  {"sourcekey": "S_anatomy_slim", "open": true},
                  {"sourcekey": "S_anatomy"},
                  {"sourcekey": "S_assay_type_slim", "open": true},
                  {"sourcekey": "S_assay_type"},
                  {"sourcekey": "S_taxonomy_slim"},
                  {"sourcekey": "S_taxonomy"},
                  {"sourcekey": "S_disease_search_slim"},
                  {"sourcekey": "S_disease_search"},
                  {"sourcekey": "S_phenotype_search"},
                  {"sourcekey": "S_compound_search"},
                  {"sourcekey": "S_gene"},
                  {"sourcekey": "S_dcc"},
                  {"sourcekey": "S_super_projects"},
                  {"sourcekey": "S_creation_time"},
                  {"sourcekey": "S_age_at_sampling"}
               ]}
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "subject",
         "title": "Subject",
         "description": "A biological entity from which a biosample can be generated",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this subject in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "combined_fact",
                  "description": "Numeric, surrogate key representing this subject's combined metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["combined_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "core_fact",
                  "description": "Numeric, surrogate key representing this subject's core metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["core_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "gene_fact",
                  "description": "Numeric, surrogate key representing this subject's gene metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["gene_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "protein_fact",
                  "description": "Numeric, surrogate key representing this subject's protein metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["protein_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "pubchem_fact",
                  "description": "Numeric, surrogate key representing this subject's pubchem metadata in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["pubchem_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "age_at_enrollment",
                  "description": "The age in years (with a fixed precision of two digits past the decimal point) of this subject when they were first enrolled in the primary project within which they were studied",
                  "type": "number",
                  "deriva": {
                     "column_display": {
                        "*": {
                           "pre_format": {
                              "format": "%.2f"
                           }
                        }
                     }
                  }
               },
               {
                  "name": "creation_time",
                  "description": "An ISO 8601 -- RFC 3339 (subset)-compliant timestamp documenting this subject record's creation time: YYYY-MM-DDTHH:MM:SSNN:NN",
                  "type": "datetime",
                  "format": "any"
               },
               {
                  "name": "is_bundle",
                  "description": "Boolean true when described file entities specify a bundle_collection manifest.",
                  "type": "boolean",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": true,
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "has_persistent_id",
                  "description": "Boolean true when described entities specify a persistent_id.",
                  "type": "boolean",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": true,
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "projects",
                  "description": "The numeric IDs of source or defining project(s) attributed for the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "dccs",
                  "description": "The numeric IDs of source or defining DCC(s) attributed for the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "phenotypes_flat",
                  "description": "The numeric IDs of the phenotype terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "diseases_flat",
                  "description": "The numeric IDs of the disease terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "sexes",
                  "description": "The numeric ID of the sex terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "races",
                  "description": "The numeric ID of the race terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "ethnicities",
                  "description": "The numeric ID of the ethnicity terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "subject_roles",
                  "description": "The numeric ID of subject_role terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "subject_granularities",
                  "description": "The numeric ID of subject_granularity terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "subject_species",
                  "description": "The numeric ID of subject-species terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "ncbi_taxons",
                  "description": "The numeric ID of ncbi_taxonomy terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "anatomies",
                  "description": "The numeric ID of anatomy terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "sample_prep_methods",
                  "description": "The numeric ID of sample_prep_method terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "assay_types",
                  "description": "The numeric ID of assay_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "analysis_types",
                  "description": "The numeric ID of analysis_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "file_formats",
                  "description": "The numeric ID of file_format terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "compression_formats",
                  "description": "The numeric ID of compression_format terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "data_types",
                  "description": "The numeric ID of data_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "mime_types",
                  "description": "The numeric ID of mime_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "dbgap_study_ids",
                  "description": "The numeric ID of the dbgap_study_id terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "genes",
                  "description": "The numeric ID of the gene terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "substances",
                  "description": "The numeric ID of the substance terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "compounds",
                  "description": "The numeric ID of the compound terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "proteins",
                  "description": "The numeric ID of the protein terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "local_id",
                  "description": "An ID representing this subject, unique within this id_namespace",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "persistent_id",
                  "title": "Persistent ID",
                  "description": "A persistent, resolvable (not nec. retrievable) URI generated by a DCC and attached to this subject",
                  "type": "string"
               },
               {
                  "name": "id",
                  "description": "The concatenated, namespace-qualified id for this subject.",
                  "type": "string",
                  "constraints": {
                     "unique": true
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "nid" ],
            "foreignKeys": [
               {
                  "fields": "combined_fact",
                  "constraint_name": "subject_combined_fact_fkey",
                  "reference": {
                     "resource": "combined_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "core_fact",
                  "constraint_name": "subject_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "gene_fact",
                  "constraint_name": "subject_gene_fact_fkey",
                  "reference": {
                     "resource": "gene_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "protein_fact",
                  "constraint_name": "subject_protein_fact_fkey",
                  "reference": {
                     "resource": "protein_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "pubchem_fact",
                  "constraint_name": "subject_pubchem_fact_fkey",
                  "reference": {
                     "resource": "pubchem_fact",
                     "fields": "nid"
                  }
               }
            ]
         },
         "deriva": {
            "export_2019": {
               "*": {
                  "templates": [
                     {
                        "displayname": "Subject BDBAG",
                        "type": "BAG",
                        "outputs": [
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "c2m2:subject"
                              },
                              "destination": {
                                 "name": "subject",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/(project)=(CFDE:project_in_project_transitive:member_project)/(leader_project)=(c2m2:project:nid)"
                              },
                              "destination": {
                                 "name": "project",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/(project)=(CFDE:project_in_project_transitive:member_project)/(leader_project)=(CFDE:project_in_project:child_project)/(nid)=(c2m2:project_in_project:nid)"
                              },
                              "destination": {
                                 "name": "project_in_project",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/(subject_granularity)=(c2m2:subject_granularity:nid)"
                              },
                              "destination": {
                                 "name": "subject_granularity",
                                 "type": "csv"
                              }
                           },
                           {

                              "source": {
                                 "api": "entity",
                                 "path": "(CFDE:subject_role_taxonomy:subject)/(nid)=(c2m2:subject_role_taxonomy:nid)"
                              },
                              "destination": {
                                 "name": "subject_role_taxonomy",
                                 "type": "csv"
                              }
                           },
                           {

                              "source": {
                                 "api": "entity",
                                 "path": "(CFDE:subject_role_taxonomy:subject)/(role)=(c2m2:subject_role:nid)"
                              },
                              "destination": {
                                 "name": "subject_role",
                                 "type": "csv"
                              }
                           },
                           {

                              "source": {
                                 "api": "entity",
                                 "path": "(CFDE:subject_role_taxonomy:subject)/(taxon)=(c2m2:ncbi_taxonomy:nid)"
                              },
                              "destination": {
                                 "name": "ncbi_taxonomy",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_sex/(sex)=(c2m2:sex:nid)"
                              },
                              "destination": {
                                 "name": "sex",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_race/(race)=(c2m2:race:nid)"
                              },
                              "destination": {
                                 "name": "race",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_ethnicity/(ethnicity)=(c2m2:ethnicity:nid)"
                              },
                              "destination": {
                                 "name": "ethnicity",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:subject_race/(nid)=(c2m2:subject_race:nid)"
                              },
                              "destination": {
                                 "name": "subject_race",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:subject_substance/(nid)=(c2m2:subject_substance:nid)"
                              },
                              "destination": {
                                 "name": "subject_substance",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:subject_disease/(nid)=(c2m2:subject_disease:nid)"
                              },
                              "destination": {
                                 "name": "subject_disease",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "CFDE:subject_phenotype/(nid)=(c2m2:subject_phenotype:nid)"
                              },
                              "destination": {
                                 "name": "subject_phenotype",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_disease/(disease)=(c2m2:disease:nid)"
                              },
                              "destination": {
                                 "name": "disease",
                                 "type": "csv"
                              }
                           },
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "(core_fact)/CFDE:core_fact_phenotype/(phenotype)=(c2m2:phenotype:nid)"
                              },
                              "destination": {
                                 "name": "phenotype",
                                 "type": "csv"
                              }
                           }
                        ]
                     }
                  ]
               }
            },
            "display": {
               "show_saved_query": true
            },
            "table_config": {
               "stable_key_columns": ["id"],
               "aggressive_facet_lookup": true
            },
            "table_display": {
               "*": {
                  "row_order": [ "nid" ]
               },
               "row_name": {
                  "wait-for": ["persistent_id", "id"],
                  "row_markdown_pattern": "{{#persistent_id}}{{persistent_id}}{{/persistent_id}}{{^persistent_id}}{{id}}{{/persistent_id}}"
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "search-box": {"or": [
                  {
                     "source": [
                        {"inbound": ["CFDE", "subject_keywords_subject_fkey"]},
                        {"outbound": ["CFDE", "subject_keywords_kw_fkey"]},
                        "kw"
                     ],
                     "markdown_name": "project, collection, or C2M2 CV terms",
                     "comment": "anatomy, disease, file-format, assay-type, data-type, granularity, role, taxonomy, project, collection keywords"
                  }
               ]},
               "sources": {
                  "S_combined_fact": {
                     "source": [{"outbound": ["CFDE", "subject_combined_fact_fkey"]}, "nid" ]
                  },
                  "S_core_fact": {
                     "source": [{"outbound": ["CFDE", "subject_core_fact_fkey"]}, "nid" ]
                  },
                  "S_gene_fact": {
                     "source": [{"outbound": ["CFDE", "subject_gene_fact_fkey"]}, "nid" ]
                  },
                  "S_pubchem_fact": {
                     "source": [{"outbound": ["CFDE", "subject_pubchem_fact_fkey"]}, "nid" ]
                  },
                  "S_id_namespace": {
                     "comment": "The namespace qualifier for the subject ID.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"outbound": ["CFDE", "core_fact_id_namespace_fkey"]},
                        "nid"
                     ]
                  },
                  "S_project": {
                     "comment": "The project attributed as the source of the subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"outbound": ["CFDE", "core_fact_project_fkey"]},
                        "nid"
                     ]
                  },
                  "S_super_projects": {
                     "markdown_name": "Project",
                     "comment": "The project (or any super-projects) attributed as source of the subject.",
                     "source": [
                        {"sourcekey": "S_project"},
                        {"inbound": ["CFDE", "project_in_project_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_transitive_leader_fkey"]},
                        "nid"
                     ]
                  },
                  "S_dcc": {
                     "markdown_name": "Common Fund Program",
                     "comment": "The Common Fund Program attributed as source of the subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_dcc_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_dcc_dcc_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "dccs" ]
                  },
                  "S_dcc_array": {
                     "markdown_name": "Common Fund Program",
                     "comment": "The Common Fund Program attributed as source of the subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_dcc_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_dcc_dcc_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "dccs" ],
                     "aggregate": "array_d"
                  },
                  "S_disease_search": {
                     "comment": "Disease for collection, biosample, or subject, offering original terms and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_disease_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_disease_disease_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "diseases_flat" ]
                  },
                  "S_disease_search_slim": {
                     "markdown_name": "Disease (slim)",
                     "comment": "Disease for collection, biosample, or subject, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_disease_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_disease_disease_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "diseases_flat" ]
                  },
                  "S_disease": {
                     "markdown_name": "Subject Disease",
                     "comment": "A disease linked to the subject.",
                     "source": [
                        {"inbound": ["CFDE", "subject_disease_subject_fkey"]},
                        "nid"
                     ]
                  },
                  "S_phenotype": {
                     "markdown_name": "Phenotype",
                     "comment": "A phenotype linked to the subject.",
                     "source": [
                        {"inbound": ["CFDE", "subject_phenotype_subject_fkey"]},
                        "nid"
                     ]
                  },
                  "S_phenotype_search": {
                     "markdown_name": "Phenotype",
                     "comment": "A phenotype linked to the subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_phenotype_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_phenotype_phenotype_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "phenotypes_flat" ]
                  },
                  "S_substance_search": {
                     "markdown_name": "Substance",
                     "comment": "A substance linked to the biosample or subject.",
                     "source": [
                        {"sourcekey": "S_pubchem_fact"},
                        {"inbound": ["CFDE", "pubchem_fact_substance_pubchem_fact_fkey"]},
                        {"outbound": ["CFDE", "pubchem_fact_substance_substance_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "substances" ]
                  },
                  "S_substance": {
                     "markdown_name": "Substance",
                     "comment": "A substance linked to the subject.",
                     "source": [
                        {"inbound": ["CFDE", "subject_substance_subject_fkey"]},
                        {"outbound": ["CFDE", "subject_substance_substance_fkey"]},
                        "nid"
                     ]
                  },
                  "S_compound_search": {
                     "markdown_name": "Compound",
                     "comment": "A compound linked to the biosample or subject.",
                     "source": [
                        {"sourcekey": "S_pubchem_fact"},
                        {"inbound": ["CFDE", "pubchem_fact_compound_pubchem_fact_fkey"]},
                        {"outbound": ["CFDE", "pubchem_fact_compound_compound_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "compounds" ]
                  },
                  "S_compound": {
                     "markdown_name": "Compound",
                     "comment": "A compound linked to the subject.",
                     "source": [
                        {"inbound": ["CFDE", "subject_substance_subject_fkey"]},
                        {"outbound": ["CFDE", "subject_substance_substance_fkey"]},
                        {"outbound": ["CFDE", "substance_compound_fkey"]},
                        "nid"
                     ]
                  },
                  "S_gene": {
                     "markdown_name": "Gene",
                     "comment": "A gene linked to the biosample.",
                     "source": [
                        {"sourcekey": "S_gene_fact"},
                        {"inbound": ["CFDE", "gene_fact_gene_gene_fact_fkey"]},
                        {"outbound": ["CFDE", "gene_fact_gene_gene_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "genes" ]
                  },
                  "S_granularity": {
                     "comment": "The specificity of the subject description, e.g. organism versus cell-line.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"outbound": ["CFDE", "core_fact_subject_granularity_fkey"]},
                        "nid"
                     ]
                  },
                  "S_sex": {
                     "comment": "The sex term characterizing this subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"outbound": ["CFDE", "core_fact_sex_fkey"]},
                        "nid"
                     ]
                  },
                  "S_race_search": {
                     "markdown_name": "Race",
                     "comment": "A race linked to the biosample or subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_race_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_race_race_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "races" ]
                  },
                  "S_race": {
                     "comment": "A race term characterizing this subject.",
                     "source": [
                        {"inbound": ["CFDE", "subject_race_subject_fkey"]},
                        {"outbound": ["CFDE", "subject_race_race_fkey"]},
                        "nid"
                     ]
                  },
                  "S_race_array": {
                     "comment": "A race term characterizing this subject.",
                     "source": [
                        {"inbound": ["CFDE", "subject_race_subject_fkey"]},
                        {"outbound": ["CFDE", "subject_race_race_fkey"]},
                        "nid"
                     ],
                     "aggregate": "array_d"
                  },
                  "S_ethnicity": {
                     "comment": "The ethnicity term characterizing this subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"outbound": ["CFDE", "core_fact_ethnicity_fkey"]},
                        "nid"
                     ]
                  },
                  "S_role": {
                     "markdown_name": "Taxonomic Role",
                     "comment": "The taxonomic role concept(s) characterizing the subject.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_subject_role_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_subject_role_subject_role_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "subject_roles" ]
                  },
                  "S_taxonomy": {
                     "markdown_name": "Taxonomy",
                     "comment": "The taxonomy concept(s) characterizing the subject, including original and corresponding slim terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_ncbi_taxonomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_ncbi_taxonomy_ncbi_taxon_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "ncbi_taxons" ]
                  },
                  "S_taxonomy_slim": {
                     "markdown_name": "Taxonomy (slim)",
                     "comment": "The taxonomy concept(s) characterizing the subject, reduced to only corresponding slim terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_ncbi_taxonomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_ncbi_taxonomy_ncbi_taxon_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "ncbi_taxons" ]
                  },
                  "S_taxonomy_array": {
                     "markdown_name": "Taxonomy",
                     "comment": "The taxonomy concept(s) characterizing the subject.",
                     "source": [
                        {"inbound": ["CFDE", "subject_role_taxonomy_subject_fkey"]},
                        {"outbound": ["CFDE", "subject_role_taxonomy_taxonomy_fkey"]},
                        "nid"
                     ],
                     "aggregate": "array_d"
                  },
                  "S_anatomy": {
                     "comment": "Anatomy for related biosamples, offering original terms and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_anatomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_anatomy_anatomy_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "anatomies" ]
                  },
                  "S_anatomy_slim": {
                     "markdown_name": "Anatomy (slim)",
                     "comment": "Anatomy for related biosamples, oferring only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_anatomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_anatomy_anatomy_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "anatomies" ]
                  },
                  "S_sample_prep_method": {
                     "comment": "Sample prep method of a biosample.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_sample_prep_method_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_sample_prep_method_sample_prep_method_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "sample_prep_methods" ]
                  },
                  "S_assay_type": {
                     "comment": "Assay type of a file, offering original terms and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_assay_type_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_assay_type_assay_type_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "assay_types" ]
                  },
                  "S_assay_type_slim": {
                     "markdown_name": "Assay Type (slim)",
                     "comment": "Assay type of a file, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_assay_type_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_assay_type_assay_type_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "assay_types" ]
                  },
                  "S_data_type": {
                     "comment": "Data type of a related file, offering original terms and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_data_type_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_data_type_data_type_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "data_types" ]
                  },
                  "S_data_type_slim": {
                     "markdown_name": "Data Type (slim)",
                     "comment": "Data type of a related file, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_data_type_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_data_type_data_type_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "data_types" ]
                  },
                  "S_file_format": {
                     "comment": "File format of a related file, offering original terms and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_file_format_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_file_format_file_format_fkey"]},
                        "nid"
                     ],
                     "fast_filter_source": [ "file_formats" ]
                  },
                  "S_file_format_slim": {
                     "markdown_name": "File Format (slim)",
                     "comment": "File format of a related file, offering only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_file_format_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_file_format_file_format_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ],
                     "fast_filter_source": [ "file_formats" ]
                  },
                  "S_creation_time": {
                     "comment": "The time when the subject record created.",
                     "source": "creation_time"
                  },
                  "S_age_at_enrollment": {
                     "comment": "The age in years of this subject when they were first enrolled in the primary project within with they were studied.",
                     "source": "age_at_enrollment"
                  },
                  "S_age_at_sampling": {
                     "markdown_name": "Age at Sampling",
                     "comment": "The subject age in years when a derived biosample was taken from the subject.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_from_subject_subject_fkey"]},
                        "age_at_sampling"
                     ]
                  },
                  "S_biosamples": {
                     "comment": "Biosamples derived from the subject.",
                     "source": [
                        {"inbound": ["CFDE", "biosample_from_subject_subject_fkey"]},
                        {"outbound": ["CFDE", "biosample_from_subject_biosample_fkey"]},
                        "nid"
                     ]
                  },
                  "S_files": {
                     "comment": "Files whose content describes the subject.",
                     "source": [
                        {"inbound": ["CFDE", "file_describes_subject_subject_fkey"]},
                        {"outbound": ["CFDE", "file_describes_subject_file_fkey"]},
                        "nid"
                     ]
                  },
                  "S_part_of_collections": {
                     "markdown_name": "Part of Collection",
                     "comment": "Collections with the subject record as a directly or indirectly constituent member.",
                     "source": [
                        {"inbound": ["CFDE", "subject_in_collection_subject_fkey"]},
                        {"outbound": ["CFDE", "subject_in_collection_collection_fkey"]},
                        {"inbound": ["CFDE", "collection_in_collection_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "collection_in_collection_transitive_leader_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_foreign_keys": {
               "*": [
                  {"sourcekey": "S_role_taxonomy"},
                  {"sourcekey": "S_biosamples"},
                  {"sourcekey": "S_files"},
                  {"sourcekey": "S_part_of_collections"}
               ]
            },
            "visible_columns": {
               "export": [],
               "compact": [
                  {"sourcekey": "S_dcc_array"},
                  {
                     "markdown_name": "Project",
                     "comment": "The project attributed as the source of the subject.",
                     "source": ["S_core_fact", "project_row"],
                     "display": {
                        "markdown_pattern": "{{{$_self.name}}}"
                     }
                  },
                  {"sourcekey": "S_taxonomy_array"},
                  {
                     "markdown_name": "Granularity",
                     "comment": "The specificity of the subject description, e.g. organism versus cell-line.",
                     "source": ["S_core_fact", "subject_granularity_row"],
                     "display": {
                        "markdown_pattern": "{{{$_self.name}}}"
                     }
                  },
                  {
                     "markdown_name": "Sex",
                     "comment": "The sex term characterizing this subject.",
                     "source": ["S_core_fact", "sex_row"],
                     "display": {
                        "markdown_pattern": "{{{$_self.name}}}"
                     }
                  },
                  {"sourcekey": "S_race_array"},
                  {
                     "markdown_name": "Ethnicity",
                     "comment": "The ethnicity term characterizing this subject.",
                     "source": ["S_core_fact", "ethnicity_row"],
                     "display": {
                        "markdown_pattern": "{{{$_self.name}}}"
                     }
                  },
                  "local_id",
                  "persistent_id",
                  {"sourcekey": "S_creation_time"},
                  {"sourcekey": "S_age_at_enrollment"}
               ],
               "detailed": [
                  {"sourcekey": "S_id_namespace"},
                  "local_id",
                  "persistent_id",
                  {"sourcekey": "S_project"},
                  {"sourcekey": "S_granularity"},
                  {"sourcekey": "S_sex"},
                  {"sourcekey": "S_race"},
                  {"sourcekey": "S_ethnicity"},
                  {"sourcekey": "S_taxonomy_array"},
                  {
                     "sourcekey": "S_disease",
                     "display": {
                        "template_engine": "handlebars",
                        "markdown_pattern": "{{#each $self}}- {{#with values.$fkey_CFDE_subject_disease_disease_fkey}}[{{{rowName}}}]({{{uri.detailed}}}){{/with}} {{{values.$fkey_CFDE_subject_disease_association_type_fkey.rowName}}}\n{{/each}}"
                     }
                  },
                  {
                     "sourcekey": "S_phenotype",
                     "display": {
                        "template_engine": "handlebars",
                        "markdown_pattern": "{{#each $self}}- {{#with values.$fkey_CFDE_subject_phenotype_phenotype_fkey}}[{{{rowName}}}({{{uri.detailed}}}){{/with}} {{{values.$fkey_CFDE_subject_phenotype_association_type_fkey.rowName}}}\n{{/each}}"
                     }
                  },
                  {"sourcekey": "S_substance"},
                  {"sourcekey": "S_creation_time"},
                  {"sourcekey": "S_age_at_enrollment"},
                  {"sourcekey": "S_age_at_sampling"}
               ],
               "filter": {"and": [
                  {"sourcekey": "S_taxonomy_slim", "open": true},
                  {"sourcekey": "S_taxonomy"},
                  {"sourcekey": "S_granularity", "open": true},
                  {"sourcekey": "S_sex"},
                  {"sourcekey": "S_race_search"},
                  {"sourcekey": "S_ethnicity"},
                  {"sourcekey": "S_disease_search_slim"},
                  {"sourcekey": "S_disease_search"},
                  {"sourcekey": "S_phenotype_search"},
                  {"sourcekey": "S_compound_search"},
                  {"sourcekey": "S_gene"},
                  {"sourcekey": "S_role"},
                  {"sourcekey": "S_anatomy_slim"},
                  {"sourcekey": "S_anatomy"},
                  {"sourcekey": "S_sample_prep_method"},
                  {"sourcekey": "S_assay_type_slim"},
                  {"sourcekey": "S_assay_type"},
                  {"sourcekey": "S_data_type_slim"},
                  {"sourcekey": "S_data_type"},
                  {"sourcekey": "S_file_format_slim"},
                  {"sourcekey": "S_file_format"},
                  {"sourcekey": "S_dcc"},
                  {"sourcekey": "S_super_projects"},
                  {"sourcekey": "S_creation_time"},
                  {"sourcekey": "S_age_at_enrollment"}
               ]}
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "dcc",
         "title": "DCC",
         "description": "The Common Fund program or data coordinating center (DCC) that produced the top-level C2M2 metadataset identified by the given project foreign key",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "description": "The numeric surrogate key for this record.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "project",
                  "description": "Foreign key identifying the top-level C2M2 project record representing byproducts of this DCC.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "id",
                  "description": "The identifier for this DCC, issued by the CFDE-CC.",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "dcc_name",
                  "title": "DCC Name",
                  "description": "A short, human-readable, machine-read-friendly label for this DCC.",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "dcc_abbreviation",
                  "title": "Abbreviation",
                  "description": "A very short display label for this contact's DCC",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true,
                     "pattern": "^[a-zA-Z0-9_]+$"
                  }
               },
               {
                  "name": "dcc_description",
                  "title": "Description",
                  "description": "A human-readable description of this DCC.",
                  "type": "string"
               },
               {
                  "name": "contact_email",
                  "description": "Email address of this DCC's primary contact.",
                  "type": "string",
                  "format": "email",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "contact_name",
                  "description": "Name of this DCC's primary contact.",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "dcc_url",
                  "description": "URL of the front page of the website for this contact's DCC",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "nid" ],
            "foreignKeys": [
               {
                  "fields": [ "project" ],
                  "constraint_name": "dcc_project_fkey",
                  "reference": {
                     "title": "DCC Project",
                     "resource": "project",
                     "fields": [ "nid" ]
                  }
               }
            ]
         },
         "deriva": {
            "table_config": {
               "stable_key_columns": ["id"],
               "user_favorites": {
                  "storage_table": {
                     "catalog": "registry",
                     "schema": "CFDE",
                     "table": "favorite_dcc",
                     "favorited_key_columns": ["dcc"],
                     "user_id_column": "user_id"
                  }
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": false
            },
            "table_display": {
               "row_name": {
                  "row_markdown_pattern": "{{{dcc_abbreviation}}}: {{{dcc_name}}}"
               }
            },
            "visible_foreign_keys": {
               "*": []
            },
            "visible_columns": {
               "detailed": [
                  "id",
                  "dcc_name",
                  "dcc_abbreviation",
                  {"source": [{"outbound": ["CFDE", "dcc_project_fkey"]}, "nid"]},
                  "contact_name",
                  "contact_email",
                  "dcc_url",
                  "dcc_description"
               ],
               "compact": [
                  {
                     "markdown_name": "DCC",
                     "comment": "Identifying and contact information for the program or DCC.",
                     "display": {
                        "markdown_pattern": "{{{dcc_abbreviation}}}: {{{dcc_name}}}\n{{{contact_name}}} ({{{contact_email}}})\n[{{{dcc_abbreviation}}} website]({{{dcc_url}}})"
                     }
                  },
                  "dcc_description"
               ],
               "filter": {"and": [
                  {"source": "dcc_abbreviation"},
                  {"source": "contact_name"},
                  {"source": "contact_email"}
               ]}
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "project",
         "title": "Project",
         "description": "A node in the project hierarchy subdividing this id_namespace",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this project in the portal.",
                  "type": "integer",
                  "constraints": {
                  "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "id_namespace",
                  "title": "ID Namespace",
                  "description": "Numeric ID of the identifier namespace in which this project is assigned a local_id.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "creation_time",
                  "description": "An ISO 8601 -- RFC 3339 (subset)-compliant timestamp documenting this project's creation time: YYYY-MM-DDTHH:MM:SSNN:NN",
                  "type": "datetime",
                  "format": "any"
               },
               {
                  "name": "local_id",
                  "description": "An ID representing this project, unique within this id_namespace",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "persistent_id",
                  "title": "Persistent ID",
                  "description": "A persistent, resolvable (not nec. retrievable) URI generated by a DCC and attached to this project",
                  "type": "string"
               },
               {
                  "name": "abbreviation",
                  "description": "A very short display label for this project",
                  "type": "string",
                  "constraints": {
                     "pattern": "^[a-zA-Z0-9_]+$"
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable, machine-read-friendly label for this project",
                  "type": "string",
                  "constraints": {
                     "unique": false
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this project",
                  "type": "string"
               },
               {
                  "name": "id",
                  "description": "The concatenated, namespace-qualified id for this project.",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "nid" ],
            "foreignKeys": [
               {
                  "fields": "id_namespace",
                  "constraint_name": "project_id_namespace_fkey",
                  "reference": {
                     "resource": "id_namespace",
                     "fields": "nid"
                  }
               }
            ]
         },
         "deriva": {
            "display": {
               "show_saved_query": true
            },
            "table_config": {
               "stable_key_columns": ["id"]
            },
            "source_definitions": {
               "columns": true,
               "fkeys": false,
               "search-box": {"or": [
                  {
                     "source": [
                        "name",
                        "abbreviation",
                        "description",
                        "id"
                     ],
                     "markdown_name": "project keywords"
                  }
               ]},
               "sources": {
                  "S_id_namespace": {
                     "comment": "The namespace qualifier for the project ID.",
                     "source": [{"outbound": ["CFDE", "project_id_namespace_fkey"]}, "nid"]
                  },
                  "S_creation_time": {
                     "comment": "The time when the project was created.",
                     "source": "creation_time"
                  },
                  "S_dcc": {
                     "markdown_name": "Common Fund Program",
                     "comment": "The Common Fund Program containing this project.",
                     "source": [
                        {"inbound": ["CFDE", "project_in_project_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_transitive_leader_fkey"]},
                        {"inbound": ["CFDE", "dcc_project_fkey"]},
                        "nid"
                     ]
                  },
                  "S_dcc_array": {
                     "markdown_name": "Common Fund Program",
                     "comment": "The Common Fund Program containing this project.",
                     "source": [
                        {"inbound": ["CFDE", "project_in_project_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_transitive_leader_fkey"]},
                        {"inbound": ["CFDE", "dcc_project_fkey"]},
                        "nid"
                     ],
                     "aggregate": "array_d"
                  },
                  "S_parent_project": {
                     "markdown_name": "Parent Project",
                     "comment": "Direct ancestor of the project.",
                     "source": [
                        {"inbound": ["CFDE", "project_in_project_child_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_parent_fkey"]},
                        "nid"
                     ]
                  },
                  "S_core_fact": {
                     "source": [
                        {"inbound": ["CFDE", "core_fact_project_fkey"]},
                        "nid"
                     ]
                  },
                  "S_granularity": {
                     "comment": "A subject granularity observed by the project.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_subject_granularity_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_subject_granularity_subject_granularity_fkey"]},
                        "nid"
                     ]
                  },
                  "S_subject_role": {
                     "comment": "A taxonomic role observed by the project.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_subject_role_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_subject_role_subject_role_fkey"]},
                        "nid"
                     ]
                  },
                  "S_taxonomy": {
                     "markdown_name": "Subject Taxonomy",
                     "comment": "A subject taxon observed by the project.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_ncbi_taxonomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_ncbi_taxonomy_ncbi_taxon_fkey"]},
                        "nid"
                     ]
                  },
                  "S_disease": {
                     "comment": "A disease observed by the project.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_disease_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_disease_disease_fkey"]},
                        "nid"
                     ]
                  },
                  "S_anatomy": {
                     "comment": "Anatomy for biosamples of the project, offering original terms and corresponding \"slim\" terms.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_anatomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_anatomy_anatomy_fkey"]},
                        "nid"
                     ]
                  },
                  "S_anatomy_slim": {
                     "markdown_name": "Anatomy (slim)",
                     "comment": "Anatomy for biosamples of the project, oferring only \"slim\" terms corresponding to original metadata.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_anatomy_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_anatomy_anatomy_fkey"]},
                        {"filter": "is_slim", "operand_pattern": "true"},
                        "nid"
                     ]
                  },
                  "S_assay_type": {
                     "comment": "An assay type performed by the project.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_assay_type_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_assay_type_assay_type_fkey"]},
                        "nid"
                     ]
                  },
                  "S_file_format": {
                     "comment": "A file format generated by the project.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_file_format_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_file_format_file_format_fkey"]},
                        "nid"
                     ]
                  },
                  "S_data_type": {
                     "comment": "A data type generated by the project.",
                     "source": [
                        {"sourcekey": "S_core_fact"},
                        {"inbound": ["CFDE", "core_fact_data_type_core_fact_fkey"]},
                        {"outbound": ["CFDE", "core_fact_data_type_data_type_fkey"]},
                        "nid"
                     ]
                  }
               }
            },
            "visible_foreign_keys": {
               "*": [
                 {
                     "markdown_name": "Parent Project",
                     "source": [
                        {"inbound": ["CFDE", "project_in_project_child_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_parent_fkey"]},
                        "nid"
                     ]
                  },
                  {
                     "markdown_name": "Child Project",
                     "source": [
                        {"inbound": ["CFDE", "project_in_project_parent_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_child_fkey"]},
                        "nid"
                     ]
                  },
                  {
                     "markdown_name": "Attributed Collection",
                     "source": [
                        {"inbound": ["CFDE", "collection_defined_by_project_project_fkey"]},
                        {"outbound": ["CFDE", "collection_defined_by_project_collection_fkey"]},
                        "nid"
                     ]
                  },
                  {
                     "markdown_name": "Attributed Subject",
                     "source": [{"inbound": ["CFDE", "subject_project_fkey"]}, "nid"]
                  },
                  {
                     "markdown_name": "Attributed Biosample",
                     "source": [{"inbound": ["CFDE", "biosample_project_fkey"]}, "nid"]
                  },
                  {
                     "markdown_name": "Attributed File",
                     "source": [{"inbound": ["CFDE", "file_project_fkey"]}, "nid"]
                  }
               ]
            },
            "visible_columns": {
               "compact": [
                  {"sourcekey": "S_dcc_array"},
                  "name",
                  "description",
                  {"sourcekey": "S_creation_time"}
               ],
               "detailed":  [
                  "name",
                  "id_namespace",
                  "local_id",
                  "persistent_id",
                  "abbreviation",
                  "description",
                  {"sourcekey": "S_creation_time"}
               ],
               "filter": {"and": [
                  {"sourcekey": "S_creation_time"},
                  {"sourcekey": "S_dcc"},
                  {"sourcekey": "S_assay_type"},
                  {"sourcekey": "S_data_type"},
                  {"sourcekey": "S_file_format"},
                  {"sourcekey": "S_anatomy_slim"},
                  {"sourcekey": "S_anatomy"},
                  {"sourcekey": "S_taxonomy"},
                  {"sourcekey": "S_disease"},
                  {
                     "markdown_name": "Super-Project",
                     "comment": "Direct or indirect ancestor of the project.",
                     "source": [
                        {"inbound": ["CFDE", "project_in_project_child_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_parent_fkey"]},
                        {"inbound": ["CFDE", "project_in_project_transitive_member_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_transitive_leader_fkey"]},
                        "nid"
                     ]
                  },
                  {
                     "markdown_name": "Sub-Project",
                     "comment": "Direct or indirect sub-projects of the project.",
                     "source": [
                        {"inbound": ["CFDE", "project_in_project_parent_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_child_fkey"]},
                        {"inbound": ["CFDE", "project_in_project_transitive_leader_fkey"]},
                        {"outbound": ["CFDE", "project_in_project_transitive_member_fkey"]},
                        "nid"
                     ]
                  }
               ]}
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "project_in_project",
         "title": "Project in Project",
         "description": "Association between a child project and its parent",
         "schema": {
            "fields": [
               {
                  "name": "parent_project",
                  "description": "Numeric ID of the parent in this parent-child project pair",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "child_project",
                  "description": "Numeric ID of the child in this parent-child project pair",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["child_project", "parent_project"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "parent_project",
               "child_project"
            ],
            "foreignKeys": [
               {
                  "fields": [ "parent_project" ],
                  "constraint_name": "project_in_project_parent_fkey",
                  "reference": {
                     "title": "Parent Project",
                     "resource": "project",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": [ "child_project" ],
                  "constraint_name": "project_in_project_child_fkey",
                  "reference": {
                     "title": "Child Project",
                     "resource": "project",
                     "fields": [ "nid" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "collection_in_collection",
         "title": "Collection in Collection",
         "description": "Association between a containing collection (superset) and a contained collection (subset)",
         "schema": {
            "fields": [
               {
                  "name": "superset_collection",
                  "description": "Numeric ID of the superset collection",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subset_collection",
                  "description": "Numeric ID of the subset collection",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["subset_collection", "superset_collection"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "superset_collection",
               "subset_collection"
            ],
            "foreignKeys": [
               {
                  "fields": [ "superset_collection" ],
                  "constraint_name": "collection_in_collection_superset_fkey",
                  "reference": {
                     "title": "Part of Collection",
                     "resource": "collection",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": [ "subset_collection" ],
                  "constraint_name": "collection_in_collection_subset_fkey",
                  "reference": {
                     "title": "Sub-Collection",
                     "resource": "collection",
                     "fields": [ "nid" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "file_describes_collection",
         "title": "File Describes Collection",
         "description": "Association between a summary file and an entire collection described by that file",
         "schema": {
            "fields": [
               {
                  "name": "file",
                  "description": "The numeric ID of this file",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "collection",
                  "description": "The numeric ID of this collection",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "file",
               "collection"
            ],
            "foreignKeys": [
               {
                  "fields": [ "file" ],
                  "constraint_name": "file_describes_collection_file_fkey",
                  "reference": {
                     "title": "Described by File",
                     "resource": "file",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": [ "collection" ],
                  "constraint_name": "file_describes_collection_collection_fkey",
                  "reference": {
                     "title": "Described Collection",
                     "resource": "collection",
                     "fields": [ "nid" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "collection_defined_by_project",
         "title": "Collection Defined by Project",
         "description": "(Shallow) association between a collection and a project that defined it",
         "schema": {
            "fields": [
               {
                  "name": "collection",
                  "description": "Numeric ID of the defined collection",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project",
                  "description": "Numeric ID of the defining project",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["project", "collection"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "collection",
               "project"
            ],
            "foreignKeys": [
               {
                  "fields": [ "collection" ],
                  "constraint_name": "collection_defined_by_project_collection_fkey",
                  "reference": {
                     "title": "Defined Collection",
                     "resource": "collection",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": [ "project" ],
                  "constraint_name": "collection_defined_by_project_project_fkey",
                  "reference": {
                     "title": "Defined by Project",
                     "resource": "project",
                     "fields": [ "nid" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "file_in_collection",
         "title": "File in Collection",
         "description": "Association between a file and a (containing) collection",
         "schema": {
            "fields": [
               {
                  "name": "file",
                  "description": "The numeric ID of this file",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "collection",
                  "description": "The numeric ID of this collection",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["collection", "file"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "file",
               "collection"
            ],
            "foreignKeys": [
               {
                  "fields": [ "file" ],
                  "constraint_name": "file_in_collection_file_fkey",
                  "reference": {
                     "title": "Contained File",
                     "resource": "file",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": [ "collection" ],
                  "constraint_name": "file_in_collection_collection_fkey",
                  "reference": {
                     "title": "Part of Collection",
                     "resource": "collection",
                     "fields": [ "nid" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "biosample_in_collection",
         "title": "Biosample in Collection",
         "description": "Association between a biosample and a (containing) collection",
         "schema": {
            "fields": [
               {
                  "name": "biosample",
                  "description": "The numeric ID of this biosample",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "collection",
                  "description": "The numeric ID of this collection",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["collection", "biosample"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "biosample",
               "collection"
            ],
            "foreignKeys": [
               {
                  "fields": [ "biosample" ],
                  "constraint_name": "biosample_in_collection_biosample_fkey",
                  "reference": {
                     "title": "Contained Biosample",
                     "resource": "biosample",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": [ "collection" ],
                  "constraint_name": "biosample_in_collection_collection_fkey",
                  "reference": {
                     "title": "Part of Collection",
                     "resource": "collection",
                     "fields": [ "nid" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "subject_in_collection",
         "title": "Subject in Collection",
         "description": "Association between a subject and a (containing) collection",
         "schema": {
            "fields": [
               {
                  "name": "subject",
                  "description": "The nueric ID of this subject",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "collection",
                  "description": "The numeric ID of this collection",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["collection", "subject"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "subject",
               "collection"
            ],
            "foreignKeys": [
               {
                  "fields": [ "subject" ],
                  "constraint_name": "subject_in_collection_subject_fkey",
                  "reference": {
                     "title": "Contained Subject",
                     "resource": "subject",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": [ "collection" ],
                  "constraint_name": "subject_in_collection_collection_fkey",
                  "reference": {
                     "title": "Part of Collection",
                     "resource": "collection",
                     "fields": [ "nid" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "file_describes_biosample",
         "title": "File Describes Biosample",
         "description": "Association between a biosample and a file containing information about that biosample",
         "schema": {
            "fields": [
               {
                  "name": "file",
                  "description": "The ID of this file",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "biosample",
                  "description": "The ID of this biosample",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "file",
               "biosample"
            ],
            "foreignKeys": [
               {
                  "fields": [ "file" ],
                  "constraint_name": "file_describes_biosample_file_fkey",
                  "reference": {
                     "title": "Described by File",
                     "resource": "file",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": [ "biosample" ],
                  "constraint_name": "file_describes_biosample_biosample_fkey",
                  "reference": {
                     "title": "Described Biosample",
                     "resource": "biosample",
                     "fields": [ "nid" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "file_describes_subject",
         "title": "File Describes Subject",
         "description": "Association between a subject and a file containing information about that subject",
         "schema": {
            "fields": [
               {
                  "name": "file",
                  "description": "The numeric ID of this file",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subject",
                  "description": "The numeric ID of this subject",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["subject", "file"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "file",
               "subject"
            ],
            "foreignKeys": [
               {
                  "fields": [ "file" ],
                  "constraint_name": "file_describes_subject_file_fkey",
                  "reference": {
                     "title": "Described by File",
                     "resource": "file",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": [ "subject" ],
                  "constraint_name": "file_describes_subject_subject_fkey",
                  "reference": {
                     "title": "Described Subject",
                     "resource": "subject",
                     "fields": [ "nid" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "biosample_from_subject",
         "title": "Biosample From Subject",
         "description": "Association between a biosample and its source subject",
         "schema": {
            "fields": [
               {
                  "name": "biosample",
                  "description": "The numeric ID of this biosample",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subject",
                  "description": "The numeric ID of this subject",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["subject", "biosample"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "age_at_sampling",
                  "description": "The age in years (with a fixed precision of two digits past the decimal point) of this subject when this biosample was taken",
                  "type": "number",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["age_at_sampling", "biosample"],
                        "trgm": false
                     },
                     "column_display": {
                        "*": {
                           "pre_format": {
                              "format": "%.2f"
                           }
                        }
                     }
                  }
               }
            ],
            "primaryKey": [
               "biosample",
               "subject"
            ],
            "foreignKeys": [
               {
                  "fields": [ "biosample" ],
                  "constraint_name": "biosample_from_subject_biosample_fkey",
                  "reference": {
                     "title": "Derived Biosample",
                     "resource": "biosample",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": [ "subject" ],
                  "constraint_name": "biosample_from_subject_subject_fkey",
                  "reference": {
                     "title": "Source Subject",
                     "resource": "subject",
                     "fields": [ "nid" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "biosample_disease",
         "title": "Biosample Disease",
         "description": "Association between a C2M2 biosample and a disease known to be associated with that biosample",
         "schema": {
            "fields": [
               {
                  "name": "biosample",
                  "description": "The numeric ID of this biosample",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "association_type",
                  "description": "The relationship between this biosample and this disease (e.g. 'observed' or '(tested for, but) not observed')",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "disease",
                  "description": "The numeric ID of a Disease Ontology CV term ID describing this disease",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["disease", "biosample"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "biosample",
               "association_type",
               "disease"
            ],
            "foreignKeys": [
               {
                  "fields": [ "biosample" ],
                  "constraint_name": "biosample_disease_biosample_fkey",
                  "reference": {
                     "resource": "biosample",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": "association_type",
                  "constraint_name": "biosample_disease_association_type_fkey",
                  "reference": {
                     "resource": "disease_association_type",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "disease",
                  "constraint_name": "biosample_disease_disease_fkey",
                  "reference": {
                     "resource": "disease",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "subject_disease",
         "title": "Subject Disease",
         "description": "Association between a C2M2 subject and a disease positively identified in that subject",
         "schema": {
            "fields": [
               {
                  "name": "subject",
                  "description": "The numeric ID of this subject",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "association_type",
                  "description": "The relationship between this subject and this disease (e.g. 'observed' or '(tested for, but) not observed')",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "disease",
                  "description": "The numeric ID of a Disease Ontology CV term ID describing this disease",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["disease", "association_type", "subject"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "subject",
               "association_type",
               "disease"
            ],
            "foreignKeys": [
               {
                  "fields": [ "subject" ],
                  "constraint_name": "subject_disease_subject_fkey",
                  "reference": {
                     "resource": "subject",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": "association_type",
                  "constraint_name": "subject_disease_association_type_fkey",
                  "reference": {
                     "resource": "disease_association_type",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "disease",
                  "constraint_name": "subject_disease_disease_fkey",
                  "reference": {
                     "resource": "disease",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "collection_disease",
         "title": "collection_disease",
         "description": "Association between a disease and a C2M2 collection containing experimental resources directly related to the study of that disease",
         "schema": {
            "fields": [
               {
                  "name": "collection",
                  "description": "The numeric ID of this collection",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "disease",
                  "description": "The numeric ID for a Disease Ontology CV term ID describing this disease",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["disease", "collection"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "collection",
               "disease"
            ],
            "foreignKeys": [
               {
                  "fields": "collection",
                  "constraint_name": "collection_disease_collection_fkey",
                  "reference": {
                     "resource": "collection",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "disease",
                  "reference": {
                     "resource": "disease",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "collection_phenotype",
         "title": "collection_phenotype",
         "description": "Association between a phenotype and a C2M2 collection containing experimental resources directly related to the study of that phenotype",
         "schema": {
            "fields": [
               {
                  "name": "collection",
                  "description": "The numeric ID of this collection",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "phenotype",
                  "description": "The numeric ID of a Human Phenotype Ontology CV term",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["phenotype", "collection"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "collection",
               "phenotype"
            ],
            "foreignKeys": [
               {
                  "fields": "collection",
                  "constraint_name": "collection_phenotype_collection_fkey",
                  "reference": {
                     "resource": "collection",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "phenotype",
                  "reference": {
                     "resource": "phenotype",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "collection_gene",
         "title": "collection_gene",
         "description": "Association between a gene and a C2M2 collection containing experimental resources directly related to the study of that gene",
         "schema": {
            "fields": [
               {
                  "name": "collection",
                  "description": "The numeric ID of this collection",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "gene",
                  "description": "An numeric ID describing this gene",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["gene", "collection"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "collection",
               "gene"
            ],
            "foreignKeys": [
               {
                  "fields": "collection",
                  "constraint_name": "collection_gene_collection_fkey",
                  "reference": {
                     "resource": "collection",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "gene",
                  "constraint_name": "collection_gene_gene_fkey",
                  "reference": {
                     "resource": "gene",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "collection_compound",
         "title": "collection_compound",
         "description": "Association between a compound and a C2M2 collection containing experimental resources directly related to the study of that compound",
         "schema": {
            "fields": [
               {
                  "name": "collection",
                  "description": "The numeric ID of this collection",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "compound",
                  "description": "A numeric describing this compound",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["compound", "collection"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "collection",
               "compound"
            ],
            "foreignKeys": [
               {
                  "fields": "collection",
                  "constraint_name": "collection_compound_collection_fkey",
                  "reference": {
                     "resource": "collection",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "compound",
                  "constraint_name": "collection_compound_compound_fkey",
                  "reference": {
                     "resource": "compound",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "collection_substance",
         "title": "collection_substance",
         "description": "Association between a substance and a C2M2 collection containing experimental resources directly related to the study of that substance",
         "schema": {
            "fields": [
               {
                  "name": "collection",
                  "description": "The numeric ID of this collection",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "substance",
                  "description": "A numeric ID describing this substance",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["substance", "collection"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "collection",
               "substance"
            ],
            "foreignKeys": [
               {
                  "fields": "collection",
                  "constraint_name": "collection_substance_collection_fkey",
                  "reference": {
                     "resource": "collection",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "substance",
                  "constraint_name": "collection_substance_substance_fkey",
                  "reference": {
                     "resource": "substance",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "collection_taxonomy",
         "title": "collection_taxonomy",
         "description": "Association between a taxon and a C2M2 collection containing experimental resources directly related to the study of that taxon",
         "schema": {
            "fields": [
               {
                  "name": "collection",
                  "description": "The numeric ID of this collection",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "taxon",
                  "description": "An numeric ID identifying this taxon",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["taxon", "collection"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "collection",
               "taxon"
            ],
            "foreignKeys": [
               {
                  "fields": "collection",
                  "constraint_name": "collection_taxonomy_collection_fkey",
                  "reference": {
                     "resource": "collection",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "taxon",
                  "constraint_name": "collection_taxonomy_taxon_fkey",
                  "reference": {
                     "resource": "ncbi_taxonomy",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "collection_anatomy",
         "title": "collection_anatomy",
         "description": "Association between an UBERON anatomical term and a C2M2 collection containing experimental resources directly related to the study of the anatomical concept described by that term",
         "schema": {
            "fields": [
               {
                  "name": "collection",
                  "description": "The numeric ID of this collection",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "anatomy",
                  "description": "An UBERON term numeric ID",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["anatomy", "collection"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "collection",
               "anatomy"
            ],
            "foreignKeys": [
               {
                  "fields": "collection",
                  "constraint_Name": "collection_anatomy_collection_fkey",
                  "reference": {
                     "resource": "collection",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "anatomy",
                  "constraint_Name": "collection_anatomy_anatomy_fkey",
                  "reference": {
                     "resource": "anatomy",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "collection_protein",
         "title": "collection_protein",
         "description": "Association between a protein and a C2M2 collection containing experimental resources directly related to the study of that protein",
         "schema": {
            "fields": [
               {
                  "name": "collection",
                  "description": "The numeric ID of this collection",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "protein",
                  "description": "The numeric ID describing this protein",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["protein", "collection"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primarykey": [
               "collection",
               "protein"
            ],
            "foreignKeys": [
               {
                  "fields": "collection",
                  "constraint_name": "collection_protein_collection_fkey",
                  "reference": {
                     "resource": "collection",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "protein",
                  "constraint_name": "collection_protein_protein_fkey",
                  "reference": {
                     "resource": "protein",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "subject_phenotype",
         "title": "subject_phenotype",
         "description": "Association between a C2M2 subject and a phenotype positively OR negatively clinically identified for that subject",
         "schema": {
            "fields": [
               {
                  "name": "subject",
                  "description": "The numeric ID for this subject",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "association_type",
                  "description": "The relationship between this subject and this phenotype (e.g. 'observed' or '(tested for, but) not observed')",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "phenotype",
                  "description": "A Human Phenotype Ontology CV term ID describing this phenotype",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["phenotype", "association_type", "subject"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "subject",
               "association_type",
               "phenotype"
            ],
            "foreignKeys": [
               {
                  "fields": [ "subject" ],
                  "constraint_name": "subject_phenotype_subject_fkey",
                  "reference": {
                     "resource": "subject",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": "association_type",
                  "reference": {
                     "resource": "phenotype_association_type",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "phenotype",
                  "reference": {
                     "resource": "phenotype",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "biosample_substance",
         "title": "Biosample Substance",
         "description": "Association between a C2M2 biosample and a substance known to be associated with that biosample",
         "schema": {
            "fields": [
               {
                  "name": "biosample",
                  "description": "The numeric ID of this biosample",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "substance",
                  "description": "The numeric ID of this substance",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "biosample",
               "substance"
            ],
            "foreignKeys": [
               {
                  "fields": [ "biosample" ],
                  "constraint_name": "biosample_substance_biosample_fkey",
                  "reference": {
                     "resource": "biosample",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": "substance",
                  "constraint_name": "biosample_substance_substance_fkey",
                  "reference": {
                     "resource": "substance",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "subject_substance",
         "title": "Subject Substance",
         "description": "Association between a C2M2 subject and a substance positively identified in that subject",
         "schema": {
            "fields": [
               {
                  "name": "subject",
                  "description": "The numeric ID of this subject",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "substance",
                  "description": "The numeric ID of this substance",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "subject",
               "substance"
            ],
            "foreignKeys": [
               {
                  "fields": [ "subject" ],
                  "constraint_name": "subject_substance_subject_fkey",
                  "reference": {
                     "resource": "subject",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": "substance",
                  "constraint_name": "subject_substance_substance_fkey",
                  "reference": {
                     "resource": "substance",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "biosample_gene",
         "title": "Biosample Gene",
         "description": "Association between a C2M2 biosample and a gene known to be associated with that biosample",
         "schema": {
            "fields": [
               {
                  "name": "biosample",
                  "description": "The numeric ID of this biosample",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "gene",
                  "description": "The numeric ID of this gene",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "biosample",
               "gene"
            ],
            "foreignKeys": [
               {
                  "fields": [ "biosample" ],
                  "constraint_name": "biosample_gene_biosample_fkey",
                  "reference": {
                     "resource": "biosample",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": "gene",
                  "constraint_name": "biosample_gene_gene_fkey",
                  "reference": {
                     "resource": "gene",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "phenotype_gene",
         "title": "phenotype_gene",
         "description": "Association between a Human Phenotype Ontology term and an Ensembl gene especially relevant to it",
         "schema": {
            "fields": [
               {
                  "name": "phenotype",
                  "description": "The numeric ID of a Human Phenotype Ontology CV term",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "gene",
                  "description": "The numeric ID of an Ensembl gene",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "phenotype",
               "gene"
            ],
            "foreignKeys": [
               {
                  "fields": "phenotype",
                  "reference": {
                     "resource": "phenotype",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "gene",
                  "reference": {
                     "resource": "gene",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "protein_gene",
         "title": "protein_gene",
         "description": "Association between a UniProtKB protein term and an Ensembl term identifying a gene encoding that protein",
         "schema": {
            "fields": [
               {
                  "name": "protein",
                  "description": "A UniProt Knowledgebase (UniProtKB) protein term numeric ID",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "gene",
                  "description": "An Ensembl gene term numeric ID",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "protein",
               "gene"
            ],
            "foreignKeys": [
               {
                  "fields": "protein",
                  "constraint_name": "protein_gene_protein_fkey",
                  "reference": {
                     "resource": "protein",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "gene",
                  "constraint_name": "protein_gene_gene_fkey",
                  "reference": {
                     "resource": "gene",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "phenotype_disease",
         "title": "phenotype_disease",
         "description": "Association between a Human Phenotype Ontology term and a Disease Ontology term identifying a disease especially relevant to it",
         "schema": {
            "fields": [
               {
                  "name": "phenotype",
                  "description": "The numeric ID of a Human Phenotype Ontology CV term",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "disease",
                  "description": "The numeric ID of a Disease Ontology CV term",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               }
            ],
            "primaryKey": [
               "phenotype",
               "disease"
            ],
            "foreignKeys": [
               {
                  "fields": "phenotype",
                  "reference": {
                     "resource": "phenotype",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "disease",
                  "reference": {
                     "resource": "disease",
                     "fields": "nid"
                  }
               }
            ]
         }
      },

      {
         "profile": "tabular-data-resource",
         "name": "subject_race",
         "title": "Subject Race",
         "description": "Identification of a C2M2 subject with one or more self-selected races",
         "schema": {
            "fields": [
               {
                  "name": "subject",
                  "description": "The numeric ID for this subject",
                  "type": "integer"
               },
               {
                  "name": "race",
                  "description": "The numeric ID of a race self-identified by this subject",
                  "type": "integer"
               }
            ],
            "primaryKey": [
               "subject",
               "race"
            ],
            "foreignKeys": [
               {
                  "fields": [ "subject" ],
                  "constraint_name": "subject_race_subject_fkey",
                  "reference": {
                     "resource": "subject",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": "race",
                  "constraint_name": "subject_race_race_fkey",
                  "reference": {
                     "resource": "race",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "subject_role_taxonomy",
         "title": "Subject Role Taxonomy",
         "description": "Trinary association linking IDs representing (1) a subject, (2) a subject_role (a named organism-level constituent component of a subject, like 'host', 'pathogen', 'endosymbiont', 'taxon detected inside a microbiome subject', etc.) and (3) a taxonomic label (which is hereby assigned to this particular subject_role within this particular subject)",
         "schema": {
            "fields": [
               {
                  "name": "subject",
                  "description": "The numeric ID of this subject",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "role",
                  "description": "The numeric ID of the role assigned to this organism-level constituent component of this subject",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["role", "subject"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "taxon",
                  "description": "The numeric ID of an ncbi_taxonomy taxon",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["taxon", "subject"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "subject",
               "role",
               "taxon"
            ],
            "foreignKeys": [
               {
                  "fields": [ "subject" ],
                  "constraint_name": "subject_role_taxonomy_subject_fkey",
                  "reference": {
                     "title": "Subject",
                     "resource": "subject",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": "role",
                  "constraint_name": "subject_role_taxonomy_role_fkey",
                  "reference": {
                     "resource": "subject_role",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "taxon",
                  "constraint_name": "subject_role_taxonomy_taxonomy_fkey",
                  "reference": {
                     "resource": "ncbi_taxonomy",
                     "fields": "nid"
                  }
               }
            ]
         },
         "deriva": {
            "visible_columns": {
               "compact": [
                  {"source": [{"outbound": ["CFDE", "subject_role_taxonomy_subject_fkey"]}, "nid"]},
                  {"source": [{"outbound": ["CFDE", "subject_role_taxonomy_role_fkey"]}, "nid"]},
                  {"source": [{"outbound": ["CFDE", "subject_role_taxonomy_taxonomy_fkey"]}, "nid"]}
               ]
            }
         }
      },

      {
         "profile": "tabular-data-resource",
         "name": "project_in_project_transitive",
         "title": "Project in Project (Transitive)",
         "description": "Reflexive transitive-closure of project_in_project relationship",
         "schema": {
            "fields": [
               {
                  "name": "leader_project",
                  "description": "The numeric ID of the leader (containing) project",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "member_project",
                  "description": "The numeric ID of the member (contained or reflexive) project",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["member_project", "leader_project"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "leader_project",
               "member_project"
            ],
            "foreignKeys": [
               {
                  "fields": [ "leader_project" ],
                  "constraint_name": "project_in_project_transitive_leader_fkey",
                  "reference": {
                     "title": "Leader Project",
                     "resource": "project",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": [ "member_project" ],
                  "constraint_name": "project_in_project_transitive_member_fkey",
                  "reference": {
                     "title": "Member Project",
                     "resource": "project",
                     "fields": [ "nid" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "project_root",
         "title": "Project Root",
         "description": "The subject of project records which do not have a superset project by the project_in_project relationship.",
         "schema": {
            "fields": [
               {
                  "name": "project",
                  "description": "Foreign key identifying the C2M2 project record which is a project root.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "project" ],
            "foreignKeys": [
               {
                  "fields": [ "project" ],
                  "constraint_name": "project_root_project_fkey",
                  "reference": {
                     "title": "Project",
                     "resource": "project",
                     "fields": [ "nid" ]
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "collection_in_collection_transitive",
         "title": "Collection in Collection (Transitive)",
         "description": "Reflexive transitive-closure of collection_in_collection relationship",
         "schema": {
            "fields": [
               {
                  "name": "leader_collection",
                  "description": "The numeric ID of the leader (containing) collection",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "member_collection",
                  "description": "The numeric ID of the member (contained or reflexive) collection",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["member_collection", "leader_collection"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": [
               "leader_collection",
               "member_collection"
            ],
            "foreignKeys": [
               {
                  "fields": [ "leader_collection" ],
                  "constraint_name": "collection_in_collection_transitive_leader_fkey",
                  "reference": {
                     "title": "Leader Collection",
                     "resource": "collection",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": [ "member_collection" ],
                  "constraint_name": "collection_in_collection_transitive_member_fkey",
                  "reference": {
                     "title": "Member Collection",
                     "resource": "collection",
                     "fields": [ "nid" ]
                  }
               }
            ]
         }
      },

      {
         "profile": "tabular-data-resource",
         "name": "core_fact",
         "title": "Core Statistics",
         "description": "Core C2M2 entity facts, representing classes of C2M2 entities characterized by the same combination of metadata concepts.",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "id_namespace",
                  "description": "The numeric ID of the id_namespace in which described entities were issued a local_id.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["id_namespace", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "is_bundle",
                  "description": "Boolean true when described file entities specify a bundle_collection manifest.",
                  "type": "boolean",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["is_bundle", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "has_persistent_id",
                  "description": "Boolean true when described entities specify a persistent_id.",
                  "type": "boolean",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["has_persistent_id", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "projects",
                  "description": "The numeric IDs of source or defining project(s) attributed for the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "dccs",
                  "description": "The numeric IDs of source or defining DCC(s) attributed for the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },

               {
                  "name": "phenotypes",
                  "description": "The paired numeric IDs of the (phenotype, association_type) terms qualifiying the described entities.",
                  "type": "object",
                  "constraints": {
                     "required": true
                  }
               },
               {
                   "name": "diseases",
                  "description": "The paired numeric IDs of the (disease, association_type) terms qualifiying the described entities.",
                  "type": "object",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "phenotypes_flat",
                  "description": "The numeric IDs of the phenotype terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "diseases_flat",
                  "description": "The numeric IDs of the disease terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },

               {
                  "name": "sexes",
                  "description": "The numeric ID of the sex terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "races",
                  "description": "The numeric ID of the race terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "ethnicities",
                  "description": "The numeric ID of the ethnicity terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "subject_roles",
                  "description": "The numeric ID of subject_role terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "subject_granularities",
                  "description": "The numeric ID of subject_granularity terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "subject_species",
                  "description": "The numeric ID of subject-species terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "ncbi_taxons",
                  "description": "The numeric ID of ncbi_taxonomy terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },

               {
                  "name": "anatomies",
                  "description": "The numeric ID of terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },

               {
                  "name": "sample_prep_methods",
                  "description": "The numeric ID of sample_prep_method terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "assay_types",
                  "description": "The numeric ID of assay_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "analysis_types",
                  "description": "The numeric ID of analysis_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "file_formats",
                  "description": "The numeric ID of file_format terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "compression_formats",
                  "description": "The numeric ID of compression_format terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "data_types",
                  "description": "The numeric ID of data_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "mime_types",
                  "description": "The numeric ID of mime_type terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "dbgap_study_ids",
                  "description": "The numeric ID of the dbgap_study_id terms qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },

               {
                  "name": "dbgap_study_id",
                  "description": "The numeric ID of the dbgap_study_id specified in file records of this fact class.",
                  "type": "integer",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["dbgap_study_id", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "project",
                  "description": "The numeric ID of the project attributed as source for the described entities.",
                  "type": "integer",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["project", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "sex",
                  "description": "The numeric ID of the sex term qualifying the described subjects.",
                  "type": "integer",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["sex", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "ethnicity",
                  "description": "The numeric ID of the ethnicity term qualifying the described subjects.",
                  "type": "integer",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["ethnicity", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "subject_granularity",
                  "description": "The numeric ID of the subject_granularity term qualifying the described subjects.",
                  "type": "integer",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["subject_granularity", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "anatomy",
                  "description": "The numeric ID of the anatomy term qualifying the described biosamples.",
                  "type": "integer",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["anatomy", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "sample_prep_method",
                  "description": "The numeric ID of the sample_prep_method term qualifying the described files.",
                  "type": "integer",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["sample_prep_method", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "assay_type",
                  "description": "The numeric ID of the assay_type term qualifying the described files.",
                  "type": "integer",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["assay_type", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "analysis_type",
                  "description": "The numeric ID of the analysis_type term qualifying the described files.",
                  "type": "integer",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["analysis_type", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "file_format",
                  "description": "The numeric ID of the file_format term qualifying the described files.",
                  "type": "integer",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["file_format", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "compression_format",
                  "description": "The numeric ID of the compression_format term qualifying the described files.",
                  "type": "integer",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["compression_format", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "data_type",
                  "description": "The numeric ID of the data_type term qualifying the described files.",
                  "type": "integer",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["data_type", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "mime_type",
                  "description": "The numeric ID of the mime_type term qualifying the described files.",
                  "type": "integer",
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["mime_type", "nid"],
                        "trgm": false
                     }
                  }
               },

               {
                  "name": "id_namespace_row",
                  "description": "Denormalized copy of the id_namespace in which described entities were issued a local_id.",
                  "type": "object"
               },
               {
                  "name": "dbgap_study_id_row",
                  "description": "Denormalized copy of the dbgap_study_id of the described file entities.",
                  "type": "object"
               },
               {
                  "name": "project_row",
                  "description": "Denormalized copy of the project attributed as source for the described entities.",
                  "type": "object"
               },
               {
                  "name": "sex_row",
                  "description": "Denormalized copy of the sex term qualifying the described subjects.",
                  "type": "object"
               },
               {
                  "name": "ethnicity_row",
                  "description": "Denormalized copy of the ethnicity term qualifying the described subjects.",
                  "type": "object"
               },
               {
                  "name": "subject_granularity_row",
                  "description": "Denormalized copy of the subject_granularity term qualifying the described subjects.",
                  "type": "object"
               },
               {
                  "name": "anatomy_row",
                  "description": "Denormalized copy of the anatomy term qualifying the described biosamples.",
                  "type": "object"
               },
               {
                  "name": "sample_prep_method_row",
                  "description": "Denormalized copy of the sample_prep_method term qualifying the described files.",
                  "type": "object"
               },
               {
                  "name": "assay_type_row",
                  "description": "Denormalized copy of the assay_type term qualifying the described files.",
                  "type": "object"
               },
               {
                  "name": "analysis_type_row",
                  "description": "Denormalized copy of the assay_type term qualifying the described files.",
                  "type": "object"
               },
               {
                  "name": "file_format_row",
                  "description": "Denormalized copy of the file_format term qualifying the described files.",
                  "type": "object"
               },
               {
                  "name": "compression_format_row",
                  "description": "Denormalized copy of the file_format term qualifying the described files.",
                  "type": "object"
               },
               {
                  "name": "data_type_row",
                  "description": "Denormalized copy of the data_type term qualifying the described files.",
                  "type": "object"
               },
               {
                  "name": "mime_type_row",
                  "description": "Denormalized copy of the mime_type term qualifying the described files.",
                  "type": "object"
               },

               {
                  "name": "num_subjects",
                  "description": "The number of subjects with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "num_biosamples",
                  "description": "The number of biosamples with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "num_files",
                  "description": "The number of files with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "num_collections",
                  "description": "The number of collections with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "total_size_in_bytes",
                  "description": "The sum of size_in_bytes for files with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "format": "int8",
                  "default": 0
               }
            ],
            "primaryKey": "nid",
            "foreignKeys": [
               {
                  "fields": "id_namespace",
                  "constraint_name": "core_fact_id_namespace_fkey",
                  "reference": {
                     "resource": "id_namespace",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "dbgap_study_id",
                  "constraint_name": "core_fact_dbgap_study_id_fkey",
                  "reference": {
                     "resource": "dbgap_study_id",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "project",
                  "constraint_name": "core_fact_project_fkey",
                  "reference": {
                     "resource": "project",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "sex",
                  "constraint_name": "core_fact_sex_fkey",
                  "reference": {
                     "resource": "sex",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "ethnicity",
                  "constraint_name": "core_fact_ethnicity_fkey",
                  "reference": {
                     "resource": "ethnicity",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "subject_granularity",
                  "constraint_name": "core_fact_subject_granularity_fkey",
                  "reference": {
                     "resource": "subject_granularity",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "anatomy",
                  "constraint_name": "core_fact_anatomy_fkey",
                  "reference": {
                     "resource": "anatomy",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "sample_prep_method",
                  "constraint_name": "core_fact_sample_prep_method_fkey",
                  "reference": {
                     "resource": "sample_prep_method",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "assay_type",
                  "constraint_name": "core_fact_assay_type_fkey",
                  "reference": {
                     "resource": "assay_type",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "analysis_type",
                  "constraint_name": "core_fact_analysis_type_fkey",
                  "reference": {
                     "resource": "analysis_type",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "file_format",
                  "constraint_name": "core_fact_file_format_fkey",
                  "reference": {
                     "resource": "file_format",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "compression_format",
                  "constraint_name": "core_fact_compression_format_fkey",
                  "reference": {
                     "title": "Compression Format",
                     "resource": "file_format",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "data_type",
                  "constraint_name": "core_fact_data_type_fkey",
                  "reference": {
                     "resource": "data_type",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "mime_type",
                  "constraint_name": "core_fact_mime_type_fkey",
                  "reference": {
                     "resource": "mime_type",
                     "fields": "nid"
                  }
               }
            ]
         },
         "deriva": {
            "source_definitions": {
               "columns": false,
               "fkeys": true,
               "sources": {
                  "S_dccs": {
                     "markdown_name": "Common Fund Program",
                     "comment": "A singular data coordinating center to which a set of C2M2 entities is implicitly attributed.",
                     "source": [{"inbound": ["CFDE", "core_fact_dcc_core_fact_fkey"]}, {"outbound": ["CFDE", "core_fact_dcc_dcc_fkey"]}, "nid"]
                  },
                  "S_dbgap_study_ids": {
                     "comment": "A particular dbGaP study ID associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "core_fact_dbgap_study_id_core_fact_fkey"]}, {"outbound": ["CFDE", "core_fact_dbgap_study_id_dbgap_study_id_fkey"]}, "nid"]
                  },
                  "S_projects": {
                     "comment": "A particular project to which a set of C2M2 entities is explicitly attributed.",
                     "source": [{"inbound": ["CFDE", "core_fact_project_core_fact_fkey"]}, {"outbound": ["CFDE", "core_fact_project_project_fkey"]}, "nid"]
                  },
                  "S_diseases": {
                     "comment": "A disease CV term associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "core_fact_disease_core_fact_fkey"]}, {"outbound": ["CFDE", "core_fact_disease_disease_fkey"]}, "nid"]
                  },
                  "S_sexes": {
                     "comment": "A sex CV term associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "core_fact_sex_core_fact_fkey"]}, {"outbound": ["CFDE", "core_fact_sex_sex_fkey"]}, "nid"]
                  },
                  "S_races": {
                     "comment": "A race CV term associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "core_fact_race_core_fact_fkey"]}, {"outbound": ["CFDE", "core_fact_race_race_fkey"]}, "nid"]
                  },
                  "S_ethnicities": {
                     "comment": "An ethnicity CV term associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "core_fact_ethnicity_core_fact_fkey"]}, {"outbound": ["CFDE", "core_fact_ethnicity_ethnicity_fkey"]}, "nid"]
                  },
                  "S_sample_prep_methods": {
                     "comment": "A sample prep method CV term associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "core_fact_sample_prep_method_core_fact_fkey"]}, {"outbound": ["CFDE", "core_fact_sample_prep_method_sample_prep_method_fkey"]}, "nid"]
                  },
                  "S_assay_types": {
                     "comment": "An assay-type CV term associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "core_fact_assay_type_core_fact_fkey"]}, {"outbound": ["CFDE", "core_fact_assay_type_assay_type_fkey"]}, "nid"]
                  },
                  "S_data_types": {
                     "comment": "A data-type  CV term associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "core_fact_data_type_core_fact_fkey"]}, {"outbound": ["CFDE", "core_fact_data_type_data_type_fkey"]}, "nid"]
                  },
                  "S_mime_types": {
                     "comment": "A MIME type associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "core_fact_mime_type_core_fact_fkey"]}, {"outbound": ["CFDE", "core_fact_mime_type_mime_type_fkey"]}, "nid"]
                  },
                  "S_file_formats": {
                     "comment": "A file-format CV term associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "core_fact_file_format_core_fact_fkey"]}, {"outbound": ["CFDE", "core_fact_file_format_file_format_fkey"]}, "nid"]
                  },
                  "S_is_bundle": {
                     "source": ["is_bundle"]
                  },
                  "S_compression_formats": {
                     "markdown_name": "Compression Format",
                     "comment": "A compression-format (file-format) CV term associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "core_fact_compression_format_core_fact_fkey"]}, {"outbound": ["CFDE", "core_fact_compression_format_compression_format_fkey"]}, "nid"]
                  },
                  "S_anatomies": {
                     "comment": "An anatomy CV term associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "core_fact_anatomy_core_fact_fkey"]}, {"outbound": ["CFDE", "core_fact_anatomy_anatomy_fkey"]}, "nid"]
                  },
                  "S_granularities": {
                     "comment": "A subject granularity CV term associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "core_fact_subject_granularity_core_fact_fkey"]}, {"outbound": ["CFDE", "core_fact_subject_granularity_subject_granularity_fkey"]}, "nid"]
                  },
                  "S_species": {
                     "comment": "A single-organism subject species CV term associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "core_fact_subject_species_core_fact_fkey"]}, {"outbound": ["CFDE", "core_fact_subject_species_subject_species_fkey"]}, "nid"]
                  },
                  "S_ncbi_taxons": {
                     "comment": "A taxonomy CV term associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "core_fact_ncbi_taxonomy_core_fact_fkey"]}, {"outbound": ["CFDE", "core_fact_ncbi_taxonomy_ncbi_taxon_fkey"]}, "nid"]
                  }
               }
            },
            "table_display": {
               "row_name": {
                  "row_markdown_pattern": "{{{_nid}}}"
               }
            },
            "visible_columns": {
               "*": [
                  {"sourcekey": "S_dccs"},
                  {"sourcekey": "S_projects"},
                  {"sourcekey": "S_diseases"},
                  {"sourcekey": "S_assay_types"},
                  {"sourcekey": "S_sample_prep_methods"},
                  {"sourcekey": "S_data_types"},
                  {"sourcekey": "S_file_formats"},
                  {"sourcekey": "S_compression_formats"},
                  {"sourcekey": "S_is_bundle"},
                  {"sourcekey": "S_mime_types"},
                  {"sourcekey": "S_anatomies"},
                  {"sourcekey": "S_granularities"},
                  {"sourcekey": "S_ncbi_taxons"},
                  {"sourcekey": "S_sexes"},
                  {"sourcekey": "S_races"},
                  {"sourcekey": "S_ethnicities"},
                  {"source": "num_files"},
                  {"source": "num_bytes"},
                  {"source": "num_biosamples"},
                  {"source": "num_subjects"},
                  {"source": "num_collections"}
               ],
               "compact": [
                  {
                     "markdown_name": "Project",
                     "source": "projects",
                     "comment": "Project to which a set of C2M2 entities is attributed.",
                     "display": {
                        "template_engine": "handlebars",
                        "markdown_pattern": "{{#if (gt _projects.length \"1\")}}{{_projects.length}} values{{else}}{{#if $fkeys.CFDE.core_fact_project_fkey}}{{{$fkeys.CFDE.core_fact_project_fkey.rowName}}}{{else}}{{/if}}{{/if}}"
                     }
                  },
                  {
                     "markdown_name": "Assay Type",
                     "source": "assay_types",
                     "comment": "Assay type to which a set of C2M2 entities is attributed.",
                     "display": {
                        "template_engine": "handlebars",
                        "markdown_pattern": "{{#if (gt _assay_types.length \"1\")}}{{_assay_types.length}} values{{else}}{{#if $fkeys.CFDE.core_fact_assay_type_fkey}}{{{$fkeys.CFDE.core_fact_assay_type_fkey.rowName}}}{{else}}{{/if}}{{/if}}"
                     }
                  },
                  {
                     "markdown_name": "Sample Prep Method",
                     "source": "sample_prep_methods",
                     "comment": "Sample prep method to which a set of C2M2 entities is attributed.",
                     "display": {
                        "template_engine": "handlebars",
                        "markdown_pattern": "{{#if (gt _sample_prep_methods.length \"1\")}}{{_sample_prep_methods.length}} values{{else}}{{#if $fkeys.CFDE.core_fact_sample_prep_method_fkey}}{{{$fkeys.CFDE.core_fact_sample_prep_method_fkey.rowName}}}{{else}}{{/if}}{{/if}}"
                     }
                  },
                  {
                     "markdown_name": "Data Type",
                     "source": "data_types",
                     "comment": "Data type to which a set of C2M2 entities is attributed.",
                     "display": {
                        "template_engine": "handlebars",
                        "markdown_pattern": "{{#if (gt _data_types.length \"1\")}}{{_data_types.length}} values{{else}}{{#if $fkeys.CFDE.core_fact_data_type_fkey}}{{{$fkeys.CFDE.core_fact_data_type_fkey.rowName}}}{{else}}{{/if}}{{/if}}"
                     }
                  },
                  {"sourcekey": "S_data_type"},
                  {
                     "markdown_name": "File Format",
                     "source": "file_formats",
                     "comment": "File format term qualifying the set of C2M2 entities.",
                     "display": {
                        "template_engine": "handlebars",
                        "markdown_pattern": "{{#if (gt _file_formats.length \"1\")}}{{_file_formats.length}} values{{else}}{{#if $fkeys.CFDE.core_fact_file_format_fkey}}{{{$fkeys.CFDE.core_fact_file_format_fkey.rowName}}}{{else}}{{/if}}{{/if}}"
                     }
                  },
                  {
                     "markdown_name": "Anatomy",
                     "source": "anatomies",
                     "comment": "Anatomy term qualifying the set of C2M2 entities.",
                     "display": {
                        "template_engine": "handlebars",
                        "markdown_pattern": "{{#if (gt _anatomies.length \"1\")}}{{_anatomies.length}} values{{else}}{{#if $fkeys.CFDE.core_fact_anatomy_fkey}}{{{$fkeys.CFDE.core_fact_anatomy_fkey.rowName}}}{{else}}{{/if}}{{/if}}"
                     }
                  },
                  {
                     "markdown_name": "Disease",
                     "source": "diseases",
                     "comment": "Disease term qualifying the set of C2M2 entities.",
                     "display": {
                        "template_engine": "handlebars",
                        "markdown_pattern": "{{#if (gt _diseases.length \"0\")}}{{_diseases.length}} values{{/if}}"
                     }
                  },
                  {
                     "markdown_name": "Granularity",
                     "source": "subject_granularities",
                     "comment": "Subject granularity term qualifying the set of C2M2 entities.",
                     "display": {
                        "template_engine": "handlebars",
                        "markdown_pattern": "{{#if (gt _subject_granularities.length \"1\")}}{{_subject_granularities.length}} values{{else}}{{#if $fkeys.CFDE.core_fact_subject_granularity_fkey}}{{{$fkeys.CFDE.core_fact_subject_granularity_fkey.rowName}}}{{else}}{{/if}}{{/if}}"
                     }
                  },
                  {
                     "markdown_name": "Counts",
                     "source": "num_files",
                     "comment": "Summary counts of file, biosample, and subjects related to each combination of metadata terms.",
                     "display": {
                        "markdown_pattern": "{{#_num_files}}- {{num_files}} files\n{{/_num_files}}{{#_total_size_in_bytes}}- {{total_size_in_bytes}} bytes\n{{/_total_size_in_bytes}}{{#_num_biosamples}}- {{num_biosamples}} biosamples\n{{/_num_biosamples}}{{#_num_subjects}}- {{num_subjects}} subjects\n{{/_num_subjects}}{{#_num_collections}}- {{num_collections}} collections{{/_num_collections}}"
                     }
                  }
               ],
               "filter": {"and": [
                  {"sourcekey": "S_dccs"},
                  {"sourcekey": "S_projects"},
                  {"sourcekey": "S_assay_types"},
                  {"sourcekey": "S_sample_prep_methods"},
                  {"sourcekey": "S_data_types"},
                  {"sourcekey": "S_file_formats"},
                  {"sourcekey": "S_compression_formats"},
                  {"sourcekey": "S_is_bundle"},
                  {"sourcekey": "S_anatomies"},
                  {"sourcekey": "S_diseases"},
                  {"sourcekey": "S_granularities"},
                  {"sourcekey": "S_species"},
                  {"sourcekey": "S_ncbi_taxons"},
                  {"sourcekey": "S_sexes"},
                  {"sourcekey": "S_races"},
                  {"sourcekey": "S_ethnicities"},
                  {"source": "num_files"},
                  {"source": "num_bytes"},
                  {"source": "num_biosamples"},
                  {"source": "num_subjects"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {
                     "markdown_name": "Files in Class",
                     "source": [{"inbound": ["CFDE", "file_core_fact_fkey"]}, "nid"]
                  },
                  {
                     "markdown_name": "Biosamples in Class",
                     "source": [{"inbound": ["CFDE", "biosample_core_fact_fkey"]}, "nid"]
                  },
                  {
                     "markdown_name": "Subjects in Class",
                     "source": [{"inbound": ["CFDE", "subject_core_fact_fkey"]}, "nid"]
                  },
                  {
                     "markdown_name": "Collections in Class",
                     "source": [{"inbound": ["CFDE", "collection_core_fact_fkey"]}, "nid"]
                  }
               ]
            }
         }
      },

      {
         "profile": "tabular-data-resource",
         "name": "gene_fact",
         "title": "Gene Statistics",
         "description": "Gene-based C2M2 entity facts, representing classes of C2M2 entities characterized by the same combination of metadata concepts.",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "genes",
                  "description": "The numeric ID of gene qualifying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },

               {
                  "name": "num_subjects",
                  "description": "The number of subjects with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "num_biosamples",
                  "description": "The number of biosamples with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "num_files",
                  "description": "The number of files with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "num_collections",
                  "description": "The number of collections with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "total_size_in_bytes",
                  "description": "The sum of size_in_bytes for files with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "format": "int8",
                  "default": 0
               }
            ],
            "primaryKey": "nid"
         },
         "deriva": {
            "source_definitions": {
               "columns": false,
               "fkeys": true,
               "sources": {
                  "S_genes": {
                     "comment": "A gene CV term associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "gene_fact_gene_gene_fact_fkey"]}, {"outbound": ["CFDE", "gene_fact_gene_gene_fkey"]}, "nid"]
                  }
               }
            },
            "table_display": {
               "row_name": {
                  "row_markdown_pattern": "{{{_nid}}}"
               }
            },
            "visible_columns": {
               "*": [
                  {"sourcekey": "S_genes"},
                  {"source": "num_files"},
                  {"source": "num_bytes"},
                  {"source": "num_biosamples"},
                  {"source": "num_subjects"},
                  {"source": "num_collections"}
               ],
               "compact": [
                  {
                     "markdown_name": "Gene",
                     "source": "genes",
                     "comment": "Gene term qualifying the set of C2M2 entities.",
                     "display": {
                        "template_engine": "handlebars",
                        "markdown_pattern": "{{#if (gt _genes.length \"0\")}}{{_genes.length}} values{{/if}}"
                     }
                  },
                  {
                     "markdown_name": "Counts",
                     "source": "num_files",
                     "comment": "Summary counts of file, biosample, and subjects related to each combination of metadata terms.",
                     "display": {
                        "markdown_pattern": "{{#_num_files}}- {{num_files}} files\n{{/_num_files}}{{#_total_size_in_bytes}}- {{total_size_in_bytes}} bytes\n{{/_total_size_in_bytes}}{{#_num_biosamples}}- {{num_biosamples}} biosamples\n{{/_num_biosamples}}{{#_num_subjects}}- {{num_subjects}} subjects\n{{/_num_subjects}}{{#_num_collections}}- {{num_collections}} collections{{/_num_collections}}"
                     }
                  }
               ],
               "filter": {"and": [
                  {"sourcekey": "S_genes"},
                  {"source": "num_files"},
                  {"source": "num_bytes"},
                  {"source": "num_biosamples"},
                  {"source": "num_subjects"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {
                     "markdown_name": "Files in Class",
                     "source": [{"inbound": ["CFDE", "file_core_fact_fkey"]}, "nid"]
                  },
                  {
                     "markdown_name": "Biosamples in Class",
                     "source": [{"inbound": ["CFDE", "biosample_core_fact_fkey"]}, "nid"]
                  },
                  {
                     "markdown_name": "Subjects in Class",
                     "source": [{"inbound": ["CFDE", "subject_core_fact_fkey"]}, "nid"]
                  },
                  {
                     "markdown_name": "Collections in Class",
                     "source": [{"inbound": ["CFDE", "collection_core_fact_fkey"]}, "nid"]
                  }
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "pubchem_fact",
         "title": "PubChem Statistics",
         "description": "PubChem-based C2M2 entity facts, representing classes of C2M2 entities characterized by the same combination of metadata concepts.",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "substances",
                  "description": "The numeric ID of the substance terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },
               {
                  "name": "compounds",
                  "description": "The numeric ID of the compound terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },

               {
                  "name": "num_subjects",
                  "description": "The number of subjects with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "num_biosamples",
                  "description": "The number of biosamples with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "num_files",
                  "description": "The number of files with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "num_collections",
                  "description": "The number of collections with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "total_size_in_bytes",
                  "description": "The sum of size_in_bytes for files with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "format": "int8",
                  "default": 0
               }
            ],
            "primaryKey": "nid"
         },
         "deriva": {
            "source_definitions": {
               "columns": false,
               "fkeys": true,
               "sources": {
                  "S_substances": {
                     "comment": "A substance CV term associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "pubchem_fact_substance_pubchem_fact_fkey"]}, {"outbound": ["CFDE", "pubchem_fact_substance_substance_fkey"]}, "nid"]
                  },
                  "S_compounds": {
                     "comment": "A compound CV term associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "pubchem_fact_compound_pubchem_fact_fkey"]}, {"outbound": ["CFDE", "pubchem_fact_compound_compound_fkey"]}, "nid"]
                  }
               }
            },
            "table_display": {
               "row_name": {
                  "row_markdown_pattern": "{{{_nid}}}"
               }
            },
            "visible_columns": {
               "*": [
                  {"sourcekey": "S_substances"},
                  {"sourcekey": "S_compounds"},
                  {"source": "num_files"},
                  {"source": "num_bytes"},
                  {"source": "num_biosamples"},
                  {"source": "num_subjects"},
                  {"source": "num_collections"}
               ],
               "compact": [
                  {
                     "markdown_name": "Substance",
                     "source": "substances",
                     "comment": "Substance term qualifying the set of C2M2 entities.",
                     "display": {
                        "template_engine": "handlebars",
                        "markdown_pattern": "{{#if (gt _substances.length \"0\")}}{{_substances.length}} values{{/if}}"
                     }
                  },
                  {
                     "markdown_name": "Compound",
                     "source": "compounds",
                     "comment": "Compound term qualifying the set of C2M2 entities.",
                     "display": {
                        "template_engine": "handlebars",
                        "markdown_pattern": "{{#if (gt _compounds.length \"0\")}}{{_compounds.length}} values{{/if}}"
                     }
                  },
                  {
                     "markdown_name": "Counts",
                     "source": "num_files",
                     "comment": "Summary counts of file, biosample, and subjects related to each combination of metadata terms.",
                     "display": {
                        "markdown_pattern": "{{#_num_files}}- {{num_files}} files\n{{/_num_files}}{{#_total_size_in_bytes}}- {{total_size_in_bytes}} bytes\n{{/_total_size_in_bytes}}{{#_num_biosamples}}- {{num_biosamples}} biosamples\n{{/_num_biosamples}}{{#_num_subjects}}- {{num_subjects}} subjects\n{{/_num_subjects}}{{#_num_collections}}- {{num_collections}} collections{{/_num_collections}}"
                     }
                  }
               ],
               "filter": {"and": [
                  {"sourcekey": "S_compounds"},
                  {"source": "num_files"},
                  {"source": "num_bytes"},
                  {"source": "num_biosamples"},
                  {"source": "num_subjects"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {
                     "markdown_name": "Files in Class",
                     "source": [{"inbound": ["CFDE", "file_core_fact_fkey"]}, "nid"]
                  },
                  {
                     "markdown_name": "Biosamples in Class",
                     "source": [{"inbound": ["CFDE", "biosample_core_fact_fkey"]}, "nid"]
                  },
                  {
                     "markdown_name": "Subjects in Class",
                     "source": [{"inbound": ["CFDE", "subject_core_fact_fkey"]}, "nid"]
                  },
                  {
                     "markdown_name": "Collections in Class",
                     "source": [{"inbound": ["CFDE", "collection_core_fact_fkey"]}, "nid"]
                  }
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "protein_fact",
         "title": "Protein Statistics",
         "description": "Protein C2M2 entity facts, representing classes of C2M2 entities characterized by the same combination of protein concepts.",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "proteins",
                  "description": "The numeric ID of the protein terms qualifiying the described entities.",
                  "type": "array",
                  "format": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": false,
                        "gin_array": true
                     }
                  }
               },

               {
                  "name": "num_subjects",
                  "description": "The number of subjects with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "num_biosamples",
                  "description": "The number of biosamples with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "num_files",
                  "description": "The number of files with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "num_collections",
                  "description": "The number of collections with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "total_size_in_bytes",
                  "description": "The sum of size_in_bytes for files with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "format": "int8",
                  "default": 0
               }
            ],
            "primaryKey": "nid"
         },
         "deriva": {
            "source_definitions": {
               "columns": false,
               "fkeys": true,
               "sources": {
                  "S_proteins": {
                     "comment": "A protein CV term associated with a set of C2M2 entities.",
                     "source": [{"inbound": ["CFDE", "protein_fact_protein_protein_fact_fkey"]}, {"outbound": ["CFDE", "protein_fact_protein_protein_fkey"]}, "nid"]
                  }
               }
            },
            "table_display": {
               "row_name": {
                  "row_markdown_pattern": "{{{_nid}}}"
               }
            },
            "visible_columns": {
               "*": [
                  {"sourcekey": "S_proteins"},
                  {"source": "num_files"},
                  {"source": "num_bytes"},
                  {"source": "num_biosamples"},
                  {"source": "num_subjects"},
                  {"source": "num_collections"}
               ],
               "compact": [
                  {
                     "markdown_name": "Protein",
                     "source": "proteins",
                     "comment": "Protein term qualifying the set of C2M2 entities.",
                     "display": {
                        "template_engine": "handlebars",
                        "markdown_pattern": "{{#if (gt _proteins.length \"0\")}}{{_proteins.length}} values{{/if}}"
                     }
                  },
                  {
                     "markdown_name": "Counts",
                     "source": "num_files",
                     "comment": "Summary counts of file, biosample, and subjects related to each combination of metadata terms.",
                     "display": {
                        "markdown_pattern": "{{#_num_files}}- {{num_files}} files\n{{/_num_files}}{{#_total_size_in_bytes}}- {{total_size_in_bytes}} bytes\n{{/_total_size_in_bytes}}{{#_num_biosamples}}- {{num_biosamples}} biosamples\n{{/_num_biosamples}}{{#_num_subjects}}- {{num_subjects}} subjects\n{{/_num_subjects}}{{#_num_collections}}- {{num_collections}} collections{{/_num_collections}}"
                     }
                  }
               ],
               "filter": {"and": [
                  {"sourcekey": "S_proteins"},
                  {"source": "num_files"},
                  {"source": "num_bytes"},
                  {"source": "num_biosamples"},
                  {"source": "num_subjects"}
               ]}
            },
            "visible_foreign_keys": {
               "*": [
                  {
                     "markdown_name": "Files in Class",
                     "source": [{"inbound": ["CFDE", "file_core_fact_fkey"]}, "nid"]
                  },
                  {
                     "markdown_name": "Biosamples in Class",
                     "source": [{"inbound": ["CFDE", "biosample_core_fact_fkey"]}, "nid"]
                  },
                  {
                     "markdown_name": "Subjects in Class",
                     "source": [{"inbound": ["CFDE", "subject_core_fact_fkey"]}, "nid"]
                  },
                  {
                     "markdown_name": "Collections in Class",
                     "source": [{"inbound": ["CFDE", "collection_core_fact_fkey"]}, "nid"]
                  }
               ]
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "combined_fact",
         "title": "Combined Statistics",
         "description": "Combined C2M2 entity facts, representing classes of C2M2 entities characterized by the same combination of metadata concepts.",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "core_fact",
                  "description": "The numeric ID of the core_fact class qualifiying the described entities.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["core_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "gene_fact",
                  "description": "The numeric ID of the gene_fact class qualifiying the described entities.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["gene_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "protein_fact",
                  "description": "The numeric ID of the protein_fact class qualifiying the described entities.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["protein_fact", "nid"],
                        "trgm": false
                     }
                  }
               },
               {
                  "name": "pubchem_fact",
                  "description": "The numeric ID of the pubchem_fact class qualifiying the described entities.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["pubchem_fact", "nid"],
                        "trgm": false
                     }
                  }
               },

               {
                  "name": "num_subjects",
                  "description": "The number of subjects with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "num_biosamples",
                  "description": "The number of biosamples with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "num_files",
                  "description": "The number of files with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "num_collections",
                  "description": "The number of collections with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "default": 0
               },
               {
                  "name": "total_size_in_bytes",
                  "description": "The sum of size_in_bytes for files with this distinct combination of C2M2 characteristics.",
                  "type": "integer",
                  "format": "int8",
                  "default": 0
               }
            ],
            "primaryKey": "nid",
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "combined_fact_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "gene_fact",
                  "constraint_name": "combined_fact_gene_fact_fkey",
                  "reference": {
                     "resource": "gene_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "protein_fact",
                  "constraint_name": "combined_fact_protein_fact_fkey",
                  "reference": {
                     "resource": "protein_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "pubchem_fact",
                  "constraint_name": "combined_fact_pubchem_fact_fkey",
                  "reference": {
                     "resource": "pubchem_fact",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_project",
         "description": "An exploded representation of the core_fact.projects array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project",
                  "description": "The numeric ID of a term found in the core_fact.projects array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["project", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "project"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_project_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "project",
                  "constraint_name": "core_fact_project_project_fkey",
                  "reference": {
                     "resource": "project",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_dcc",
         "description": "An exploded representation of the core_fact.dccs array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "dcc",
                  "description": "The numeric ID of a term found in the core_fact.dccs array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["dcc", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "dcc"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_dcc_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "dcc",
                  "constraint_name": "core_fact_dcc_dcc_fkey",
                  "reference": {
                     "resource": "dcc",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_phenotype",
         "description": "An exploded representation of the core_fact.phenotypes array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "association_type",
                  "description": "The numeric ID of the phenotype_assocation_type found in the core_fact.phenotypes array.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "phenotype",
                  "description": "The numeric ID of a term found in the core_fact.phenotypes array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["phenotype", "association_type", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "association_type", "phenotype"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_phenotype_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "association_type",
                  "constraint_name": "core_fact_phenotype_association_type_fkey",
                  "reference": {
                     "resource": "phenotype_association_type",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "phenotype",
                  "constraint_name": "core_fact_phenotype_phenotype_fkey",
                  "reference": {
                     "resource": "phenotype",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_disease",
         "description": "An exploded representation of the core_fact.diseases array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "association_type",
                  "description": "The numeric ID of the disease_assocation_type found in the core_fact.diseases array.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "disease",
                  "description": "The numeric ID of a term found in the core_fact.anatomies array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["disease", "association_type", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "association_type", "disease"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_disease_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "association_type",
                  "constraint_name": "core_fact_disease_association_type_fkey",
                  "reference": {
                     "resource": "disease_association_type",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "disease",
                  "constraint_name": "core_fact_disease_disease_fkey",
                  "reference": {
                     "resource": "disease",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "pubchem_fact_substance",
         "description": "An exploded representation of the pubchem_fact.substances array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "pubchem_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a pubchem_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "substance",
                  "description": "The numeric ID of a term found in the pubchem_fact.substances array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["substance", "pubchem_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["pubchem_fact", "substance"],
            "foreignKeys": [
               {
                  "fields": "pubchem_fact",
                  "constraint_name": "pubchem_fact_substance_pubchem_fact_fkey",
                  "reference": {
                     "resource": "pubchem_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "substance",
                  "constraint_name": "pubchem_fact_substance_substance_fkey",
                  "reference": {
                     "resource": "substance",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "pubchem_fact_compound",
         "description": "An exploded representation of the pubchem_fact.compounds array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "pubchem_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a pubchem_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "compound",
                  "description": "The numeric ID of a term found in the pubchem_fact.compounds array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["compound", "pubchem_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["pubchem_fact", "compound"],
            "foreignKeys": [
               {
                  "fields": "pubchem_fact",
                  "constraint_name": "pubchem_fact_compound_pubchem_fact_fkey",
                  "reference": {
                     "resource": "pubchem_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "compound",
                  "constraint_name": "pubchem_fact_compound_compound_fkey",
                  "reference": {
                     "resource": "compound",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "protein_fact_protein",
         "description": "An exploded representation of the protein_fact.proteins array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "protein_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a protein_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "protein",
                  "description": "The numeric ID of a term found in the protein_fact.proteins array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["protein", "protein_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["protein_fact", "protein"],
            "foreignKeys": [
               {
                  "fields": "protein_fact",
                  "constraint_name": "protein_fact_protein_protein_fact_fkey",
                  "reference": {
                     "resource": "protein_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "protein",
                  "constraint_name": "protein_fact_protein_protein_fkey",
                  "reference": {
                     "resource": "protein",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "gene_fact_gene",
         "description": "An exploded representation of the gene_fact.genes array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "gene_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a gene_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "gene",
                  "description": "The numeric ID of a term found in the gene_fact.genes array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["gene", "gene_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["gene_fact", "gene"],
            "foreignKeys": [
               {
                  "fields": "gene_fact",
                  "constraint_name": "gene_fact_gene_gene_fact_fkey",
                  "reference": {
                     "resource": "gene_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "gene",
                  "constraint_name": "gene_fact_gene_gene_fkey",
                  "reference": {
                     "resource": "gene",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_sex",
         "description": "An exploded representation of the core_fact.sexes array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "sex",
                  "description": "The numeric ID of a term found in the core_fact.sexes array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["sex", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "sex"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_sex_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "sex",
                  "constraint_name": "core_fact_sex_sex_fkey",
                  "reference": {
                     "resource": "sex",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_race",
         "description": "An exploded representation of the core_fact.races array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "race",
                  "description": "The numeric ID of a term found in the core_fact.races array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["race", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "race"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_race_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "race",
                  "constraint_name": "core_fact_race_race_fkey",
                  "reference": {
                     "resource": "race",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_ethnicity",
         "description": "An exploded representation of the core_fact.ethnicities array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "ethnicity",
                  "description": "The numeric ID of a term found in the core_fact.ethnicities array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["ethnicity", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "ethnicity"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_ethnicity_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "ethnicity",
                  "constraint_name": "core_fact_ethnicity_ethnicity_fkey",
                  "reference": {
                     "resource": "ethnicity",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_subject_role",
         "description": "An exploded representation of the core_fact.subject_roles array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subject_role",
                  "description": "The numeric ID of a term found in the core_fact.subject_roles array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["subject_role", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "subject_role"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_subject_role_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "subject_role",
                  "constraint_name": "core_fact_subject_role_subject_role_fkey",
                  "reference": {
                     "resource": "subject_role",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_subject_granularity",
         "description": "An exploded representation of the core_fact.subject_granularities array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subject_granularity",
                  "description": "The numeric ID of a term found in the core_fact.subject_granularities array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["subject_granularity", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "subject_granularity"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_subject_granularity_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "subject_granularity",
                  "constraint_name": "core_fact_subject_granularity_subject_granularity_fkey",
                  "reference": {
                     "resource": "subject_granularity",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_subject_species",
         "description": "An exploded representation of the core_fact.subject_species array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "subject_species",
                  "description": "The numeric ID of a term found in the core_fact.subject_species array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["subject_species", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "subject_species"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_subject_species_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "subject_species",
                  "constraint_name": "core_fact_subject_species_subject_species_fkey",
                  "reference": {
                     "title": "Species",
                     "resource": "ncbi_taxonomy",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_ncbi_taxonomy",
         "description": "An exploded representation of the core_fact.ncbi_taxons array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "ncbi_taxon",
                  "description": "The numeric ID of a term found in the core_fact.ncbi_taxons array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["ncbi_taxon", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "ncbi_taxon"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_ncbi_taxonomy_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "ncbi_taxon",
                  "constraint_name": "core_fact_ncbi_taxonomy_ncbi_taxon_fkey",
                  "reference": {
                     "title": "Taxon",
                     "resource": "ncbi_taxonomy",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_anatomy",
         "description": "An exploded representation of the core_fact.anatomies array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "anatomy",
                  "description": "The numeric ID of a term found in the core_fact.anatomies array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["anatomy", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "anatomy"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_anatomy_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "anatomy",
                  "constraint_name": "core_fact_anatomy_anatomy_fkey",
                  "reference": {
                     "resource": "anatomy",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_sample_prep_method",
         "description": "An exploded representation of the core_fact.sample_prep_methods array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "sample_prep_method",
                  "description": "The numeric ID of a term found in the core_fact.sample_prep_methods array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["sample_prep_method", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "sample_prep_method"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_sample_prep_method_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "sample_prep_method",
                  "constraint_name": "core_fact_sample_prep_method_sample_prep_method_fkey",
                  "reference": {
                     "resource": "sample_prep_method",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_assay_type",
         "description": "An exploded representation of the core_fact.assay_types array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "assay_type",
                  "description": "The numeric ID of a term found in the core_fact.assay_types array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["assay_type", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "assay_type"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_assay_type_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "assay_type",
                  "constraint_name": "core_fact_assay_type_assay_type_fkey",
                  "reference": {
                     "resource": "assay_type",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_analysis_type",
         "description": "An exploded representation of the core_fact.analysis_types array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "analysis_type",
                  "description": "The numeric ID of a term found in the core_fact.analysis_types array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["analysis_type", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "analysis_type"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_analysis_type_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "analysis_type",
                  "constraint_name": "core_fact_analysis_type_analysis_type_fkey",
                  "reference": {
                     "resource": "analysis_type",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_file_format",
         "description": "An exploded representation of the core_fact.file_formats array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "file_format",
                  "description": "The numeric ID of a term found in the core_fact.file_formats array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["file_format", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "file_format"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_file_format_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "file_format",
                  "constraint_name": "core_fact_file_format_file_format_fkey",
                  "reference": {
                     "resource": "file_format",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_compression_format",
         "description": "An exploded representation of the core_fact.compression_formats array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "compression_format",
                  "description": "The numeric ID of a term found in the core_fact.compression_formats array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["compression_format", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "compression_format"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_compression_format_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "compression_format",
                  "constraint_name": "core_fact_compression_format_compression_format_fkey",
                  "reference": {
                     "title": "Compression Format",
                     "resource": "file_format",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_data_type",
         "description": "An exploded representation of the core_fact.data_types array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "data_type",
                  "description": "The numeric ID of a term found in the core_fact.data_types array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["data_type", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "data_type"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_data_type_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "data_type",
                  "constraint_name": "core_fact_data_type_data_type_fkey",
                  "reference": {
                     "resource": "data_type",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_mime_type",
         "description": "An exploded representation of the core_fact.mime_types array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "mime_type",
                  "description": "The numeric ID of a term found in the core_fact.mime_types array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["mime_type", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "mime_type"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_mime_type_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "mime_type",
                  "constraint_name": "core_fact_mime_type_mime_type_fkey",
                  "reference": {
                     "resource": "mime_type",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "core_fact_dbgap_study_id",
         "description": "An exploded representation of the core_fact.dbgap_study_ids array column as a binary association.",
         "schema": {
            "fields": [
               {
                  "name": "core_fact",
                  "title": "Numeric ID",
                  "description": "The numeric ID of a core_fact record in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "dbgap_study_id",
                  "description": "The numeric ID of a term found in the core_fact.dbgap_study_ids array column.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["dbgap_study_id", "core_fact"],
                        "trgm": false
                     }
                  }
               }
            ],
            "primaryKey": ["core_fact", "dbgap_study_id"],
            "foreignKeys": [
               {
                  "fields": "core_fact",
                  "constraint_name": "core_fact_dbgap_study_id_core_fact_fkey",
                  "reference": {
                     "resource": "core_fact",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "dbgap_study_id",
                  "constraint_name": "core_fact_dbgap_study_id_dbgap_study_id_fkey",
                  "reference": {
                     "resource": "dbgap_study_id",
                     "fields": "nid"
                  }
               }
            ]
         }
      },

      {
         "profile": "tabular-data-resource",
         "name": "keywords",
         "description": "Textual keywords corpus for portal UI search-box.",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this keywords list in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "kw",
                  "description": "A pre-computed set of keywords/strings used by the CFDE search UI.",
                  "type": "string",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": false,
                        "trgm": true
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": "nid"
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "file_keywords",
         "description": "Association of search keyword lists to C2M2 file records",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this associated pair in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "file",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing a file in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "kw",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing a keyword list in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["kw", "file"],
                        "trgm": false
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "file", "kw" ],
            "foreignKeys": [
               {
                  "fields": "file",
                  "constraint_name": "file_keywords_file_fkey",
                  "reference": {
                     "resource": "file",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "kw",
                  "constraint_name": "file_keywords_kw_fkey",
                  "reference": {
                     "resource": "keywords",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "biosample_keywords",
         "description": "Association of search keyword lists to C2M2 biosample records",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this associated pair in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "biosample",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing a biosample in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "kw",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing a keyword list in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["kw", "biosample"],
                        "trgm": false
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "biosample", "kw" ],
            "foreignKeys": [
               {
                  "fields": "biosample",
                  "constraint_name": "biosample_keywords_biosample_fkey",
                  "reference": {
                     "resource": "biosample",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "kw",
                  "constraint_name": "biosample_keywords_kw_fkey",
                  "reference": {
                     "resource": "keywords",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "subject_keywords",
         "description": "Association of search keyword lists to C2M2 subject records",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this associated pair in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "subject",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing a subject in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "kw",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing a keyword list in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["kw", "subject"],
                        "trgm": false
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "subject", "kw" ],
            "foreignKeys": [
               {
                  "fields": "subject",
                  "constraint_name": "subject_keywords_subject_fkey",
                  "reference": {
                     "resource": "subject",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "kw",
                  "constraint_name": "subject_keywords_kw_fkey",
                  "reference": {
                     "resource": "keywords",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "collection_keywords",
         "description": "Association of search keyword lists to C2M2 collection records",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this associated pair in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "collection",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing a collection in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "kw",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing a keyword list in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "indexing_preferences": {
                        "btree": ["kw", "collection"],
                        "trgm": false
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "collection", "kw" ],
            "foreignKeys": [
               {
                  "fields": "collection",
                  "constraint_name": "collection_keywords_collection_fkey",
                  "reference": {
                     "resource": "collection",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "kw",
                  "constraint_name": "collection_keywords_kw_fkey",
                  "reference": {
                     "resource": "keywords",
                     "fields": "nid"
                  }
               }
            ]
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "ncpi_file",
         "title": "NCPI file manifest",
         "description": "Derived NCPI-compatible file manifest record for each C2M2 file",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this file in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "name",
                  "description": "File basename, supplied by the DCC as C2M2 file.filename",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "drs_uri",
                  "description": "Resolvable file ID, supplied by the DCC as C2M2 file.persistent_id",
                  "type": "string"
               },
               {
                  "name": "study_registration",
                  "description": "Namespace qualifying the study_id of the file, supplied by the DCC as C2M2 file.project_id_namespace",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "study_id",
                  "description": "The study ID of the file, supplied by the DCC as C2M2 file.project_local_id",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "participant_id",
                  "description": "A local identifier for a subject of the file (if known), supplied by the DCC as C2M2 subject.local_id",
                  "type": "string"
               },
               {
                  "name": "specimen_id",
                  "description": "A local identifier for a biospecimen of the file (if known), supplied by the DCC as C2M2 biosample.local_id",
                  "type": "string"
               },
               {
                  "name": "experimental_strategy",
                  "description": "The type of experiment producing the file (if known), supplied by the DCC as C2M2 file.assay_type and assay_type.name",
                  "type": "string"
               },
               {
                  "name": "file_format",
                  "description": "The format of the file (if known), supplied by the DCC as C2M2 file.file_format and file_format.name",
                  "type": "string"
               }
            ],
            "primaryKey": "nid",
            "foreignKeys": [
               {
                  "fields": [ "nid" ],
                  "constraint_name": "ncpi_file_nid_fkey",
                  "reference": {
                     "resource": "file",
                     "fields": [ "nid" ]
                  }
               }
            ]
         }
      },

      {
         "profile": "tabular-data-resource",
         "name": "level1_stats",
         "title": "Legacy Core Statistics",
         "description": "Basic statistical roll-up of core entities by metadata combination.",
         "schema": {
            "fields": [
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this fact in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true,
                     "unique": true
                  }
               },
               {
                  "name": "root_project_nid",
                  "description": "The numeric ID of attributed root project (DCC)",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_nid",
                  "description": "The numeric ID of attributed project",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "assay_type_nid",
                  "description": "The numeric ID for a file assay type",
                  "type": "integer"
               },
               {
                  "name": "analysis_type_nid",
                  "description": "The numeric ID for a file analysis type",
                  "type": "integer"
               },
               {
                  "name": "data_type_nid",
                  "description": "The numeric ID of a file data type",
                  "type": "integer"
               },
               {
                  "name": "file_format_nid",
                  "description": "The numeric ID for a file format type",
                  "type": "integer"
               },
               {
                  "name": "anatomy_nid",
                  "description": "The numeric ID for an anatomical source of biosamples",
                  "type": "integer"
               },
               {
                  "name": "disease_nid",
                  "description": "The numeric ID for a biosample or subject disease code",
                  "type": "integer"
               },
               {
                  "name": "granularity_nid",
                  "description": "The numeric ID for granularity of described subjects",
                  "type": "integer"
               },
               {
                  "name": "species_nid",
                  "description": "The numeric ID for single organism subject species, a subset of subject taxonomy concepts",
                  "type": "integer"
               },
               {
                  "name": "sex_nid",
                  "description": "The numeric ID for the sex of described subjects",
                  "type": "integer"
               },
               {
                  "name": "race_nid",
                  "description": "The numeric ID for the race of described subjects",
                  "type": "integer"
               },
               {
                  "name": "ethnicity_nid",
                  "description": "The numeric ID for the ethnicity of described subjects",
                  "type": "integer"
               },
               {
                  "name": "root_project_id_namespace",
                  "description": "Identifier namespace for attributed root project (DCC)",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "root_project_local_id",
                  "description": "The ID of attributed root project (DCC)",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_id_namespace",
                  "description": "Identifier namespace for attributed project",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "project_local_id",
                  "description": "The ID of attributed project",
                  "type": "string",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "assay_type_id",
                  "description": "The numeric ID of a CFDE CV term for generated file assay types",
                  "type": "string"
               },
               {
                  "name": "analysis_type_id",
                  "description": "A CFDE CV term for generated file analysis types",
                  "type": "string"
               },
               {
                  "name": "data_type_id",
                  "description": "A CFDE CV term for generated file data types",
                  "type": "string"
               },
               {
                  "name": "file_format_id",
                  "description": "A CFDE CV term for generated file format types",
                  "type": "string"
               },
               {
                  "name": "anatomy_id",
                  "description": "A CFDE CV term for anatomical sources of collected biosamples",
                  "type": "string"
               },
               {
                  "name": "disease_id",
                  "description": "A CFDE CV term for biosample or subject disease codes",
                  "type": "string"
               },
               {
                  "name": "granularity_id",
                  "description": "A CFDE CV term for granularity of described subjects",
                  "type": "string"
               },
               {
                  "name": "species_id",
                  "description": "A CFDE CV term for single organism subject species, a subset of subject taxonomy concepts",
                  "type": "string"
               },
               {
                  "name": "sex_id",
                  "description": "A CFDE CV term for the sex of described subjects",
                  "type": "string"
               },
               {
                  "name": "race_id",
                  "description": "A CFDE CV term for the race of described subjects",
                  "type": "string"
               },
               {
                  "name": "ethnicity_id",
                  "description": "A CFDE CV term for the ethnicity of described subjects",
                  "type": "string"
               },
               {
                  "name": "num_files",
                  "description": "The number of files related to this combination of metadata terms",
                  "type": "integer"
               },
               {
                  "name": "num_bytes",
                  "description": "The total size in bytes of files related to this combination of metadata terms",
                  "type": "integer",
                  "format": "int8"
               },
               {
                  "name": "num_biosamples",
                  "description": "The number of biosamples related to this combination of metadata terms",
                  "type": "integer"
               },
               {
                  "name": "num_subjects",
                  "description": "The number of subjects related to this combination of metadata terms",
                  "type": "integer"
               }
            ],
            "primaryKey": [
               "project_nid",
               "assay_type_nid",
               "analysis_type_nid",
               "data_type_nid",
               "file_format_nid",
               "anatomy_nid",
               "disease_nid",
               "granularity_nid",
               "species_nid",
               "sex_nid",
               "race_nid",
               "ethnicity_nid"
            ],
            "foreignKeys": [
               {
                  "fields": [ "root_project_nid" ],
                  "constraint_name": "level1_stats_root_project_fkey",
                  "reference": {
                     "title": "Attributed Root Project",
                     "resource": "project",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": [ "project_nid" ],
                  "constraint_name": "level1_stats_project_fkey",
                  "reference": {
                     "title": "Attributed Project",
                     "resource": "project",
                     "fields": [ "nid" ]
                  }
               },
               {
                  "fields": "assay_type_nid",
                  "constraint_name": "level1_stats_assay_type_fkey",
                  "reference": {
                     "title": "Assay Type",
                     "resource": "assay_type",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "analysis_type_nid",
                  "constraint_name": "level1_stats_analysis_type_fkey",
                  "reference": {
                     "title": "Analysis Type",
                     "resource": "analysis_type",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "data_type_nid",
                  "constraint_name": "level1_stats_data_type_fkey",
                  "reference": {
                     "title": "Data Type",
                     "resource": "data_type",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "file_format_nid",
                  "constraint_name": "level1_stats_file_format_fkey",
                  "reference": {
                     "title": "File Format",
                     "resource": "file_format",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "anatomy_nid",
                  "constraint_name": "level1_stats_anatomy_fkey",
                  "reference": {
                     "title": "Anatomy",
                     "resource": "anatomy",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "disease_nid",
                  "constraint_name": "level1_stats_disease_fkey",
                  "reference": {
                     "title": "Disease",
                     "resource": "disease",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "granularity_nid",
                  "constraint_name": "level1_stats_granularity_fkey",
                  "reference": {
                     "title": "Subject Granularity",
                     "resource": "subject_granularity",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "species_nid",
                  "constraint_name": "level1_stats_species_fkey",
                  "reference": {
                     "title": "Subject Species",
                     "resource": "ncbi_taxonomy",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "sex_nid",
                  "constraint_name": "level1_stats_sex_fkey",
                  "reference": {
                     "title": "Subject Sex",
                     "resource": "sex",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "race_nid",
                  "constraint_name": "level1_stats_race_fkey",
                  "reference": {
                     "title": "Subject Race",
                     "resource": "race",
                     "fields": "nid"
                  }
               },
               {
                  "fields": "ethnicity_nid",
                  "constraint_name": "level1_stats_ethnicity_fkey",
                  "reference": {
                     "title": "Subject Ethnicity",
                     "resource": "ethnicity",
                     "fields": "nid"
                  }
               }
            ]
         },
         "deriva": {
            "table_display": {
               "row_name": {
                  "row_markdown_pattern": "{{nid}}"
               }
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_root_project": {
                     "comment": "A root project (DCC) to which a set of C2M2 entities is implicitly attributed.",
                     "source": [{"outbound": ["CFDE", "level1_stats_root_project_fkey"]}, "nid"]
                  },
                  "S_project": {
                     "comment": "A particular project to which a set of C2M2 entities is explicitly attributed.",
                     "source": [{"outbound": ["CFDE", "level1_stats_project_fkey"]}, "nid"]
                  },
                  "S_assay_type": {
                     "comment": "An assay-type CV term associated with a set of C2M2 entities.",
                     "source": [{"outbound": ["CFDE", "level1_stats_assay_type_fkey"]}, "nid"]
                  },
                  "S_data_type": {
                     "comment": "A data-type  CV term associated with a set of C2M2 entities.",
                     "source": [{"outbound": ["CFDE", "level1_stats_data_type_fkey"]}, "nid"]
                  },
                  "S_file_format": {
                     "comment": "A file-format  CV term associated with a set of C2M2 entities.",
                     "source": [{"outbound": ["CFDE", "level1_stats_file_format_fkey"]}, "nid"]
                  },
                  "S_anatomy": {
                     "comment": "An anatomy CV term associated with a set of C2M2 entities.",
                     "source": [{"outbound": ["CFDE", "level1_stats_anatomy_fkey"]}, "nid"]
                  },
                  "S_disease": {
                     "comment": "A disease CV term associated with a set of C2M2 entities.",
                     "source": [{"outbound": ["CFDE", "level1_stats_disease_fkey"]}, "nid"]
                  },
                  "S_granularity": {
                     "comment": "A subject granularity CV term associated with a set of C2M2 entities.",
                     "source": [{"outbound": ["CFDE", "level1_stats_granularity_fkey"]}, "nid"]
                  },
                  "S_species": {
                     "comment": "A single-organism subject species CV term associated with a set of C2M2 entities.",
                     "source": [{"outbound": ["CFDE", "level1_stats_species_fkey"]}, "nid"]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  {"sourcekey": "S_root_project"},
                  {"sourcekey": "S_project"},
                  {"sourcekey": "S_assay_type"},
                  {"sourcekey": "S_data_type"},
                  {"sourcekey": "S_file_format"},
                  {"sourcekey": "S_anatomy"},
                  {"sourcekey": "S_disease"},
                  {"sourcekey": "S_granularity"},
                  {"sourcekey": "S_species"},
                  {"source": "num_files"},
                  {"source": "num_bytes"},
                  {"source": "num_biosamples"},
                  {"source": "num_subjects"}
               ],
               "compact": [
                  {"sourcekey": "S_project"},
                  {"sourcekey": "S_assay_type"},
                  {"sourcekey": "S_data_type"},
                  {"sourcekey": "S_file_format"},
                  {"sourcekey": "S_anatomy"},
                  {"sourcekey": "S_disease"},
                  {"sourcekey": "S_granularity"},
                  {"sourcekey": "S_species"},
                  {
                     "markdown_name": "Counts",
                     "source": "num_files",
                     "comment": "Summary counts of file, biosample, and subjects related to each combination of metadata terms.",
                     "display": {
                        "markdown_pattern": "{{#_num_files}}- {{num_files}} files\n{{/_num_files}}{{#_num_biosamples}}- {{num_biosamples}} biosamples\n{{/_num_biosamples}}{{#_num_subjects}}- {{num_subjects}} subjects\n{{/_num_subjects}}"
                     }
                  }
               ],
               "filter": {"and": [
                  {"sourcekey": "S_root_project"},
                  {"sourcekey": "S_project"},
                  {"sourcekey": "S_assay_type"},
                  {"sourcekey": "S_data_type"},
                  {"sourcekey": "S_file_format"},
                  {"sourcekey": "S_anatomy"},
                  {"sourcekey": "S_disease"},
                  {"sourcekey": "S_granularity"},
                  {"sourcekey": "S_species"},
                  {"source": "num_files"},
                  {"source": "num_bytes"},
                  {"source": "num_biosamples"},
                  {"source": "num_subjects"}
               ]}
            }
         }
      },

      {
         "profile": "tabular-data-resource",
         "resourceSchema": "public",
         "name": "ERMrest_Client",
         "title": "ERMrest Client",
         "description": "Authentication information each logged in user.",
         "schema": {
            "fields": [
               {
                  "name": "ID",
                  "description": "The authentication system ID for the user",
                  "type": "string",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                  }
               },
               {
                  "name": "Display_Name",
                  "description": "The display name for the user",
                  "type": "string",
                  "deriva": {
                  }
               },
               {
                  "name": "Full_Name",
                  "description": "The full name for the user",
                  "type": "string",
                  "deriva": {
                  }
               },
               {
                  "name": "Email",
                  "description": "The email address for the user",
                  "type": "string",
                  "deriva": {
                     "acls": {
                        "select": [ "cfde_portal_admin", "cfde_portal_curator" ],
                        "enumerate": [ "cfde_portal_admin", "cfde_portal_curator" ]
                     },
                     "acl_bindings": {
                        "data_submitter": false
                     }
                  }
               },
               {
                  "name": "Client_Object",
                  "description": "The email address for the user",
                  "type": "object",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "select": [],
                        "enumerate": [ "cfde_submission_pipeline" ]
                     },
                     "acl_bindings": {
                        "data_submitter": false
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": ["ID" ]
         },
         "deriva": {
            "provide_nid": false,
            "acls": {
               "select": [ "cfde_portal_admin", "cfde_portal_curator", "cfde_portal_reviewer" ],
               "insert": [ "cfde_portal_admin", "cfde_submission_pipeline" ],
               "update": [],
               "delete": []
            },
            "acl_bindings": {
               "profile_owner": {
                  "types": ["select"],
                  "projection": [
                     "ID"
                  ],
                  "projection_type": "acl",
                  "scope_acl": ["*"]
               }
            },
            "table_display": {
               "row_name": {
                  "row_markdown_pattern": "{{{Full_Name}}} ({{{Display_Name}}})"
               }
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "personal_collection",
         "title": "Personal Collection",
         "description": "A grouping of files of interest to a user",
         "schema": {
            "fields": [
               {
                  "name": "RCB",
                  "title": "Created By",
                  "description": "Record created by (system-generated).",
                  "type": "string",
                  "format": "ermrest_rcb",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "select": ["*"],
                        "update": []
                     },
                     "acl_bindings": {
                        "collection_owner": false
                     }
                  }
               },
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this collection in the portal.",
                  "type": "integer",
                  "format": "serial",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "select": ["*"],
                        "update": []
                     },
                     "acl_bindings": {
                        "collection_owner": false
                     },
                     "generated": true,
                     "immutable": true
                  }
               },
               {
                  "name": "name",
                  "description": "A short, human-readable label for this collection",
                  "type": "string",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "select": ["*"],
                        "update": []
                     },
                     "acl_bindings": {
                     }
                  }
               },
               {
                  "name": "description",
                  "description": "A human-readable description of this collection",
                  "type": "string",
                  "format": "markdown",
                  "deriva": {
                     "acls": {
                        "select": ["*"],
                        "update": []
                     },
                     "acl_bindings": {
                     }
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "nid" ],
            "foreignKeys": [
               {
                  "fields": ["RCB" ],
                  "constraint_name": "personal_collection_RCB_fkey",
                  "reference": {
                     "title": "Owner",
                     "resourceSchema": "public",
                     "resource": "ERMrest_Client",
                     "fields": ["ID"]
                  },
                  "on_update": "CASCADE",
                  "on_delete": "CASCADE",
                  "deriva": {
                     "noprune": true,
                     "acls": {
                        "insert": [ "cfde_portal_admin" ]
                     },
                     "acl_bindings": {
                        "self": {
                           "types": ["insert"],
                           "projection": [ "RCB" ],
                           "projection_type": "acl",
                           "scope_acl": ["*"]
                        }
                     }
                  }
               }
            ]
         },
         "deriva": {
            "provide_system": true,
            "provide_nid": true,
            "history_capture": false,
            "indexing_preferences": {
               "btree": false,
               "trgm": false
            },
            "acls": {
               "select": [ ],
               "insert": [ "cfde_portal_admin", "cfde_portal_members", "cfde_portal_curator", "cfde_portal_reviewer" ],
               "update": [ ],
               "delete": [ ]
            },
            "acl_bindings": {
               "collection_owner": {
                  "types": ["select", "update", "delete"],
                  "projection": [
                     "RCB"
                  ],
                  "projection_type": "acl",
                  "scope_acl": ["cfde_portal_members"]
               }
            },
            "table_display": {
               "row_name": {
                  "row_markdown_pattern": "{{{name}}} ({{{RID}}})"
               }
            },
            "visible_foreign_keys": {
               "*": [
                  {
                     "markdown_name": "File in Collection",
                     "source": [
                        {"inbound": ["CFDE", "personal_collection_file_collection_fkey"]},
                        {"outbound": ["CFDE", "personal_collection_file_file_fkey"]},
                        "nid"
                     ]
                  }
               ]
            },
            "source_definitions": {
               "columns": true,
               "fkeys": true,
               "sources": {
                  "S_name": {
                     "markdown_name": "Name",
                     "comment": "A short name applied to the personal collection by its owner (plus disambiguating record ID).",
                     "display": {
                        "markdown_pattern": "{{{name}}} ({{{RID}}})"
                     }
                  },
                  "S_RCB": {
                     "markdown_name": "Owner",
                     "description": "Portal user who owns the personal collection.",
                     "source": [
                        {"outbound": ["CFDE", "personal_collection_RCB_fkey"]},
                        "RID"
                     ]
                  }
               }
            },
            "visible_columns": {
               "*": [
                  "RID",
                  "name",
                  "description",
                  ["CFDE", "personal_collection_RCB_fkey"]
               ],
               "compact": [
                  "name",
                  "description",
                  ["CFDE", "personal_collection_RCB_fkey"]
               ],
               "entry": [
                  "name",
                  "description"
               ],
               "filter": {"and": [
                  {"sourcekey": "S_RCB"},
                  {"source": "RCT"}
               ]},
               "export": []
            },
            "export_2019": {
               "detailed": {
                  "templates": [
                     {
                        "displayname": "File Manifest",
                        "type": "BAG",
                        "outputs": [
                           {
                              "source": {
                                 "api": "entity",
                                 "path": "personal_collection_file/CFDE:file/(nid)=(c2m2:file:nid)"
                              },
                              "destination": {
                                 "name": "file",
                                 "type": "csv"
                              }
                           }
                        ]
                     },
                     {
                        "displayname": "NCPI file manifest",
                        "type": "FILE",
                        "outputs": [
                           {
                              "source": {
                                 "api": "attribute",
                                 "path": "personal_collection_file/m:=CFDE:file/cf:=(core_fact)=(CFDE:core_fact:nid)/$m/Md:=c2m2:file/$m/left(nid)=(CFDE:file_describes_subject:file)/Sd:=left(subject)=(c2m2:subject:nid)/$m/left(nid)=(CFDE:file_describes_biosample:file)/Bd:=left(biosample)=(c2m2:biosample:nid)/$m/name:=m:filename,drs_uri:=m:persistent_id,study_registration:=Md:project_id_namespace,study_id:=Md:project_local_id,participant_id:=Sd:local_id,specimen_id:=Bd:local_id,experimental_strategy:=cf:assay_type_row,file_format:=cf:file_format_row,file_nid:=m:nid"
                              },
                              "destination": {
                                 "name": "ncpi_manifest.json",
                                 "type": "json-stream"
                              }
                           }
                        ],
                        "transforms": [
                           {
                              "name": "ncpi_manifest_transformed",
                              "processor": "column",
                              "processor_params": {
                                 "input_path": "ncpi_manifest.json",
                                 "output_path": "ncpi_manifest_transformed.json",
                                 "column_transforms": {
                                    "experimental_strategy": {"fn": "replace", "value": {"key":"experimental_strategy", "value":"name"}},
                                    "file_format": {"fn": "replace", "value": {"key":"file_format", "value":"name"}},
                                    "file_nid": {"fn": "delete"}
                                 }
                              }
                           },
                           {
                              "name": "ncpi_manifest",
                              "processor": "json2csv",
                              "processor_params": {
                                 "input_path": "ncpi_manifest_transformed.json",
                                 "output_path": "ncpi_manifest.csv",
                                 "include_header": true
                              }
                           }
                        ]
                     }
                  ]
               }
            }
         }
      },
      {
         "profile": "tabular-data-resource",
         "name": "personal_collection_file",
         "description": "Association of files to users' personal collections.",
         "schema": {
            "fields": [
               {
                  "name": "RCB",
                  "title": "Created By",
                  "description": "Record created by (system-generated).",
                  "type": "string",
                  "format": "ermrest_rcb",
                  "constraints": {
                     "required": true
                  },
                  "deriva": {
                     "acls": {
                        "select": ["*"],
                        "update": []
                     },
                     "acl_bindings": {
                        "association_owner": false
                     }
                  }
               },
               {
                  "name": "nid",
                  "title": "Numeric ID",
                  "description": "Numeric, surrogate key representing this association in the portal.",
                  "type": "integer",
                  "format": "serial",
                  "constraints": {
                     "required": true,
                     "unique": true
                  },
                  "deriva": {
                     "acls": {
                        "select": ["*"],
                        "update": []
                     },
                     "acl_bindings": {
                        "association_owner": false
                     },
                     "generated": true,
                     "immutable": true
                  }
               },
               {
                  "name": "collection",
                  "description": "Numeric, surrogate key representing the personal collection in the portal.",
                  "type": "integer",
                  "constraints": {
                     "required": true
                  }
               },
               {
                  "name": "file",
                  "description": "A file's persistent ID in the portal.",
                  "type": "string",
                  "constraints": {
                     "required": true
                  },
                  "indexing_preferences": {
                     "btree": ["file", "collection"],
                     "trgm": false
                  }
               }
            ],
            "missingValues": [ "" ],
            "primaryKey": [ "collection", "file" ],
            "foreignKeys": [
               {
                  "fields": [ "collection" ],
                  "constraint_name": "personal_collection_file_collection_fkey",
                  "reference": {
                     "title": "Part of Personal Collection",
                     "resource": "personal_collection",
                     "fields": [ "nid" ]
                  },
                  "on_update": "CASCADE",
                  "on_delete": "CASCADE",
                  "deriva": {
                     "acls": {
                        "insert": [ "cfde_portal_admin" ]
                     },
                     "acl_bindings": {
                        "self": {
                           "types": ["insert"],
                           "projection": [ "RCB" ],
                           "projection_type": "acl",
                           "scope_acl": ["*"]
                        }
                     }
                  }
               },
               {
                  "fields": [ "file" ],
                  "constraint_name": "personal_collection_file_file_fkey",
                  "reference": {
                     "title": "File in Collection",
                     "resource": "file",
                     "fields": [ "persistent_id" ]
                  },
                  "on_update": "CASCADE",
                  "on_delete": "CASCADE"
               }
            ]
         },
         "deriva": {
            "provide_system": true,
            "provide_nid": true,
            "history_capture": false,
            "indexing_preferences": {
               "btree": false,
               "trgm": false
            },
            "acls": {
               "select": [ ],
               "insert": [ "cfde_portal_admin", "cfde_portal_members", "cfde_portal_curator", "cfde_portal_reviewer" ],
               "update": [ ],
               "delete": [ ]
            },
            "acl_bindings": {
               "association_owner": {
                  "types": ["select", "update", "delete"],
                  "projection": [
                     "RCB"
                  ],
                  "projection_type": "acl",
                  "scope_acl": ["cfde_portal_members"]
               }
            }
         }
      }

   ]
}
